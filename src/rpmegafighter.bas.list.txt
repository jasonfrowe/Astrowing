------- FILE rpmegafighter.bas.asm LEVEL 1 PASS 3
      1  10000 ????						; MACRO.H
      2  10000 ????
      3  10000 ????						; Based on the 2600 macro.h file.
      4  10000 ????						; Macros irrelevant to the 7800 have been removed, and the sleep macro
      5  10000 ????						; has been adapted to give accurate results on the 7800.
      6  10000 ????
      7  10000 ????						; Version 1.0 2019/12/11 (based on the 2600 Version 1.05, 13/NOVEMBER/2003)
      8  10000 ????
      9  10000 ????						; Available macros...
     10  10000 ????						;   SLEEP n		 - sleep for n cycles
     11  10000 ????						;   SET_POINTER	 - load a 16-bit absolute to a 16-bit variable
     12  10000 ????
     13  10000 ????						;-------------------------------------------------------------------------------
     14  10000 ????						; SLEEP duration
     15  10000 ????						; Original author: Thomas Jentzsch
     16  10000 ????						; Inserts code which takes the specified number of cycles to execute.	This is
     17  10000 ????						; useful for code where precise timing is required.
     18  10000 ????						; ILLEGAL-OPCODE VERSION DOES NOT AFFECT FLAGS OR REGISTERS.
     19  10000 ????						; LEGAL OPCODE VERSION MAY AFFECT FLAGS
     20  10000 ????						; Uses illegal opcode (DASM 2.20.01 onwards).
     21  10000 ????
     22  10000 ????				       MAC	sleep
     23  10000 ????			    .CYCLES    SET	{1}
     24  10000 ????
     25  10000 ????				       IF	.CYCLES < 2
     26  10000 ????				       ECHO	"MACRO ERROR: 'SLEEP': Duration must be > 1"
     27  10000 ????				       ERR
     28  10000 ????				       ENDIF
     29  10000 ????
     30  10000 ????				       IF	.CYCLES & 1
     31  10000 ????				       IFNCONST	NO_ILLEGAL_OPCODES
     32  10000 ????				       nop	$80
     33  10000 ????				       ELSE
     34  10000 ????				       bit	$80
     35  10000 ????				       ENDIF
     36  10000 ????			    .CYCLES    SET	.CYCLES - 3
     37  10000 ????				       ENDIF
     38  10000 ????
     39  10000 ????				       REPEAT	.CYCLES / 2
     40  10000 ????				       nop
     41  10000 ????				       REPEND
     42  10000 ????				       ENDM		;usage: SLEEP n (n>1)
     43  10000 ????
     44  10000 ????
     45  10000 ????						;-------------------------------------------------------------------------------
     46  10000 ????						; FRACSLEEP duration
     47  10000 ????						; Based on Thomas Jentzsch's SLEEP macro, but takes cycles*2 to allow for
     48  10000 ????						; 7800 based 0.5 cycle sleep.
     49  10000 ????
     50  10000 ????				       MAC	fracsleep
     51  10000 ????			    .CYCLES    SET	{1}
     52  10000 ????
     53  10000 ????				       IF	.CYCLES < 4
     54  10000 ????				       ECHO	"MACRO ERROR: 'FRACSLEEP': Duration must be > 4"
     55  10000 ????				       ERR
     56  10000 ????				       ENDIF
     57  10000 ????				       IF	.CYCLES = 5
     58  10000 ????				       ECHO	"MACRO ERROR: 'FRACSLEEP': Duration = 5 is impossible"
     59  10000 ????				       ERR
     60  10000 ????				       ENDIF
     61  10000 ????
     62  10000 ????				       IF	.CYCLES & 1
     63  10000 ????				       IFNCONST	NO_ILLEGAL_OPCODES
     64  10000 ????				       nop	$0	; TIA access is 3.5 cycles
     65  10000 ????				       ELSE
     66  10000 ????				       bit	$0	; TIA access is 3.5 cycles
     67  10000 ????				       ENDIF
     68  10000 ????			    .CYCLES    SET	.CYCLES - 7
     69  10000 ????				       ENDIF
     70  10000 ????
     71  10000 ????				       IF	.CYCLES & 2
     72  10000 ????				       IFNCONST	NO_ILLEGAL_OPCODES
     73  10000 ????				       nop	$80
     74  10000 ????				       ELSE
     75  10000 ????				       bit	$80
     76  10000 ????				       ENDIF
     77  10000 ????			    .CYCLES    SET	.CYCLES - 6
     78  10000 ????				       ENDIF
     79  10000 ????
     80  10000 ????				       REPEAT	.CYCLES / 4
     81  10000 ????				       nop
     82  10000 ????				       REPEND
     83  10000 ????				       ENDM		;usage: FRACSLEEP n (n>1)
     84  10000 ????
     85  10000 ????
     86  10000 ????						;-------------------------------------------------------
     87  10000 ????						; SET_POINTER
     88  10000 ????						; Original author: Manuel Rotschkar
     89  10000 ????						;
     90  10000 ????						; Sets a 2 byte RAM pointer to an absolute address.
     91  10000 ????						;
     92  10000 ????						; Usage: SET_POINTER pointer, address
     93  10000 ????						; Example: SET_POINTER SpritePTR, SpriteData
     94  10000 ????						;
     95  10000 ????						; Note: Alters the accumulator, NZ flags
     96  10000 ????						; IN 1: 2 byte RAM location reserved for pointer
     97  10000 ????						; IN 2: absolute address
     98  10000 ????
     99  10000 ????				       MAC	set_pointer
    100  10000 ????			    .POINTER   SET	{1}
    101  10000 ????			    .ADDRESS   SET	{2}
    102  10000 ????
    103  10000 ????				       LDA	#<.ADDRESS	; Get Lowbyte of Address
    104  10000 ????				       STA	.POINTER	; Store in pointer
    105  10000 ????				       LDA	#>.ADDRESS	; Get Hibyte of Address
    106  10000 ????				       STA	.POINTER+1	; Store in pointer+1
    107  10000 ????
    108  10000 ????				       ENDM
    109  10000 ????
    110  10000 ????						; EOF
    111  10000 ????						; Provided under the CC0 license. See the included LICENSE.txt for details.
    112  10000 ????
    113  10000 ????						; 7800MACRO.H
    114  10000 ????
    115  10000 ????						;-------------------------------------------------------
    116  10000 ????						; BOXCOLLISIONCHECK
    117  10000 ????						; author: Mike Saarna
    118  10000 ????						;
    119  10000 ????						; A general bounding box collision check. compares 2 rectangles of differing size
    120  10000 ????						; and shape for overlap. Carry is set for collision detected, clear for none.
    121  10000 ????						;
    122  10000 ????						; Usage: BOXCOLLISIONCHECK x1var,y1var,w1var,h1var,x2var,y2var,w2var,h2var
    123  10000 ????						;
    124  10000 ????
    125  10000 ????				       MAC	boxcollisioncheck
    126  10000 ????			    .boxx1     SET	{1}
    127  10000 ????			    .boxy1     SET	{2}
    128  10000 ????			    .boxw1     SET	{3}
    129  10000 ????			    .boxh1     SET	{4}
    130  10000 ????			    .boxx2     SET	{5}
    131  10000 ????			    .boxy2     SET	{6}
    132  10000 ????			    .boxw2     SET	{7}
    133  10000 ????			    .boxh2     SET	{8}
    134  10000 ????
    135  10000 ????			    .DoXCollisionCheck
    136  10000 ????				       lda	.boxx1	;3
    137  10000 ????				       cmp	.boxx2	;2
    138  10000 ????				       bcs	.X1isbiggerthanX2	;2/3
    139  10000 ????			    .X2isbiggerthanX1
    140  10000 ????				       adc	#.boxw1	;2
    141  10000 ????				       cmp	.boxx2	;3
    142  10000 ????				       bcs	.DoYCollisionCheck	;3/2
    143  10000 ????				       bcc	.noboxcollision	;3
    144  10000 ????			    .X1isbiggerthanX2
    145  10000 ????				       clc		;2
    146  10000 ????				       sbc	#.boxw2	;2
    147  10000 ????				       cmp	.boxx2	;3
    148  10000 ????				       bcs	.noboxcollision	;3/2
    149  10000 ????			    .DoYCollisionCheck
    150  10000 ????				       lda	.boxy1	;3
    151  10000 ????				       cmp	.boxy2	;3
    152  10000 ????				       bcs	.Y1isbiggerthanY2	;3/2
    153  10000 ????			    .Y2isbiggerthanY1
    154  10000 ????				       adc	#.boxh1	;2
    155  10000 ????				       cmp	.boxy2	;3
    156  10000 ????				       jmp	.checkdone	;6
    157  10000 ????			    .Y1isbiggerthanY2
    158  10000 ????				       clc		;2
    159  10000 ????				       sbc	#.boxh2	;2
    160  10000 ????				       cmp	.boxy2	;3
    161  10000 ????				       bcs	.noboxcollision	;3/2
    162  10000 ????			    .boxcollision
    163  10000 ????				       sec		;2
    164  10000 ????				       .byte	$24	; hardcoded "BIT [clc opcode]", used to skip over the following clc
    165  10000 ????			    .noboxcollision
    166  10000 ????				       clc		;2
    167  10000 ????			    .checkdone
    168  10000 ????
    169  10000 ????				       ENDM
    170  10000 ????
    171  10000 ????						; QBOXCOLLISIONCHECK
    172  10000 ????						; author: unknown
    173  10000 ????						;
    174  10000 ????						; A general bounding box collision check. compares 2 rectangles of differing size
    175  10000 ????						; and shape for overlap. Carry is CLEAR for collision detected, SET for none.
    176  10000 ????						;
    177  10000 ????						; Usage: QBOXCOLLISIONCHECK x1var,y1var,w1var,h1var,x2var,y2var,w2var,h2var
    178  10000 ????						;
    179  10000 ????				       MAC	qboxcollisioncheck
    180  10000 ????			    .boxx1     SET	{1}
    181  10000 ????			    .boxy1     SET	{2}
    182  10000 ????			    .boxw1     SET	{3}
    183  10000 ????			    .boxh1     SET	{4}
    184  10000 ????			    .boxx2     SET	{5}
    185  10000 ????			    .boxy2     SET	{6}
    186  10000 ????			    .boxw2     SET	{7}
    187  10000 ????			    .boxh2     SET	{8}
    188  10000 ????
    189  10000 ????				       lda	.boxx2
    190  10000 ????				       clc
    191  10000 ????				       adc	#.boxw2
    192  10000 ????				       sbc	.boxx1
    193  10000 ????				       cmp	#.boxw1+.boxw2-1
    194  10000 ????				       bcs	.qboxcollisiondone
    195  10000 ????						;if we're here, carry is clear
    196  10000 ????				       lda	.boxy2
    197  10000 ????				       adc	#.boxh2
    198  10000 ????				       sbc	.boxy1
    199  10000 ????				       cmp	#.boxh1+.boxh2-1
    200  10000 ????			    .qboxcollisiondone
    201  10000 ????				       rol		; temp for testing - invert carry...
    202  10000 ????				       eor	#1
    203  10000 ????				       ror
    204  10000 ????				       ENDM
    205  10000 ????
    206  10000 ????
    207  10000 ????				       MAC	median3
    208  10000 ????
    209  10000 ????						; A median filter (for smoothing paddle jitter)
    210  10000 ????						;   this macro takes the current paddle value, compares it to historic
    211  10000 ????						;   values, and replaces the current paddle value with the median.
    212  10000 ????						;
    213  10000 ????						; called as:  MEDIAN3 STORAGE CURRENT
    214  10000 ????						;    where STORAGE points to 3 consecutive bytes of memory. The first 2
    215  10000 ????						;	  must be dedicated to this MEDIAN filter. The last 1 is a temp.
    216  10000 ????						;    where CURRENT is memory holding the new value you wish to compare to
    217  10000 ????						;	  the previous values, and update with the median value.
    218  10000 ????						;
    219  10000 ????						; returns: CURRENT (modified to contain median value)
    220  10000 ????						;
    221  10000 ????						; author: Mike Saarna (aka RevEng)
    222  10000 ????
    223  10000 ????			    .MedianBytes SET	{1}
    224  10000 ????			    .NewValue  SET	{2}
    225  10000 ????
    226  10000 ????				       lda	#0
    227  10000 ????				       ldy	.NewValue
    228  10000 ????				       sty	.MedianBytes+2	; put the new value in the most "recent" slot
    229  10000 ????
    230  10000 ????						; build an index from relative size comparisons between our 3 values.
    231  10000 ????				       cpy	.MedianBytes
    232  10000 ????				       rol
    233  10000 ????				       cpy	.MedianBytes+1
    234  10000 ????				       rol
    235  10000 ????				       ldy	.MedianBytes
    236  10000 ????				       cpy	.MedianBytes+1
    237  10000 ????				       rol
    238  10000 ????				       tay
    239  10000 ????
    240  10000 ????				       ldx	MedianOrderLUT,y	; convert the size-comparison index to an index to the median value
    241  10000 ????				       lda	.MedianBytes,x
    242  10000 ????				       sta	.NewValue	; we replace the new value memory with the median value
    243  10000 ????
    244  10000 ????						; then shift values from "newer" bytes to "older" bytes, leaving the
    245  10000 ????						; newest byte (.MedianBytes+2) empty for next time.
    246  10000 ????				       lda	.MedianBytes+1
    247  10000 ????				       sta	.MedianBytes
    248  10000 ????				       lda	.MedianBytes+2
    249  10000 ????				       sta	.MedianBytes+1
    250  10000 ????				       ifnconst	MedianOrderLUT
    251  10000 ????				       jmp	MedianOrderLUTend
    252  10000 ????			    MedianOrderLUT		; converts our "comparison index" to an index to the median value
    253  10000 ????				       .byte	0	; 0  B2 < B0 < B1
    254  10000 ????				       .byte	1	; 1  B2 < B1 < B0
    255  10000 ????				       .byte	2	; 2   impossible
    256  10000 ????				       .byte	2	; 3  B1 < B2 < B0
    257  10000 ????				       .byte	2	; 4  B0 < B2 < B1
    258  10000 ????				       .byte	2	; 5   impossible
    259  10000 ????				       .byte	1	; 6  B0 < B1 < B2
    260  10000 ????				       .byte	0	; 7  B1 < B0 < B2
    261  10000 ????			    MedianOrderLUTend
    262  10000 ????				       endif
    263  10000 ????				       ENDM
    264  10000 ????
    265  10000 ????				       MAC	plotsprite
    266  10000 ????
    267  10000 ????						; A macro version of the plotsprite command.
    268  10000 ????						; This trades off rom space for speed.
    269  10000 ????						; It also doesn't check if the visible screen is displayed or not.
    270  10000 ????						; It has no training wheels. It is all rusty sharp edges.
    271  10000 ????
    272  10000 ????			    .GFXLabel  SET	{1}	; constant
    273  10000 ????			    .Palette   SET	{2}	; constant/variable MACARG2CONST
    274  10000 ????			    .SpriteX   SET	{3}	; constant/variable MACARG3CONST
    275  10000 ????			    .SpriteY   SET	{4}	; constant/variable MACARG4CONST
    276  10000 ????			    .ByteOffset SET	{5}	; constant/variable MACARG5CONST
    277  10000 ????
    278  10000 ????				       if	MACARG4CONST = 0
    279  10000 ????				       lda	.SpriteY
    280  10000 ????				       else
    281  10000 ????				       lda	#.SpriteY
    282  10000 ????				       endif
    283  10000 ????
    284  10000 ????				       lsr
    285  10000 ????				       lsr
    286  10000 ????				       asr	#%11111110	; ensure carry is clear
    287  10000 ????				       if	WZONEHEIGHT = 16
    288  10000 ????				       asr	#%11111110	; ensure carry is clear
    289  10000 ????				       endif
    290  10000 ????
    291  10000 ????				       tax
    292  10000 ????
    293  10000 ????				       cpx	#WZONECOUNT
    294  10000 ????				       bcs	.PLOTSPRITEnext
    295  10000 ????						; carry is clear
    296  10000 ????
    297  10000 ????				       ifconst	VSCROLL
    298  10000 ????				       ldy	Xx3,x
    299  10000 ????				       lda	DLLMEM+11,y
    300  10000 ????				       else		; !VSCROLL
    301  10000 ????				       lda	DLPOINTL,x	; Get pointer to DL that this sprite starts in
    302  10000 ????				       endif
    303  10000 ????				       ifconst	DOUBLEBUFFER
    304  10000 ????				       adc	doublebufferdloffset
    305  10000 ????				       endif		; DOUBLEBUFFER
    306  10000 ????				       sta	dlpnt
    307  10000 ????				       ifconst	VSCROLL
    308  10000 ????				       lda	DLLMEM+10,y
    309  10000 ????				       else		; !VSCROLL
    310  10000 ????				       lda	DLPOINTH,x
    311  10000 ????				       endif		; !VSCROLL
    312  10000 ????				       ifconst	DOUBLEBUFFER
    313  10000 ????				       adc	#0
    314  10000 ????				       endif		; DOUBLEBUFFER
    315  10000 ????				       sta	dlpnt+1
    316  10000 ????
    317  10000 ????				       ldy	dlend,x	; find the next new object position in this zone
    318  10000 ????
    319  10000 ????				       ifconst	.ByteOffset
    320  10000 ????
    321  10000 ????				       if	MACARG5CONST = 1
    322  10000 ????				       lda	#.ByteOffset
    323  10000 ????				       else
    324  10000 ????				       lda	.ByteOffset
    325  10000 ????				       endif
    326  10000 ????				       ifconst	DOUBLEBUFFER
    327  10000 ????				       if	{1}_width = 1
    328  10000 ????				       clc
    329  10000 ????				       endif
    330  10000 ????				       endif
    331  10000 ????				       if	{1}_width = 2
    332  10000 ????				       asl
    333  10000 ????				       endif
    334  10000 ????				       if	{1}_width = 3
    335  10000 ????				       asl
    336  10000 ????				       if	MACARG5CONST = 1
    337  10000 ????				       adc	#.ByteOffset
    338  10000 ????				       else
    339  10000 ????				       adc	.ByteOffset
    340  10000 ????				       endif
    341  10000 ????				       endif
    342  10000 ????				       if	{1}_width = 4
    343  10000 ????				       asl
    344  10000 ????				       asl
    345  10000 ????				       endif
    346  10000 ????				       if	{1}_width = 5
    347  10000 ????				       asl
    348  10000 ????				       asl
    349  10000 ????				       if	MACARG5CONST = 1
    350  10000 ????				       adc	#.ByteOffset
    351  10000 ????				       else
    352  10000 ????				       adc	.ByteOffset
    353  10000 ????				       endif
    354  10000 ????				       endif
    355  10000 ????				       if	{1}_width = 6
    356  10000 ????				       asl
    357  10000 ????				       if	MACARG5CONST = 1
    358  10000 ????				       adc	#.ByteOffset
    359  10000 ????				       else
    360  10000 ????				       adc	.ByteOffset
    361  10000 ????				       endif
    362  10000 ????				       asl
    363  10000 ????				       endif
    364  10000 ????				       if	{1}_width = 7
    365  10000 ????				       asl
    366  10000 ????				       if	MACARG5CONST = 1
    367  10000 ????				       adc	#.ByteOffset
    368  10000 ????				       else
    369  10000 ????				       adc	.ByteOffset
    370  10000 ????				       endif
    371  10000 ????				       asl
    372  10000 ????				       if	MACARG5CONST = 1
    373  10000 ????				       adc	#.ByteOffset
    374  10000 ????				       else
    375  10000 ????				       adc	.ByteOffset
    376  10000 ????				       endif
    377  10000 ????				       endif
    378  10000 ????				       if	{1}_width = 8
    379  10000 ????				       asl
    380  10000 ????				       asl
    381  10000 ????				       asl
    382  10000 ????				       endif
    383  10000 ????				       if	{1}_width = 9
    384  10000 ????				       asl
    385  10000 ????				       asl
    386  10000 ????				       asl
    387  10000 ????				       if	MACARG5CONST = 1
    388  10000 ????				       adc	#.ByteOffset
    389  10000 ????				       else
    390  10000 ????				       adc	.ByteOffset
    391  10000 ????				       endif
    392  10000 ????				       endif
    393  10000 ????				       if	{1}_width = 10
    394  10000 ????				       asl
    395  10000 ????				       asl
    396  10000 ????				       if	MACARG5CONST = 1
    397  10000 ????				       adc	#.ByteOffset
    398  10000 ????				       else
    399  10000 ????				       adc	.ByteOffset
    400  10000 ????				       endif
    401  10000 ????				       asl
    402  10000 ????				       endif
    403  10000 ????				       if	{1}_width = 11
    404  10000 ????				       asl
    405  10000 ????				       asl
    406  10000 ????				       if	MACARG5CONST = 1
    407  10000 ????				       adc	#.ByteOffset
    408  10000 ????				       else
    409  10000 ????				       adc	.ByteOffset
    410  10000 ????				       endif
    411  10000 ????				       asl
    412  10000 ????				       if	MACARG5CONST = 1
    413  10000 ????				       adc	#.ByteOffset
    414  10000 ????				       else
    415  10000 ????				       adc	.ByteOffset
    416  10000 ????				       endif
    417  10000 ????				       endif
    418  10000 ????				       if	{1}_width = 12
    419  10000 ????				       asl
    420  10000 ????				       if	MACARG5CONST = 1
    421  10000 ????				       adc	#.ByteOffset
    422  10000 ????				       else
    423  10000 ????				       adc	.ByteOffset
    424  10000 ????				       endif
    425  10000 ????				       asl
    426  10000 ????				       asl
    427  10000 ????				       endif
    428  10000 ????				       if	{1}_width = 13
    429  10000 ????				       asl
    430  10000 ????				       if	MACARG5CONST = 1
    431  10000 ????				       adc	#.ByteOffset
    432  10000 ????				       else
    433  10000 ????				       adc	.ByteOffset
    434  10000 ????				       endif
    435  10000 ????				       asl
    436  10000 ????				       asl
    437  10000 ????				       if	MACARG5CONST = 1
    438  10000 ????				       adc	#.ByteOffset
    439  10000 ????				       else
    440  10000 ????				       adc	.ByteOffset
    441  10000 ????				       endif
    442  10000 ????
    443  10000 ????				       endif
    444  10000 ????				       if	{1}_width = 14
    445  10000 ????				       asl
    446  10000 ????				       if	MACARG5CONST = 1
    447  10000 ????				       adc	#.ByteOffset
    448  10000 ????				       else
    449  10000 ????				       adc	.ByteOffset
    450  10000 ????				       endif
    451  10000 ????				       asl
    452  10000 ????				       if	MACARG5CONST = 1
    453  10000 ????				       adc	#.ByteOffset
    454  10000 ????				       else
    455  10000 ????				       adc	.ByteOffset
    456  10000 ????				       endif
    457  10000 ????				       asl
    458  10000 ????				       endif
    459  10000 ????				       if	{1}_width = 15
    460  10000 ????				       asl
    461  10000 ????				       if	MACARG5CONST = 1
    462  10000 ????				       adc	#.ByteOffset
    463  10000 ????				       else
    464  10000 ????				       adc	.ByteOffset
    465  10000 ????				       endif
    466  10000 ????				       asl
    467  10000 ????				       if	MACARG5CONST = 1
    468  10000 ????				       adc	#.ByteOffset
    469  10000 ????				       else
    470  10000 ????				       adc	.ByteOffset
    471  10000 ????				       endif
    472  10000 ????				       asl
    473  10000 ????				       if	MACARG5CONST = 1
    474  10000 ????				       adc	#.ByteOffset
    475  10000 ????				       else
    476  10000 ????				       adc	.ByteOffset
    477  10000 ????				       endif
    478  10000 ????				       endif
    479  10000 ????				       if	{1}_width = 16
    480  10000 ????				       asl
    481  10000 ????				       asl
    482  10000 ????				       asl
    483  10000 ????				       asl
    484  10000 ????				       endif
    485  10000 ????				       adc	#<.GFXLabel	; carry is clear via previous asl or asr
    486  10000 ????				       else
    487  10000 ????				       lda	#<.GFXLabel	; carry is clear via previous asl or asr
    488  10000 ????				       endif		; .ByteOffset
    489  10000 ????				       sta	(dlpnt),y	; #1 - low byte object address
    490  10000 ????
    491  10000 ????				       iny
    492  10000 ????
    493  10000 ????				       lda	#({1}_mode | %01000000)
    494  10000 ????				       sta	(dlpnt),y	; #2 - graphics mode , indirect
    495  10000 ????
    496  10000 ????				       iny
    497  10000 ????
    498  10000 ????				       if	MACARG4CONST = 0
    499  10000 ????				       lda	.SpriteY
    500  10000 ????				       else
    501  10000 ????				       lda	#.SpriteY
    502  10000 ????				       endif
    503  10000 ????				       and	#(WZONEHEIGHT - 1)
    504  10000 ????				       cmp	#1	; clear carry if our sprite is just in this zone
    505  10000 ????				       ora	#>.GFXLabel
    506  10000 ????				       sta	(dlpnt),y	; #3 - hi byte object address
    507  10000 ????
    508  10000 ????				       iny
    509  10000 ????
    510  10000 ????				       if	MACARG2CONST = 1
    511  10000 ????				       lda	#({1}_width_twoscompliment | (.Palette * 32))
    512  10000 ????				       else
    513  10000 ????				       lda	#({1}_width_twoscompliment)
    514  10000 ????				       ora	.Palette
    515  10000 ????				       endif
    516  10000 ????				       sta	(dlpnt),y	; #4 - palette|width
    517  10000 ????
    518  10000 ????				       iny
    519  10000 ????
    520  10000 ????				       if	MACARG3CONST = 1
    521  10000 ????				       lda	#.SpriteX
    522  10000 ????				       else
    523  10000 ????				       lda	.SpriteX
    524  10000 ????				       endif
    525  10000 ????				       sta	(dlpnt),y	; #5 - x object position
    526  10000 ????
    527  10000 ????				       iny
    528  10000 ????				       sty	dlend,x
    529  10000 ????
    530  10000 ????				       ifconst	ALWAYSTERMINATE
    531  10000 ????				       iny
    532  10000 ????				       lda	#0
    533  10000 ????				       sta	(dlpnt),y
    534  10000 ????				       endif
    535  10000 ????
    536  10000 ????				       bcc	.PLOTSPRITEend
    537  10000 ????
    538  10000 ????			    .PLOTSPRITEnext
    539  10000 ????				       inx		; next zone
    540  10000 ????
    541  10000 ????				       cpx	#WZONECOUNT
    542  10000 ????				       bcs	.PLOTSPRITEend
    543  10000 ????						; carry is clear
    544  10000 ????
    545  10000 ????				       ifconst	VSCROLL
    546  10000 ????				       ldy	Xx3,x
    547  10000 ????				       lda	DLLMEM+11,y
    548  10000 ????				       else		; !VSCROLL
    549  10000 ????				       lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
    550  10000 ????				       endif		; !VSCROLL
    551  10000 ????				       ifconst	DOUBLEBUFFER
    552  10000 ????				       adc	doublebufferdloffset
    553  10000 ????				       endif		; DOUBLEBUFFER
    554  10000 ????				       sta	dlpnt
    555  10000 ????				       ifconst	VSCROLL
    556  10000 ????				       lda	DLLMEM+10,y
    557  10000 ????				       else		; !VSCROLL
    558  10000 ????				       lda	DLPOINTH,x
    559  10000 ????				       endif		; !VSCROLL
    560  10000 ????				       ifconst	DOUBLEBUFFER
    561  10000 ????				       adc	#0
    562  10000 ????				       endif		; DOUBLEBUFFER
    563  10000 ????				       sta	dlpnt+1
    564  10000 ????
    565  10000 ????				       ldy	dlend,x	; find the next new object position in this zone
    566  10000 ????
    567  10000 ????				       ifconst	.ByteOffset
    568  10000 ????
    569  10000 ????				       if	MACARG5CONST = 1
    570  10000 ????				       lda	#.ByteOffset
    571  10000 ????				       else
    572  10000 ????				       lda	.ByteOffset
    573  10000 ????				       endif
    574  10000 ????				       if	{1}_width = 1
    575  10000 ????				       clc
    576  10000 ????				       endif
    577  10000 ????				       if	{1}_width = 2
    578  10000 ????				       asl		; carry clear
    579  10000 ????				       endif
    580  10000 ????				       if	{1}_width = 3
    581  10000 ????				       asl		; carry clear
    582  10000 ????				       if	MACARG5CONST = 1
    583  10000 ????				       adc	#.ByteOffset
    584  10000 ????				       else
    585  10000 ????				       adc	.ByteOffset
    586  10000 ????				       endif
    587  10000 ????				       endif
    588  10000 ????				       if	{1}_width = 4
    589  10000 ????				       asl		; carry clear
    590  10000 ????				       asl
    591  10000 ????				       endif
    592  10000 ????				       if	{1}_width = 5
    593  10000 ????				       asl		; carry clear
    594  10000 ????				       asl
    595  10000 ????				       if	MACARG5CONST = 1
    596  10000 ????				       adc	#.ByteOffset
    597  10000 ????				       else
    598  10000 ????				       adc	.ByteOffset
    599  10000 ????				       endif
    600  10000 ????				       endif
    601  10000 ????				       if	{1}_width = 6
    602  10000 ????				       asl		; carry clear
    603  10000 ????				       if	MACARG5CONST = 1
    604  10000 ????				       adc	#.ByteOffset
    605  10000 ????				       else
    606  10000 ????				       adc	.ByteOffset
    607  10000 ????				       endif
    608  10000 ????				       asl
    609  10000 ????				       endif
    610  10000 ????				       if	{1}_width = 7
    611  10000 ????				       asl		; carry clear
    612  10000 ????				       if	MACARG5CONST = 1
    613  10000 ????				       adc	#.ByteOffset
    614  10000 ????				       else
    615  10000 ????				       adc	.ByteOffset
    616  10000 ????				       endif
    617  10000 ????				       asl
    618  10000 ????				       endif
    619  10000 ????				       if	{1}_width = 8
    620  10000 ????				       asl		; carry clear
    621  10000 ????				       asl
    622  10000 ????				       asl
    623  10000 ????				       endif
    624  10000 ????				       if	{1}_width = 9
    625  10000 ????				       asl		; carry clear
    626  10000 ????				       asl
    627  10000 ????				       asl
    628  10000 ????				       if	MACARG5CONST = 1
    629  10000 ????				       adc	#.ByteOffset
    630  10000 ????				       else
    631  10000 ????				       adc	.ByteOffset
    632  10000 ????				       endif
    633  10000 ????				       endif
    634  10000 ????				       if	{1}_width = 10
    635  10000 ????				       asl		; carry clear
    636  10000 ????				       asl
    637  10000 ????				       if	MACARG5CONST = 1
    638  10000 ????				       adc	#.ByteOffset
    639  10000 ????				       else
    640  10000 ????				       adc	.ByteOffset
    641  10000 ????				       endif
    642  10000 ????				       asl
    643  10000 ????				       endif
    644  10000 ????				       if	{1}_width = 11
    645  10000 ????				       asl		; carry clear
    646  10000 ????				       asl
    647  10000 ????				       if	MACARG5CONST = 1
    648  10000 ????				       adc	#.ByteOffset
    649  10000 ????				       else
    650  10000 ????				       adc	.ByteOffset
    651  10000 ????				       endif
    652  10000 ????				       asl
    653  10000 ????				       if	MACARG5CONST = 1
    654  10000 ????				       adc	#.ByteOffset
    655  10000 ????				       else
    656  10000 ????				       adc	.ByteOffset
    657  10000 ????				       endif
    658  10000 ????				       endif
    659  10000 ????				       if	{1}_width = 12
    660  10000 ????				       asl		; carry clear
    661  10000 ????				       if	MACARG5CONST = 1
    662  10000 ????				       adc	#.ByteOffset
    663  10000 ????				       else
    664  10000 ????				       adc	.ByteOffset
    665  10000 ????				       endif
    666  10000 ????				       asl
    667  10000 ????				       asl
    668  10000 ????				       endif
    669  10000 ????				       if	{1}_width = 13
    670  10000 ????				       asl		; carry clear
    671  10000 ????				       if	MACARG5CONST = 1
    672  10000 ????				       adc	#.ByteOffset
    673  10000 ????				       else
    674  10000 ????				       adc	.ByteOffset
    675  10000 ????				       endif
    676  10000 ????				       asl
    677  10000 ????				       asl
    678  10000 ????				       if	MACARG5CONST = 1
    679  10000 ????				       adc	#.ByteOffset
    680  10000 ????				       else
    681  10000 ????				       adc	.ByteOffset
    682  10000 ????				       endif
    683  10000 ????				       endif
    684  10000 ????				       if	{1}_width = 14
    685  10000 ????				       asl		; carry clear
    686  10000 ????				       if	MACARG5CONST = 1
    687  10000 ????				       adc	#.ByteOffset
    688  10000 ????				       else
    689  10000 ????				       adc	.ByteOffset
    690  10000 ????				       endif
    691  10000 ????				       asl
    692  10000 ????				       if	MACARG5CONST = 1
    693  10000 ????				       adc	#.ByteOffset
    694  10000 ????				       else
    695  10000 ????				       adc	.ByteOffset
    696  10000 ????				       endif
    697  10000 ????				       asl
    698  10000 ????				       endif
    699  10000 ????				       if	{1}_width = 15
    700  10000 ????				       asl
    701  10000 ????				       if	MACARG5CONST = 1
    702  10000 ????				       adc	#.ByteOffset
    703  10000 ????				       else
    704  10000 ????				       adc	.ByteOffset
    705  10000 ????				       endif
    706  10000 ????				       asl
    707  10000 ????				       if	MACARG5CONST = 1
    708  10000 ????				       adc	#.ByteOffset
    709  10000 ????				       else
    710  10000 ????				       adc	.ByteOffset
    711  10000 ????				       endif
    712  10000 ????				       asl
    713  10000 ????				       if	MACARG5CONST = 1
    714  10000 ????				       adc	#.ByteOffset
    715  10000 ????				       else
    716  10000 ????				       adc	.ByteOffset
    717  10000 ????				       endif
    718  10000 ????				       endif
    719  10000 ????				       if	{1}_width = 16
    720  10000 ????				       asl
    721  10000 ????				       asl
    722  10000 ????				       asl
    723  10000 ????				       asl
    724  10000 ????				       endif
    725  10000 ????				       adc	#<.GFXLabel
    726  10000 ????				       else
    727  10000 ????				       lda	#<.GFXLabel
    728  10000 ????				       endif		; .ByteOffset
    729  10000 ????
    730  10000 ????				       sta	(dlpnt),y	; #1 - low byte object address
    731  10000 ????
    732  10000 ????				       iny
    733  10000 ????
    734  10000 ????				       lda	#({1}_mode | %01000000)
    735  10000 ????				       sta	(dlpnt),y	; #2 - graphics mode , indirect
    736  10000 ????
    737  10000 ????				       iny
    738  10000 ????
    739  10000 ????				       if	MACARG4CONST = 0
    740  10000 ????				       lda	.SpriteY
    741  10000 ????				       else
    742  10000 ????				       lda	#.SpriteY
    743  10000 ????				       endif
    744  10000 ????				       and	#(WZONEHEIGHT - 1)
    745  10000 ????				       ora	#>(.GFXLabel - (WZONEHEIGHT * 256))	; start in the dma hole
    746  10000 ????				       sta	(dlpnt),y	; #3 - hi byte object address
    747  10000 ????
    748  10000 ????				       iny
    749  10000 ????
    750  10000 ????				       if	MACARG2CONST = 1
    751  10000 ????				       lda	#({1}_width_twoscompliment | (.Palette * 32))
    752  10000 ????				       else
    753  10000 ????				       lda	#({1}_width_twoscompliment)
    754  10000 ????				       ora	.Palette
    755  10000 ????				       endif
    756  10000 ????				       sta	(dlpnt),y	; #4 - palette|width
    757  10000 ????
    758  10000 ????				       iny
    759  10000 ????
    760  10000 ????				       if	MACARG3CONST = 1
    761  10000 ????				       lda	#.SpriteX
    762  10000 ????				       else
    763  10000 ????				       lda	.SpriteX
    764  10000 ????				       endif
    765  10000 ????				       sta	(dlpnt),y	; #5 - x object position
    766  10000 ????
    767  10000 ????				       iny
    768  10000 ????				       sty	dlend,x
    769  10000 ????
    770  10000 ????				       ifconst	ALWAYSTERMINATE
    771  10000 ????				       iny
    772  10000 ????				       lda	#0
    773  10000 ????				       sta	(dlpnt),y
    774  10000 ????				       endif
    775  10000 ????
    776  10000 ????			    .PLOTSPRITEend
    777  10000 ????				       ENDM
    778  10000 ????
    779  10000 ????				       MAC	plotsprite4
    780  10000 ????
    781  10000 ????						; A macro version of plotsprite. (with 4 byte objects)
    782  10000 ????						; This trades off rom space for speed.
    783  10000 ????						; It also doesn't check if the visible screen is displayed or not.
    784  10000 ????						; It has no training wheels. It is all rusty sharp edges.
    785  10000 ????
    786  10000 ????			    .GFXLabel  SET	{1}
    787  10000 ????			    .Palette   SET	{2}	; constant
    788  10000 ????			    .SpriteX   SET	{3}	; variable
    789  10000 ????			    .SpriteY   SET	{4}	; variable
    790  10000 ????			    .ByteOffset SET	{5}	; variable
    791  10000 ????
    792  10000 ????				       if	MACARG4CONST = 0
    793  10000 ????				       lda	.SpriteY
    794  10000 ????				       else
    795  10000 ????				       lda	#.SpriteY
    796  10000 ????				       endif
    797  10000 ????				       lsr
    798  10000 ????				       lsr
    799  10000 ????				       asr	#%11111110	; ensure carry is clear
    800  10000 ????				       if	WZONEHEIGHT = 16
    801  10000 ????				       asr	#%11111110	; ensure carry is clear
    802  10000 ????				       endif
    803  10000 ????
    804  10000 ????				       tax
    805  10000 ????
    806  10000 ????				       cpx	#WZONECOUNT
    807  10000 ????				       bcs	.PLOTSPRITEnext
    808  10000 ????						; carry is clear
    809  10000 ????				       ifconst	VSCROLL
    810  10000 ????				       ldy	Xx3,x
    811  10000 ????				       lda	DLLMEM+11,y
    812  10000 ????				       else		; !VSCROLL
    813  10000 ????				       lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
    814  10000 ????				       endif		; !VSCROLL
    815  10000 ????				       ifconst	DOUBLEBUFFER
    816  10000 ????				       adc	doublebufferdloffset
    817  10000 ????				       endif		; DOUBLEBUFFER
    818  10000 ????				       sta	dlpnt
    819  10000 ????				       ifconst	VSCROLL
    820  10000 ????				       lda	DLLMEM+10,y
    821  10000 ????				       else		; !VSCROLL
    822  10000 ????				       lda	DLPOINTH,x
    823  10000 ????				       endif		; !VSCROLL
    824  10000 ????				       ifconst	DOUBLEBUFFER
    825  10000 ????				       adc	#0
    826  10000 ????				       endif		; DOUBLEBUFFER
    827  10000 ????				       sta	dlpnt+1
    828  10000 ????
    829  10000 ????				       ldy	dlend,x	; find the next new object position in this zone
    830  10000 ????
    831  10000 ????				       ifconst	.ByteOffset
    832  10000 ????
    833  10000 ????				       if	MACARG5CONST = 1
    834  10000 ????				       lda	#.ByteOffset
    835  10000 ????				       else
    836  10000 ????				       lda	.ByteOffset
    837  10000 ????				       endif
    838  10000 ????				       ifconst	DOUBLEBUFFER
    839  10000 ????				       if	{1}_width = 1
    840  10000 ????				       clc
    841  10000 ????				       endif
    842  10000 ????				       endif
    843  10000 ????				       if	{1}_width = 2
    844  10000 ????				       asl
    845  10000 ????				       endif
    846  10000 ????				       if	{1}_width = 3
    847  10000 ????				       asl
    848  10000 ????				       if	MACARG5CONST = 1
    849  10000 ????				       adc	#.ByteOffset
    850  10000 ????				       else
    851  10000 ????				       adc	.ByteOffset
    852  10000 ????				       endif
    853  10000 ????				       endif
    854  10000 ????				       if	{1}_width = 4
    855  10000 ????				       asl
    856  10000 ????				       asl
    857  10000 ????				       endif
    858  10000 ????				       if	{1}_width = 5
    859  10000 ????				       asl
    860  10000 ????				       asl
    861  10000 ????				       if	MACARG5CONST = 1
    862  10000 ????				       adc	#.ByteOffset
    863  10000 ????				       else
    864  10000 ????				       adc	.ByteOffset
    865  10000 ????				       endif
    866  10000 ????				       endif
    867  10000 ????				       if	{1}_width = 6
    868  10000 ????				       asl
    869  10000 ????				       if	MACARG5CONST = 1
    870  10000 ????				       adc	#.ByteOffset
    871  10000 ????				       else
    872  10000 ????				       adc	.ByteOffset
    873  10000 ????				       endif
    874  10000 ????
    875  10000 ????				       asl
    876  10000 ????				       endif
    877  10000 ????				       if	{1}_width = 7
    878  10000 ????				       asl
    879  10000 ????				       if	MACARG5CONST = 1
    880  10000 ????				       adc	#.ByteOffset
    881  10000 ????				       else
    882  10000 ????				       adc	.ByteOffset
    883  10000 ????				       endif
    884  10000 ????				       asl
    885  10000 ????				       if	MACARG5CONST = 1
    886  10000 ????				       adc	#.ByteOffset
    887  10000 ????				       else
    888  10000 ????				       adc	.ByteOffset
    889  10000 ????				       endif
    890  10000 ????				       endif
    891  10000 ????				       if	{1}_width = 8
    892  10000 ????				       asl
    893  10000 ????				       asl
    894  10000 ????				       asl
    895  10000 ????				       endif
    896  10000 ????				       if	{1}_width = 9
    897  10000 ????				       asl
    898  10000 ????				       asl
    899  10000 ????				       asl
    900  10000 ????				       if	MACARG5CONST = 1
    901  10000 ????				       adc	#.ByteOffset
    902  10000 ????				       else
    903  10000 ????				       adc	.ByteOffset
    904  10000 ????				       endif
    905  10000 ????				       endif
    906  10000 ????				       if	{1}_width = 10
    907  10000 ????				       asl
    908  10000 ????				       asl
    909  10000 ????				       if	MACARG5CONST = 1
    910  10000 ????				       adc	#.ByteOffset
    911  10000 ????				       else
    912  10000 ????				       adc	.ByteOffset
    913  10000 ????				       endif
    914  10000 ????				       asl
    915  10000 ????				       endif
    916  10000 ????				       if	{1}_width = 11
    917  10000 ????				       asl
    918  10000 ????				       asl
    919  10000 ????				       if	MACARG5CONST = 1
    920  10000 ????				       adc	#.ByteOffset
    921  10000 ????				       else
    922  10000 ????				       adc	.ByteOffset
    923  10000 ????				       endif
    924  10000 ????				       asl
    925  10000 ????				       if	MACARG5CONST = 1
    926  10000 ????				       adc	#.ByteOffset
    927  10000 ????				       else
    928  10000 ????				       adc	.ByteOffset
    929  10000 ????				       endif
    930  10000 ????				       endif
    931  10000 ????				       if	{1}_width = 12
    932  10000 ????				       asl
    933  10000 ????				       if	MACARG5CONST = 1
    934  10000 ????				       adc	#.ByteOffset
    935  10000 ????				       else
    936  10000 ????				       adc	.ByteOffset
    937  10000 ????				       endif
    938  10000 ????				       asl
    939  10000 ????				       asl
    940  10000 ????				       endif
    941  10000 ????				       if	{1}_width = 13
    942  10000 ????				       asl
    943  10000 ????				       if	MACARG5CONST = 1
    944  10000 ????				       adc	#.ByteOffset
    945  10000 ????				       else
    946  10000 ????				       adc	.ByteOffset
    947  10000 ????				       endif
    948  10000 ????				       asl
    949  10000 ????				       asl
    950  10000 ????				       if	MACARG5CONST = 1
    951  10000 ????				       adc	#.ByteOffset
    952  10000 ????				       else
    953  10000 ????				       adc	.ByteOffset
    954  10000 ????				       endif
    955  10000 ????				       endif
    956  10000 ????				       if	{1}_width = 14
    957  10000 ????				       asl
    958  10000 ????				       if	MACARG5CONST = 1
    959  10000 ????				       adc	#.ByteOffset
    960  10000 ????				       else
    961  10000 ????				       adc	.ByteOffset
    962  10000 ????				       endif
    963  10000 ????				       asl
    964  10000 ????				       if	MACARG5CONST = 1
    965  10000 ????				       adc	#.ByteOffset
    966  10000 ????				       else
    967  10000 ????				       adc	.ByteOffset
    968  10000 ????				       endif
    969  10000 ????				       asl
    970  10000 ????				       endif
    971  10000 ????				       if	{1}_width = 15
    972  10000 ????				       asl
    973  10000 ????				       if	MACARG5CONST = 1
    974  10000 ????				       adc	#.ByteOffset
    975  10000 ????				       else
    976  10000 ????				       adc	.ByteOffset
    977  10000 ????				       endif
    978  10000 ????				       asl
    979  10000 ????				       if	MACARG5CONST = 1
    980  10000 ????				       adc	#.ByteOffset
    981  10000 ????				       else
    982  10000 ????				       adc	.ByteOffset
    983  10000 ????				       endif
    984  10000 ????				       asl
    985  10000 ????				       if	MACARG5CONST = 1
    986  10000 ????				       adc	#.ByteOffset
    987  10000 ????				       else
    988  10000 ????				       adc	.ByteOffset
    989  10000 ????				       endif
    990  10000 ????				       endif
    991  10000 ????				       if	{1}_width = 16
    992  10000 ????				       asl
    993  10000 ????				       asl
    994  10000 ????				       asl
    995  10000 ????				       asl
    996  10000 ????				       endif
    997  10000 ????				       adc	#<.GFXLabel	; carry is clear via previous asl or asr
    998  10000 ????				       else
    999  10000 ????				       lda	#<.GFXLabel	; carry is clear via previous asl or asr
   1000  10000 ????				       endif		; .ByteOffset
   1001  10000 ????				       sta	(dlpnt),y	; #1 - low byte object address
   1002  10000 ????
   1003  10000 ????				       iny
   1004  10000 ????
   1005  10000 ????				       if	MACARG2CONST = 1
   1006  10000 ????				       lda	#({1}_width_twoscompliment | (.Palette * 32))
   1007  10000 ????				       else
   1008  10000 ????				       lda	#({1}_width_twoscompliment)
   1009  10000 ????				       ora	.Palette
   1010  10000 ????				       endif
   1011  10000 ????				       sta	(dlpnt),y	; #2 - palette|width
   1012  10000 ????
   1013  10000 ????				       iny
   1014  10000 ????				       if	MACARG4CONST = 0
   1015  10000 ????				       lda	.SpriteY
   1016  10000 ????				       else
   1017  10000 ????				       lda	#.SpriteY
   1018  10000 ????				       endif
   1019  10000 ????				       and	#(WZONEHEIGHT - 1)
   1020  10000 ????				       cmp	#1	; clear carry if our sprite is just in this zone
   1021  10000 ????				       ora	#>.GFXLabel
   1022  10000 ????				       sta	(dlpnt),y	; #3 - hi byte object address
   1023  10000 ????
   1024  10000 ????				       iny
   1025  10000 ????				       if	MACARG3CONST = 1
   1026  10000 ????				       lda	#.SpriteX
   1027  10000 ????				       else
   1028  10000 ????				       lda	.SpriteX
   1029  10000 ????				       endif
   1030  10000 ????				       sta	(dlpnt),y	; #4 - x object position
   1031  10000 ????
   1032  10000 ????				       iny
   1033  10000 ????				       sty	dlend,x
   1034  10000 ????
   1035  10000 ????				       ifconst	ALWAYSTERMINATE
   1036  10000 ????				       iny
   1037  10000 ????				       lda	#0
   1038  10000 ????				       sta	(dlpnt),y
   1039  10000 ????				       endif
   1040  10000 ????
   1041  10000 ????				       bcc	.PLOTSPRITEend
   1042  10000 ????
   1043  10000 ????			    .PLOTSPRITEnext
   1044  10000 ????				       inx		; next zone
   1045  10000 ????
   1046  10000 ????				       cpx	#WZONECOUNT
   1047  10000 ????				       bcs	.PLOTSPRITEend
   1048  10000 ????						; carry is clear
   1049  10000 ????				       ifconst	VSCROLL
   1050  10000 ????				       ldy	Xx3,x
   1051  10000 ????				       lda	DLLMEM+11,y
   1052  10000 ????				       else		; !VSCROLL
   1053  10000 ????				       lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
   1054  10000 ????				       endif		; !VSCROLL
   1055  10000 ????				       ifconst	DOUBLEBUFFER
   1056  10000 ????				       adc	doublebufferdloffset
   1057  10000 ????				       endif		; DOUBLEBUFFER
   1058  10000 ????				       sta	dlpnt
   1059  10000 ????				       ifconst	VSCROLL
   1060  10000 ????				       lda	DLLMEM+10,y
   1061  10000 ????				       else		; !VSCROLL
   1062  10000 ????				       lda	DLPOINTH,x
   1063  10000 ????				       endif		; !VSCROLL
   1064  10000 ????				       ifconst	DOUBLEBUFFER
   1065  10000 ????				       adc	#0
   1066  10000 ????				       endif		; DOUBLEBUFFER
   1067  10000 ????				       sta	dlpnt+1
   1068  10000 ????
   1069  10000 ????				       ldy	dlend,x	; find the next new object position in this zone
   1070  10000 ????
   1071  10000 ????				       ifconst	.ByteOffset
   1072  10000 ????
   1073  10000 ????				       if	MACARG5CONST = 1
   1074  10000 ????				       lda	#.ByteOffset
   1075  10000 ????				       else
   1076  10000 ????				       lda	.ByteOffset
   1077  10000 ????				       endif
   1078  10000 ????				       if	{1}_width = 1
   1079  10000 ????				       clc
   1080  10000 ????				       endif
   1081  10000 ????				       if	{1}_width = 2
   1082  10000 ????				       asl		; carry clear
   1083  10000 ????				       endif
   1084  10000 ????				       if	{1}_width = 3
   1085  10000 ????				       asl		; carry clear
   1086  10000 ????				       if	MACARG5CONST = 1
   1087  10000 ????				       adc	#.ByteOffset
   1088  10000 ????				       else
   1089  10000 ????				       adc	.ByteOffset
   1090  10000 ????				       endif
   1091  10000 ????				       endif
   1092  10000 ????				       if	{1}_width = 4
   1093  10000 ????				       asl		; carry clear
   1094  10000 ????				       asl
   1095  10000 ????				       endif
   1096  10000 ????				       if	{1}_width = 5
   1097  10000 ????				       asl		; carry clear
   1098  10000 ????				       asl
   1099  10000 ????				       if	MACARG5CONST = 1
   1100  10000 ????				       adc	#.ByteOffset
   1101  10000 ????				       else
   1102  10000 ????				       adc	.ByteOffset
   1103  10000 ????				       endif
   1104  10000 ????				       endif
   1105  10000 ????				       if	{1}_width = 6
   1106  10000 ????				       asl		; carry clear
   1107  10000 ????				       if	MACARG5CONST = 1
   1108  10000 ????				       adc	#.ByteOffset
   1109  10000 ????				       else
   1110  10000 ????				       adc	.ByteOffset
   1111  10000 ????				       endif
   1112  10000 ????
   1113  10000 ????				       asl
   1114  10000 ????				       endif
   1115  10000 ????				       if	{1}_width = 7
   1116  10000 ????				       asl		; carry clear
   1117  10000 ????				       if	MACARG5CONST = 1
   1118  10000 ????				       adc	#.ByteOffset
   1119  10000 ????				       else
   1120  10000 ????				       adc	.ByteOffset
   1121  10000 ????				       endif
   1122  10000 ????				       asl
   1123  10000 ????				       endif
   1124  10000 ????				       if	{1}_width = 8
   1125  10000 ????				       asl		; carry clear
   1126  10000 ????				       asl
   1127  10000 ????				       asl
   1128  10000 ????				       endif
   1129  10000 ????				       if	{1}_width = 9
   1130  10000 ????				       asl		; carry clear
   1131  10000 ????				       asl
   1132  10000 ????				       asl
   1133  10000 ????				       if	MACARG5CONST = 1
   1134  10000 ????				       adc	#.ByteOffset
   1135  10000 ????				       else
   1136  10000 ????				       adc	.ByteOffset
   1137  10000 ????				       endif
   1138  10000 ????				       endif
   1139  10000 ????				       if	{1}_width = 10
   1140  10000 ????				       asl		; carry clear
   1141  10000 ????				       asl
   1142  10000 ????				       if	MACARG5CONST = 1
   1143  10000 ????				       adc	#.ByteOffset
   1144  10000 ????				       else
   1145  10000 ????				       adc	.ByteOffset
   1146  10000 ????				       endif
   1147  10000 ????				       asl
   1148  10000 ????				       endif
   1149  10000 ????				       if	{1}_width = 11
   1150  10000 ????				       asl		; carry clear
   1151  10000 ????				       asl
   1152  10000 ????				       if	MACARG5CONST = 1
   1153  10000 ????				       adc	#.ByteOffset
   1154  10000 ????				       else
   1155  10000 ????				       adc	.ByteOffset
   1156  10000 ????				       endif
   1157  10000 ????				       asl
   1158  10000 ????				       if	MACARG5CONST = 1
   1159  10000 ????				       adc	#.ByteOffset
   1160  10000 ????				       else
   1161  10000 ????				       adc	.ByteOffset
   1162  10000 ????				       endif
   1163  10000 ????				       endif
   1164  10000 ????				       if	{1}_width = 12
   1165  10000 ????				       asl		; carry clear
   1166  10000 ????				       if	MACARG5CONST = 1
   1167  10000 ????				       adc	#.ByteOffset
   1168  10000 ????				       else
   1169  10000 ????				       adc	.ByteOffset
   1170  10000 ????				       endif
   1171  10000 ????				       asl
   1172  10000 ????				       asl
   1173  10000 ????				       endif
   1174  10000 ????				       if	{1}_width = 13
   1175  10000 ????				       asl		; carry clear
   1176  10000 ????				       if	MACARG5CONST = 1
   1177  10000 ????				       adc	#.ByteOffset
   1178  10000 ????				       else
   1179  10000 ????				       adc	.ByteOffset
   1180  10000 ????				       endif
   1181  10000 ????				       asl
   1182  10000 ????				       asl
   1183  10000 ????				       if	MACARG5CONST = 1
   1184  10000 ????				       adc	#.ByteOffset
   1185  10000 ????				       else
   1186  10000 ????				       adc	.ByteOffset
   1187  10000 ????				       endif
   1188  10000 ????				       endif
   1189  10000 ????				       if	{1}_width = 14
   1190  10000 ????				       asl		; carry clear
   1191  10000 ????				       if	MACARG5CONST = 1
   1192  10000 ????				       adc	#.ByteOffset
   1193  10000 ????				       else
   1194  10000 ????				       adc	.ByteOffset
   1195  10000 ????				       endif
   1196  10000 ????				       asl
   1197  10000 ????				       if	MACARG5CONST = 1
   1198  10000 ????				       adc	#.ByteOffset
   1199  10000 ????				       else
   1200  10000 ????				       adc	.ByteOffset
   1201  10000 ????				       endif
   1202  10000 ????				       asl
   1203  10000 ????				       endif
   1204  10000 ????				       if	{1}_width = 15
   1205  10000 ????				       asl
   1206  10000 ????				       if	MACARG5CONST = 1
   1207  10000 ????				       adc	#.ByteOffset
   1208  10000 ????				       else
   1209  10000 ????				       adc	.ByteOffset
   1210  10000 ????				       endif
   1211  10000 ????				       asl
   1212  10000 ????				       if	MACARG5CONST = 1
   1213  10000 ????				       adc	#.ByteOffset
   1214  10000 ????				       else
   1215  10000 ????				       adc	.ByteOffset
   1216  10000 ????				       endif
   1217  10000 ????				       asl
   1218  10000 ????				       if	MACARG5CONST = 1
   1219  10000 ????				       adc	#.ByteOffset
   1220  10000 ????				       else
   1221  10000 ????				       adc	.ByteOffset
   1222  10000 ????				       endif
   1223  10000 ????				       endif
   1224  10000 ????				       if	{1}_width = 16
   1225  10000 ????				       asl
   1226  10000 ????				       asl
   1227  10000 ????				       asl
   1228  10000 ????				       asl
   1229  10000 ????				       endif
   1230  10000 ????				       adc	#<.GFXLabel
   1231  10000 ????				       else
   1232  10000 ????				       lda	#<.GFXLabel
   1233  10000 ????				       endif		; .ByteOffset
   1234  10000 ????				       sta	(dlpnt),y	; #1 - low byte object address
   1235  10000 ????
   1236  10000 ????				       iny
   1237  10000 ????				       if	MACARG2CONST = 1
   1238  10000 ????				       lda	#({1}_width_twoscompliment | (.Palette * 32))
   1239  10000 ????				       else
   1240  10000 ????				       lda	#({1}_width_twoscompliment)
   1241  10000 ????				       ora	.Palette
   1242  10000 ????				       endif
   1243  10000 ????
   1244  10000 ????				       sta	(dlpnt),y	; #2 - palette|width
   1245  10000 ????
   1246  10000 ????				       iny
   1247  10000 ????				       if	MACARG4CONST = 0
   1248  10000 ????				       lda	.SpriteY
   1249  10000 ????				       else
   1250  10000 ????				       lda	#.SpriteY
   1251  10000 ????				       endif
   1252  10000 ????				       and	#(WZONEHEIGHT - 1)
   1253  10000 ????				       ora	#>(.GFXLabel - (WZONEHEIGHT * 256))	; start in the dma hole
   1254  10000 ????				       sta	(dlpnt),y	; #3 - hi byte object address
   1255  10000 ????
   1256  10000 ????				       iny
   1257  10000 ????				       if	MACARG3CONST = 1
   1258  10000 ????				       lda	#.SpriteX
   1259  10000 ????				       else
   1260  10000 ????				       lda	.SpriteX
   1261  10000 ????				       endif
   1262  10000 ????				       sta	(dlpnt),y	; #4 - x object position
   1263  10000 ????
   1264  10000 ????				       iny
   1265  10000 ????				       sty	dlend,x
   1266  10000 ????
   1267  10000 ????				       ifconst	ALWAYSTERMINATE
   1268  10000 ????				       iny
   1269  10000 ????				       lda	#0
   1270  10000 ????				       sta	(dlpnt),y
   1271  10000 ????				       endif
   1272  10000 ????
   1273  10000 ????			    .PLOTSPRITEend
   1274  10000 ????				       ENDM
   1275  10000 ????
   1276  10000 ????				       MAC	scrollsetup
   1277  10000 ????
   1278  10000 ????						; If vertical scrolling is enabled...
   1279  10000 ????						;   * Fills the DLs with hidden masking sprites.
   1280  10000 ????						; Adds blank sprites to the DLs to fill the screen.
   1281  10000 ????						; If horizontal scrolling is enabled...
   1282  10000 ????						;   * Adds another blank DL off-screen
   1283  10000 ????
   1284  10000 ????						; {1} - constant - the first dl of the scrolling area
   1285  10000 ????						; {2} - symbol   - blank tile label
   1286  10000 ????
   1287  10000 ????						; *** clear the saved dl ending for scrolling zones...
   1288  10000 ????				       ldx	#{1}
   1289  10000 ????				       lda	#0
   1290  10000 ????			    .scrollcleardls
   1291  10000 ????				       sta	dlend,x
   1292  10000 ????				       inx
   1293  10000 ????				       cpx	#WZONECOUNT
   1294  10000 ????				       bne	.scrollcleardls
   1295  10000 ????
   1296  10000 ????				       ifconst	VSCROLL
   1297  10000 ????						; *** adjust the ending for our mask dl to allow for mask objects...
   1298  10000 ????				       dex
   1299  10000 ????				       lda	#(maskscrollspriteend-maskscrollsprite)
   1300  10000 ????				       sta	dlend,x
   1301  10000 ????
   1302  10000 ????						; *** Add 4x dma masking objects to last zone...
   1303  10000 ????				       ldx	#(maskscrollspriteend-maskscrollsprite-1)
   1304  10000 ????			    .scrollpopulateloop1
   1305  10000 ????				       lda	maskscrollsprite,x
   1306  10000 ????				       sta	LASTZONEADDRESS+0,x
   1307  10000 ????				       ifconst	DOUBLEBUFFER
   1308  10000 ????				       sta	LASTZONEADDRESS+0+DOUBLEBUFFEROFFSET,x
   1309  10000 ????				       endif		; DOUBLEBUFFER
   1310  10000 ????				       dex
   1311  10000 ????				       bpl	.scrollpopulateloop1
   1312  10000 ????				       inx		; x=0
   1313  10000 ????				       stx	finescrolly
   1314  10000 ????				       endif		; VSCROLL
   1315  10000 ????
   1316  10000 ????						; *** Add blank sprite-tile objects to the scrolling zones...
   1317  10000 ????			    PLOTSP4    =	1	; ensure we use 4 byte sprites
   1318  10000 ????
   1319  10000 ????						; convert byte width of the sprit to coordinate width...
   1320  10000 ????				       if	{2}_mode = 0	; ### 160A, 320A, 320D
   1321  10000 ????			    .scrollXWIDTH SET	({2}_width * 4)	; 4x 160-mode pixels per byte
   1322  10000 ????				       else		; ### 160B, 320B, 320C
   1323  10000 ????			    .scrollXWIDTH SET	({2}_width * 2)	; 2x 160-mode pixels per byte
   1324  10000 ????				       endif
   1325  10000 ????
   1326  10000 ????						; figure out how many sprites we need to fill a screen width...
   1327  10000 ????			    .scrollSPRITECOuNT SET	((160+.scrollXWIDTH-1)/.scrollXWIDTH)
   1328  10000 ????				       ifconst	HSCROLL
   1329  10000 ????			    .scrollSPRITECOuNT SET	(.scrollSPRITECOuNT+1)
   1330  10000 ????				       endif		; HSCROLL
   1331  10000 ????
   1332  10000 ????						; setup plotsprite4 parameters...
   1333  10000 ????				       lda	#<{2}
   1334  10000 ????				       sta	temp1
   1335  10000 ????				       lda	#>{2}
   1336  10000 ????				       sta	temp2
   1337  10000 ????				       lda	#{2}_width_twoscompliment
   1338  10000 ????				       sta	temp3	; width
   1339  10000 ????
   1340  10000 ????				       lda	#{1}
   1341  10000 ????				       asl
   1342  10000 ????				       asl
   1343  10000 ????				       asl
   1344  10000 ????				       if	WZONEHEIGHT
   1345  10000 ????				       asl
   1346  10000 ????				       endif
   1347  10000 ????				       sta	temp5	; Y
   1348  10000 ????			    .scrollpopulateloop2
   1349  10000 ????				       lda	#0
   1350  10000 ????				       sta	temp4	; X
   1351  10000 ????			    .scrollpopulateloop3
   1352  10000 ????				       jsr	skipplotsprite4wait
   1353  10000 ????				       lda	temp4	; X
   1354  10000 ????				       clc
   1355  10000 ????				       adc	#.scrollXWIDTH
   1356  10000 ????				       sta	temp4	; X
   1357  10000 ????				       cmp	#(.scrollSPRITECOuNT*.scrollXWIDTH)
   1358  10000 ????				       bne	.scrollpopulateloop3
   1359  10000 ????				       lda	temp5	; Y
   1360  10000 ????				       clc
   1361  10000 ????				       adc	#WZONEHEIGHT
   1362  10000 ????				       sta	temp5	; Y
   1363  10000 ????				       cmp	#((WZONECOUNT*WZONEHEIGHT)+WZONEHEIGHT)
   1364  10000 ????				       bne	.scrollpopulateloop2
   1365  10000 ????				       ENDM
   1366  10000 ????
   1367  10000 ????				       MAC	sizeof
   1368  10000 ????
   1369  10000 ????						; echoes the size difference between the current address and the
   1370  10000 ????						; a label that was passed as an argument. This is a quick way to
   1371  10000 ????						; determine the size of a structure.
   1372  10000 ????
   1373  10000 ????			    .NAME      SETSTR	{1}
   1374  10000 ????				       echo	" The Size of",.NAME,"is:",[* - {1}]d,[* - {2}]d,"bytes."
   1375  10000 ????				       ENDM
   1376  10000 ????
   1377  10000 ????						;
   1378  10000 ????						; speakjet.inc
   1379  10000 ????						;
   1380  10000 ????						;
   1381  10000 ????						; AtariVox Speech Synth Driver
   1382  10000 ????						;
   1383  10000 ????						; By Alex Herbert, 2004
   1384  10000 ????						;
   1385  10000 ????
   1386  10000 ????
   1387  10000 ????
   1388  10000 ????
   1389  10000 ????						; Constants
   1390  10000 ????
   1391  10000 ????
   1392  10000 ????		00 01	    SERIAL_OUTMASK equ	$01
   1393  10000 ????		00 02	    SERIAL_RDYMASK equ	$02
   1394  10000 ????
   1395  10000 ????
   1396  10000 ????
   1397  10000 ????						; Macros
   1398  10000 ????
   1399  10000 ????				       mac	spkout
   1400  10000 ????
   1401  10000 ????						; check buffer-full status
   1402  10000 ????				       lda	SWCHA
   1403  10000 ????				       and	#SERIAL_RDYMASK
   1404  10000 ????				       beq	.speech_done
   1405  10000 ????
   1406  10000 ????						; get next speech byte
   1407  10000 ????				       ldy	#$00
   1408  10000 ????				       lda	(speech_addr),y
   1409  10000 ????
   1410  10000 ????						; invert data and check for end of string
   1411  10000 ????				       eor	#$ff
   1412  10000 ????						;sta BACKGRND ; debug - uncomment to flash the background color with vox data
   1413  10000 ????				       beq	.speech_done
   1414  10000 ????				       sta	{1}
   1415  10000 ????
   1416  10000 ????						; increment speech pointer
   1417  10000 ????				       inc	speech_addr
   1418  10000 ????				       bne	.incaddr_skip
   1419  10000 ????				       inc	speech_addr+1
   1420  10000 ????			    .incaddr_skip
   1421  10000 ????
   1422  10000 ????						; output byte as serial data
   1423  10000 ????
   1424  10000 ????				       sec		; start bit
   1425  10000 ????			    .byteout_loop
   1426  10000 ????						; put carry flag into bit 0 of SWACNT, preserving other bits
   1427  10000 ????				       lda	SWACNT	; 4
   1428  10000 ????				       and	#$fe	; 2 6
   1429  10000 ????				       adc	#$00	; 2 8
   1430  10000 ????				       sta	SWACNT	; 4 12
   1431  10000 ????
   1432  10000 ????						; 10 bits sent? (1 start bit, 8 data bits, 1 stop bit)
   1433  10000 ????				       cpy	#$09	; 2 14
   1434  10000 ????				       beq	.speech_done	; 2 16
   1435  10000 ????				       iny		; 2 18
   1436  10000 ????
   1437  10000 ????						; the 7800 is 1.5x faster than the 2600. Waste more cycles here
   1438  10000 ????						; to match the original baud rate...
   1439  10000 ????						;ldx	  #$07 ; 2600
   1440  10000 ????				       ldx	#$0D
   1441  10000 ????
   1442  10000 ????			    .delay_loop
   1443  10000 ????				       dex		;
   1444  10000 ????				       bne	.delay_loop	; 36 54
   1445  10000 ????
   1446  10000 ????						; shift next data bit into carry
   1447  10000 ????				       lsr	{1}	; 5 59
   1448  10000 ????
   1449  10000 ????						; and loop (branch always taken)
   1450  10000 ????				       bpl	.byteout_loop	; 3 62 cycles for loop
   1451  10000 ????
   1452  10000 ????			    .speech_done
   1453  10000 ????
   1454  10000 ????				       endm
   1455  10000 ????
   1456  10000 ????
   1457  10000 ????				       mac	speak
   1458  10000 ????
   1459  10000 ????				       lda	#<{1}
   1460  10000 ????				       sta	speech_addr
   1461  10000 ????				       lda	#>{1}
   1462  10000 ????				       sta	speech_addr+1
   1463  10000 ????
   1464  10000 ????				       endm
   1465  10000 ????
   1466  10000 ????
   1467  10000 ????
   1468  10000 ????						; Provided under the CC0 license. See the included LICENSE.txt for details.
   1469  10000 ????
   1470  10000 ????				       processor	6502
   1471  10000 ????
------- FILE 7800basic.h LEVEL 2 PASS 3
      0  10000 ????				       include	"7800basic.h"
      1  10000 ????						; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  10000 ????
      3  10000 ????				       processor	6502
------- FILE 7800.h LEVEL 3 PASS 3
      0  10000 ????				       include	"7800.h"
      1  10000 ????						; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  10000 ????
      3  10000 ????						; 7800.h
      4  10000 ????						; Version 1.0, 2019/12/13
      5  10000 ????
      6  10000 ????						; This file defines hardware registers and memory mapping for the
      7  10000 ????						; Atari 7800. It is distributed as a companion machine-specific support package
      8  10000 ????						; for the DASM compiler. Updates to this file, DASM, and associated tools are
      9  10000 ????						; available at https://github.com/dasm-assembler/dasm
     10  10000 ????
     11  10000 ????
     12  10000 ????						; ******************** 7800 Hardware Addresses ***************************
     13  10000 ????						;
     14  10000 ????						;	 MEMORY MAP USAGE OF THE 7800
     15  10000 ????						;
     16  10000 ????						;	  00 -   1F	TIA REGISTERS
     17  10000 ????						;	  20 -   3F	MARIA REGISTERS
     18  10000 ????						;	  40 -   FF	RAM block 0 (zero page)
     19  10000 ????						;	 100 -  11F	TIA   (mirror of 0000-001f)
     20  10000 ????						;	 120 -  13F	MARIA (mirror of 0020-003f)
     21  10000 ????						;	 140 -  1FF	RAM block 1 (stack)
     22  10000 ????						;	 200 -  21F	TIA   (mirror of 0000-001f)
     23  10000 ????						;	 220 -  23F	MARIA (mirror of 0020-003f)
     24  10000 ????						;	 240 -  27F	???
     25  10000 ????						;	 280 -  2FF	RIOT I/O ports and timers
     26  10000 ????						;	 300 -  31F	TIA   (mirror of 0000-001f)
     27  10000 ????						;	 320 -  33F	MARIA (mirror of 0020-003f)
     28  10000 ????						;	 340 -  3FF	???
     29  10000 ????						;	 400 -  47F	unused address space
     30  10000 ????						;	 480 -  4FF	RIOT RAM
     31  10000 ????						;	 500 -  57F	unused address space
     32  10000 ????						;	 580 -  5FF	RIOT RAM (mirror of 0480-04ff)
     33  10000 ????						;	 600 - 17FF	unused address space
     34  10000 ????						;	1800 - 203F	RAM
     35  10000 ????						;	2040 - 20FF	RAM block 0 (mirror of 0000-001f)
     36  10000 ????						;	2100 - 213F	RAM
     37  10000 ????						;	2140 - 21FF	RAM block 1 (mirror of 0140-01ff)
     38  10000 ????						;	2200 - 27FF	RAM
     39  10000 ????						;	2800 - 2FFF	unavailable to external devices (bios bus-conflict)
     40  10000 ????						;	3000 - 3FFF	unused address space
     41  10000 ????						;	4000 - FF7F	potential cartridge address space
     42  10000 ????						;	FF80 - FFF9	RESERVED FOR ENCRYPTION
     43  10000 ????						;	FFFA - FFFF	6502 VECTORS
     44  10000 ????
     45  10000 ????
     46  10000 ????						;****** 00-1F ********* TIA REGISTERS ******************
     47  10000 ????
     48  10000 ????		00 01	    INPTCTRL   =	$01	;Input control. In same address space as TIA. write-only
     49  10000 ????		00 01	    VBLANK     =	$01	;VBLANK. D7=1:dump paddle caps to ground.     write-only
     50  10000 ????		00 02	    _WSYNC     =	$02	;Wait for HSync			       write-only
     51  10000 ????		00 03	    _RSYNC     =	$03	;Reset HSync				       write-only
     52  10000 ????		00 08	    INPT0      =	$08	;Paddle Control Input 0		       read-only
     53  10000 ????		00 09	    INPT1      =	$09	;Paddle Control Input 1		       read-only
     54  10000 ????		00 0a	    INPT2      =	$0A	;Paddle Control Input 2		       read-only
     55  10000 ????		00 0b	    INPT3      =	$0B	;Paddle Control Input 3		       read-only
     56  10000 ????
     57  10000 ????						; ** some common alternate names for INPT0/1/2/3
     58  10000 ????		00 08	    INPT4B     =	$08	;Joystick 0 Fire 1			       read-only
     59  10000 ????		00 09	    INPT4A     =	$09	;Joystick 0 Fire 1			       read-only
     60  10000 ????		00 0a	    INPT5B     =	$0A	;Joystick 1 Fire 0			       read-only
     61  10000 ????		00 0b	    INPT5A     =	$0B	;Joystick 1 Fire 1			       read-only
     62  10000 ????		00 08	    INPT4R     =	$08	;Joystick 0 Fire 1			       read-only
     63  10000 ????		00 09	    INPT4L     =	$09	;Joystick 0 Fire 1			       read-only
     64  10000 ????		00 0a	    INPT5R     =	$0A	;Joystick 1 Fire 0			       read-only
     65  10000 ????		00 0b	    INPT5L     =	$0B	;Joystick 1 Fire 1			       read-only
     66  10000 ????
     67  10000 ????		00 0c	    INPT4      =	$0C	;Player 0 Fire Button Input		       read-only
     68  10000 ????		00 0d	    INPT5      =	$0D	;Player 1 Fire Button Input		       read-only
     69  10000 ????
     70  10000 ????		00 15	    AUDC0      =	$15	;Audio Control Channel   0		       write-only
     71  10000 ????		00 16	    AUDC1      =	$16	;Audio Control Channel   1		       write-only
     72  10000 ????		00 17	    AUDF0      =	$17	;Audio Frequency Channel 0		       write-only
     73  10000 ????		00 18	    AUDF1      =	$18	;Audio Frequency Channel 1		       write-only
     74  10000 ????		00 19	    AUDV0      =	$19	;Audio Volume Channel	  0		       write-only
     75  10000 ????		00 1a	    AUDV1      =	$1A	;Audio Volume Channel	  1		       write-only
     76  10000 ????
     77  10000 ????						;****** 20-3F ********* MARIA REGISTERS ***************
     78  10000 ????
     79  10000 ????		00 20	    BACKGRND   =	$20	;Background Color			       write-only
     80  10000 ????		00 21	    P0C1       =	$21	;Palette 0 - Color 1			       write-only
     81  10000 ????		00 22	    P0C2       =	$22	;Palette 0 - Color 2			       write-only
     82  10000 ????		00 23	    P0C3       =	$23	;Palette 0 - Color 3			       write-only
     83  10000 ????		00 24	    WSYNC      =	$24	;Wait For Sync 			       write-only
     84  10000 ????		00 25	    P1C1       =	$25	;Palette 1 - Color 1			       write-only
     85  10000 ????		00 26	    P1C2       =	$26	;Palette 1 - Color 2			       write-only
     86  10000 ????		00 27	    P1C3       =	$27	;Palette 1 - Color 3			       write-only
     87  10000 ????		00 28	    MSTAT      =	$28	;Maria Status				       read-only
     88  10000 ????		00 29	    P2C1       =	$29	;Palette 2 - Color 1			       write-only
     89  10000 ????		00 2a	    P2C2       =	$2A	;Palette 2 - Color 2			       write-only
     90  10000 ????		00 2b	    P2C3       =	$2B	;Palette 2 - Color 3			       write-only
     91  10000 ????		00 2c	    DPPH       =	$2C	;Display List List Pointer High	       write-only
     92  10000 ????		00 2d	    P3C1       =	$2D	;Palette 3 - Color 1			       write-only
     93  10000 ????		00 2e	    P3C2       =	$2E	;Palette 3 - Color 2			       write-only
     94  10000 ????		00 2f	    P3C3       =	$2F	;Palette 3 - Color 3			       write-only
     95  10000 ????		00 30	    DPPL       =	$30	;Display List List Pointer Low 	       write-only
     96  10000 ????		00 31	    P4C1       =	$31	;Palette 4 - Color 1			       write-only
     97  10000 ????		00 32	    P4C2       =	$32	;Palette 4 - Color 2			       write-only
     98  10000 ????		00 33	    P4C3       =	$33	;Palette 4 - Color 3			       write-only
     99  10000 ????		00 34	    CHARBASE   =	$34	;Character Base Address		       write-only
    100  10000 ????		00 34	    CHBASE     =	$34	;Character Base Address		       write-only
    101  10000 ????		00 35	    P5C1       =	$35	;Palette 5 - Color 1			       write-only
    102  10000 ????		00 36	    P5C2       =	$36	;Palette 5 - Color 2			       write-only
    103  10000 ????		00 37	    P5C3       =	$37	;Palette 5 - Color 3			       write-only
    104  10000 ????		00 38	    OFFSET     =	$38	;Unused - Store zero here		       write-only
    105  10000 ????		00 39	    P6C1       =	$39	;Palette 6 - Color 1			       write-only
    106  10000 ????		00 3a	    P6C2       =	$3A	;Palette 6 - Color 2			       write-only
    107  10000 ????		00 3b	    P6C3       =	$3B	;Palette 6 - Color 3			       write-only
    108  10000 ????		00 3c	    CTRL       =	$3C	;Maria Control Register		       write-only
    109  10000 ????		00 3d	    P7C1       =	$3D	;Palette 7 - Color 1			       write-only
    110  10000 ????		00 3e	    P7C2       =	$3E	;Palette 7 - Color 2			       write-only
    111  10000 ????		00 3f	    P7C3       =	$3F	;Palette 7 - Color 3			       write-only
    112  10000 ????
    113  10000 ????
    114  10000 ????						;****** 280-2FF ******* PIA PORTS AND TIMERS ************
    115  10000 ????
    116  10000 ????		02 80	    SWCHA      =	$280	;P0+P1 Joystick Directional Input	       read-write
    117  10000 ????		02 81	    CTLSWA     =	$281	;I/O Control for SCHWA 		       read-write
    118  10000 ????		02 81	    SWACNT     =	$281	;VCS name for above			       read-write
    119  10000 ????		02 82	    SWCHB      =	$282	;Console Switches			       read-write
    120  10000 ????		02 83	    CTLSWB     =	$283	;I/O Control for SCHWB 		       read-write
    121  10000 ????		02 83	    SWBCNT     =	$283	;VCS name for above			       read-write
    122  10000 ????		02 84	    INTIM      =	$284	;Interval Timer Read			       read-only
    123  10000 ????		02 85	    TIMINT     =	$285	;Interval Timer Interrupt		       read-only
    124  10000 ????
    125  10000 ????		02 94	    TIM1T      =	$294	;Set 1    CLK Interval (838   nsec/interval)  write-only
    126  10000 ????		02 95	    TIM8T      =	$295	;Set 8    CLK Interval (6.7   usec/interval)  write-only
    127  10000 ????		02 96	    TIM64T     =	$296	;Set 64   CLK Interval (63.6  usec/interval)  write-only
    128  10000 ????		02 97	    T1024T     =	$297	;Set 1024 CLK Interval (858.2 usec/interval)  write-only
    129  10000 ????		02 9e	    TIM64TI    =	$29E	;Interrupt timer 64T			       write-only
    130  10000 ????
    131  10000 ????						;XM
    132  10000 ????		04 70	    XCTRL      =	$470	; 7=YM2151 6=RAM@6k 5=RAM@4k 4=pokey@450 3=hsc 2=cart 1=RoF_bank1 0=RoF_bank2
    133  10000 ????		04 70	    XCTRL1     =	$470
    134  10000 ????		04 78	    XCTRL2     =	$478
    135  10000 ????		04 7c	    XCTRL3     =	$47c
    136  10000 ????		04 71	    XCTRL4     =	$471
    137  10000 ????		04 72	    XCTRL5     =	$472
    138  10000 ????
    139  10000 ????						; Pokey register relative locations, since its base may be different
    140  10000 ????						; depending on the hardware.
    141  10000 ????		00 00	    PAUDF0     =	$0	; extra audio channels and frequencies
    142  10000 ????		00 01	    PAUDC0     =	$1
    143  10000 ????		00 02	    PAUDF1     =	$2
    144  10000 ????		00 03	    PAUDC1     =	$3
    145  10000 ????		00 04	    PAUDF2     =	$4
    146  10000 ????		00 05	    PAUDC2     =	$5
    147  10000 ????		00 06	    PAUDF3     =	$6
    148  10000 ????		00 07	    PAUDC3     =	$7
    149  10000 ????		00 08	    PAUDCTL    =	$8	; Audio Control
    150  10000 ????		00 09	    PSTIMER    =	$9
    151  10000 ????		00 0a	    PRANDOM    =	$A	; 17 bit polycounter pseudo random
    152  10000 ????		00 0f	    PSKCTL     =	$F	; Serial Port control
------- FILE 7800basic.h
------- FILE 7800basic_variable_redefs.h LEVEL 3 PASS 3
      0  10000 ????				       include	"7800basic_variable_redefs.h"
      1  10000 ????						; This file contains variable mapping and other information for the current project.
      2  10000 ????
      3  10000 ????		00 00	    asteroid_M_conv_tallsprite_01_mode =	$00
      4  10000 ????		00 00	    asteroid_M_conv_tallsprite_01_width_twoscompliment =	$00
      5  10000 ????		00 00	    asteroid_M_conv_tallsprite_01_width =	$00
      6  10000 ????		00 00	    asteroid_M_conv_tallsprite_00_mode =	$00
      7  10000 ????		00 1c	    asteroid_M_conv_tallsprite_00_width_twoscompliment =	$1c
      8  10000 ????		00 04	    asteroid_M_conv_tallsprite_00_width =	$04
      9  10000 ????		00 00	    asteroid_M_conv_mode =	$00
     10  10000 ????		00 1c	    asteroid_M_conv_width_twoscompliment =	$1c
     11  10000 ????		00 04	    asteroid_M_conv_width =	$04
     12  10000 ????		00 00	    asteroid_L_conv_tallsprite_02_mode =	$00
     13  10000 ????		00 18	    asteroid_L_conv_tallsprite_02_width_twoscompliment =	$18
     14  10000 ????		00 08	    asteroid_L_conv_tallsprite_02_width =	$08
     15  10000 ????		00 00	    asteroid_L_conv_tallsprite_01_mode =	$00
     16  10000 ????		00 18	    asteroid_L_conv_tallsprite_01_width_twoscompliment =	$18
     17  10000 ????		00 08	    asteroid_L_conv_tallsprite_01_width =	$08
     18  10000 ????		00 00	    asteroid_L_conv_tallsprite_00_mode =	$00
     19  10000 ????		00 18	    asteroid_L_conv_tallsprite_00_width_twoscompliment =	$18
     20  10000 ????		00 08	    asteroid_L_conv_tallsprite_00_width =	$08
     21  10000 ????		00 00	    asteroid_L_conv_mode =	$00
     22  10000 ????		00 18	    asteroid_L_conv_width_twoscompliment =	$18
     23  10000 ????		00 08	    asteroid_L_conv_width =	$08
     24  10000 ????		00 00	    fighter_conv_mode =	$00
     25  10000 ????		00 1c	    fighter_conv_width_twoscompliment =	$1c
     26  10000 ????		00 04	    fighter_conv_width =	$04
     27  10000 ????		00 00	    bullet_conv_mode =	$00
     28  10000 ????		00 1c	    bullet_conv_width_twoscompliment =	$1c
     29  10000 ????		00 04	    bullet_conv_width =	$04
     30  10000 ????		00 00	    sprite_spaceship16_mode =	$00
     31  10000 ????		00 1c	    sprite_spaceship16_width_twoscompliment =	$1c
     32  10000 ????		00 04	    sprite_spaceship16_width =	$04
     33  10000 ????		00 00	    sprite_spaceship15_mode =	$00
     34  10000 ????		00 1c	    sprite_spaceship15_width_twoscompliment =	$1c
     35  10000 ????		00 04	    sprite_spaceship15_width =	$04
     36  10000 ????		00 00	    sprite_spaceship14_mode =	$00
     37  10000 ????		00 1c	    sprite_spaceship14_width_twoscompliment =	$1c
     38  10000 ????		00 04	    sprite_spaceship14_width =	$04
     39  10000 ????		00 00	    sprite_spaceship13_mode =	$00
     40  10000 ????		00 1c	    sprite_spaceship13_width_twoscompliment =	$1c
     41  10000 ????		00 04	    sprite_spaceship13_width =	$04
     42  10000 ????		00 00	    sprite_spaceship12_mode =	$00
     43  10000 ????		00 1c	    sprite_spaceship12_width_twoscompliment =	$1c
     44  10000 ????		00 04	    sprite_spaceship12_width =	$04
     45  10000 ????		00 00	    sprite_spaceship11_mode =	$00
     46  10000 ????		00 1c	    sprite_spaceship11_width_twoscompliment =	$1c
     47  10000 ????		00 04	    sprite_spaceship11_width =	$04
     48  10000 ????		00 00	    sprite_spaceship10_mode =	$00
     49  10000 ????		00 1c	    sprite_spaceship10_width_twoscompliment =	$1c
     50  10000 ????		00 04	    sprite_spaceship10_width =	$04
     51  10000 ????		00 00	    sprite_spaceship9_mode =	$00
     52  10000 ????		00 1c	    sprite_spaceship9_width_twoscompliment =	$1c
     53  10000 ????		00 04	    sprite_spaceship9_width =	$04
     54  10000 ????		00 00	    sprite_spaceship8_mode =	$00
     55  10000 ????		00 1c	    sprite_spaceship8_width_twoscompliment =	$1c
     56  10000 ????		00 04	    sprite_spaceship8_width =	$04
     57  10000 ????		00 00	    sprite_spaceship7_mode =	$00
     58  10000 ????		00 1c	    sprite_spaceship7_width_twoscompliment =	$1c
     59  10000 ????		00 04	    sprite_spaceship7_width =	$04
     60  10000 ????		00 00	    sprite_spaceship6_mode =	$00
     61  10000 ????		00 1c	    sprite_spaceship6_width_twoscompliment =	$1c
     62  10000 ????		00 04	    sprite_spaceship6_width =	$04
     63  10000 ????		00 00	    sprite_spaceship5_mode =	$00
     64  10000 ????		00 1c	    sprite_spaceship5_width_twoscompliment =	$1c
     65  10000 ????		00 04	    sprite_spaceship5_width =	$04
     66  10000 ????		00 00	    sprite_spaceship4_mode =	$00
     67  10000 ????		00 1c	    sprite_spaceship4_width_twoscompliment =	$1c
     68  10000 ????		00 04	    sprite_spaceship4_width =	$04
     69  10000 ????		00 00	    sprite_spaceship3_mode =	$00
     70  10000 ????		00 1c	    sprite_spaceship3_width_twoscompliment =	$1c
     71  10000 ????		00 04	    sprite_spaceship3_width =	$04
     72  10000 ????		00 00	    sprite_spaceship2_mode =	$00
     73  10000 ????		00 1c	    sprite_spaceship2_width_twoscompliment =	$1c
     74  10000 ????		00 04	    sprite_spaceship2_width =	$04
     75  10000 ????		00 00	    sprite_spaceship1_mode =	$00
     76  10000 ????		00 1c	    sprite_spaceship1_width_twoscompliment =	$1c
     77  10000 ????		00 04	    sprite_spaceship1_width =	$04
     78  10000 ????		22 2b	    cycle_state =	var143
     79  10000 ????
     80  10000 ????		22 2a	    sc3        =	var142
     81  10000 ????
     82  10000 ????		22 29	    sc2        =	var141
     83  10000 ????
     84  10000 ????		22 28	    sc1        =	var140
     85  10000 ????
     86  10000 ????		22 4b	    cam_y_hi   =	var175
     87  10000 ????
     88  10000 ????		22 4a	    cam_y      =	var174
     89  10000 ????
     90  10000 ????		22 49	    cam_x_hi   =	var173
     91  10000 ????
     92  10000 ????		22 48	    cam_x      =	var172
     93  10000 ????
     94  10000 ????		22 47	    py_hi      =	var171
     95  10000 ????
     96  10000 ????		22 46	    px_hi      =	var170
     97  10000 ????
     98  10000 ????		01 65	    blife3     =	var37
     99  10000 ????
    100  10000 ????		01 64	    blife2     =	var36
    101  10000 ????		01 63	    blife1     =	var35
    102  10000 ????		01 62	    blife0     =	var34
    103  10000 ????		01 59	    bul_y3     =	var25
    104  10000 ????
    105  10000 ????		01 58	    bul_y2     =	var24
    106  10000 ????		01 57	    bul_y1     =	var23
    107  10000 ????		01 56	    bul_y0     =	var22
    108  10000 ????		01 55	    bul_x3     =	var21
    109  10000 ????
    110  10000 ????		01 54	    bul_x2     =	var20
    111  10000 ????		01 53	    bul_x1     =	var19
    112  10000 ????		01 52	    bul_x0     =	var18
    113  10000 ????		22 36	    alife      =	var154
    114  10000 ????
    115  10000 ????		22 35	    avy        =	var153
    116  10000 ????
    117  10000 ????		22 34	    avx        =	var152
    118  10000 ????
    119  10000 ????		22 33	    ay	       =	var151
    120  10000 ????
    121  10000 ????		22 32	    ax	       =	var150
    122  10000 ????
    123  10000 ????		22 30	    rand_val   =	var148
    124  10000 ????
    125  10000 ????		01 78	    elife      =	var56
    126  10000 ????
    127  10000 ????		01 74	    evy        =	var52
    128  10000 ????
    129  10000 ????		01 70	    evx        =	var48
    130  10000 ????
    131  10000 ????		01 6c	    ey	       =	var44
    132  10000 ????
    133  10000 ????		01 68	    ex	       =	var40
    134  10000 ????
    135  10000 ????		22 2b	    cycle_state =	var143
    136  10000 ????
    137  10000 ????		22 2a	    sc3        =	var142
    138  10000 ????
    139  10000 ????		22 29	    sc2        =	var141
    140  10000 ????
    141  10000 ????		22 28	    sc1        =	var140
    142  10000 ????
    143  10000 ????		22 14	    star_c     =	var120
    144  10000 ????
    145  10000 ????		22 00	    star_y     =	var100
    146  10000 ????
    147  10000 ????		01 90	    star_x     =	var80
    148  10000 ????
    149  10000 ????		01 87	    temp_w     =	var71
    150  10000 ????
    151  10000 ????		01 86	    ecooldown  =	var70
    152  10000 ????
    153  10000 ????		22 5c	    ebul_y_hi  =	var192
    154  10000 ????
    155  10000 ????		22 58	    ebul_x_hi  =	var188
    156  10000 ????
    157  10000 ????		22 54	    bul_y_hi   =	var184
    158  10000 ????
    159  10000 ????		22 50	    bul_x_hi   =	var180
    160  10000 ????
    161  10000 ????		22 40	    eblife     =	var164
    162  10000 ????
    163  10000 ????		22 3c	    ebul_vy    =	var160
    164  10000 ????
    165  10000 ????		01 84	    ebul_vx    =	var68
    166  10000 ????
    167  10000 ????		01 80	    ebul_y     =	var64
    168  10000 ????
    169  10000 ????		01 7c	    ebul_x     =	var60
    170  10000 ????
    171  10000 ????		01 62	    blife      =	var34
    172  10000 ????
    173  10000 ????		01 5e	    bul_vy     =	var30
    174  10000 ????
    175  10000 ????		01 5a	    bul_vx     =	var26
    176  10000 ????
    177  10000 ????		01 56	    bul_y      =	var22
    178  10000 ????
    179  10000 ????		01 52	    bul_x      =	var18
    180  10000 ????
    181  10000 ????		01 67	    temp_by    =	var39
    182  10000 ????
    183  10000 ????		01 66	    temp_bx    =	var38
    184  10000 ????
    185  10000 ????		01 51	    iter       =	var17
    186  10000 ????
    187  10000 ????		01 50	    bcooldown  =	var16
    188  10000 ????
    189  10000 ????		01 4f	    temp_v     =	var15
    190  10000 ????
    191  10000 ????		01 4e	    common     =	var14
    192  10000 ????
    193  10000 ????		01 4d	    frame      =	var13
    194  10000 ????
    195  10000 ????		01 4c	    temp_acc   =	var12
    196  10000 ????
    197  10000 ????		01 4b	    move_step  =	var11
    198  10000 ????
    199  10000 ????		01 4a	    rot_timer  =	var10
    200  10000 ????
    201  10000 ????		01 49	    shpfr      =	var9
    202  10000 ????
    203  10000 ????		01 48	    angle      =	var8
    204  10000 ????
    205  10000 ????		01 47	    ry	       =	var7
    206  10000 ????
    207  10000 ????		01 46	    rx	       =	var6
    208  10000 ????
    209  10000 ????		01 45	    vy_m       =	var5
    210  10000 ????
    211  10000 ????		01 44	    vy_p       =	var4
    212  10000 ????
    213  10000 ????		01 43	    vx_m       =	var3
    214  10000 ????
    215  10000 ????		01 42	    vx_p       =	var2
    216  10000 ????
    217  10000 ????		01 41	    py	       =	var1
    218  10000 ????
    219  10000 ????		01 40	    px	       =	var0
    220  10000 ????
    221  10000 ????		00 0f	    asteroid_M_conv_tallsprite_00_color3 =	$0f
    222  10000 ????		00 38	    asteroid_M_conv_tallsprite_00_color2 =	$38
    223  10000 ????		00 1d	    asteroid_M_conv_tallsprite_00_color1 =	$1d
    224  10000 ????		00 00	    asteroid_M_conv_tallsprite_00_color0 =	$00
    225  10000 ????		00 0f	    asteroid_M_conv_color3 =	$0f
    226  10000 ????		00 38	    asteroid_M_conv_color2 =	$38
    227  10000 ????		00 1d	    asteroid_M_conv_color1 =	$1d
    228  10000 ????		00 00	    asteroid_M_conv_color0 =	$00
    229  10000 ????		00 0f	    asteroid_L_conv_tallsprite_02_color3 =	$0f
    230  10000 ????		00 38	    asteroid_L_conv_tallsprite_02_color2 =	$38
    231  10000 ????		00 1d	    asteroid_L_conv_tallsprite_02_color1 =	$1d
    232  10000 ????		00 00	    asteroid_L_conv_tallsprite_02_color0 =	$00
    233  10000 ????		00 0f	    asteroid_L_conv_tallsprite_01_color3 =	$0f
    234  10000 ????		00 38	    asteroid_L_conv_tallsprite_01_color2 =	$38
    235  10000 ????		00 1d	    asteroid_L_conv_tallsprite_01_color1 =	$1d
    236  10000 ????		00 00	    asteroid_L_conv_tallsprite_01_color0 =	$00
    237  10000 ????		00 0f	    asteroid_L_conv_tallsprite_00_color3 =	$0f
    238  10000 ????		00 38	    asteroid_L_conv_tallsprite_00_color2 =	$38
    239  10000 ????		00 1d	    asteroid_L_conv_tallsprite_00_color1 =	$1d
    240  10000 ????		00 00	    asteroid_L_conv_tallsprite_00_color0 =	$00
    241  10000 ????		00 0f	    asteroid_L_conv_color3 =	$0f
    242  10000 ????		00 38	    asteroid_L_conv_color2 =	$38
    243  10000 ????		00 1d	    asteroid_L_conv_color1 =	$1d
    244  10000 ????		00 00	    asteroid_L_conv_color0 =	$00
    245  10000 ????		00 0f	    fighter_conv_color3 =	$0f
    246  10000 ????		00 38	    fighter_conv_color2 =	$38
    247  10000 ????		00 1d	    fighter_conv_color1 =	$1d
    248  10000 ????		00 00	    fighter_conv_color0 =	$00
    249  10000 ????		00 0f	    bullet_conv_color3 =	$0f
    250  10000 ????		00 38	    bullet_conv_color2 =	$38
    251  10000 ????		00 1d	    bullet_conv_color1 =	$1d
    252  10000 ????		00 00	    bullet_conv_color0 =	$00
    253  10000 ????		00 00	    sprite_spaceship16_color255 =	0
    254  10000 ????		00 00	    sprite_spaceship16_color254 =	0
    255  10000 ????		00 00	    sprite_spaceship16_color253 =	0
    256  10000 ????		00 00	    sprite_spaceship16_color252 =	0
    257  10000 ????		00 00	    sprite_spaceship16_color251 =	0
    258  10000 ????		00 00	    sprite_spaceship16_color250 =	0
    259  10000 ????		00 00	    sprite_spaceship16_color249 =	0
    260  10000 ????		00 00	    sprite_spaceship16_color248 =	0
    261  10000 ????		00 00	    sprite_spaceship16_color247 =	0
    262  10000 ????		00 00	    sprite_spaceship16_color246 =	0
    263  10000 ????		00 00	    sprite_spaceship16_color245 =	0
    264  10000 ????		00 00	    sprite_spaceship16_color244 =	0
    265  10000 ????		00 00	    sprite_spaceship16_color243 =	0
    266  10000 ????		00 00	    sprite_spaceship16_color242 =	0
    267  10000 ????		00 00	    sprite_spaceship16_color241 =	0
    268  10000 ????		00 00	    sprite_spaceship16_color240 =	0
    269  10000 ????		00 00	    sprite_spaceship16_color239 =	0
    270  10000 ????		00 00	    sprite_spaceship16_color238 =	0
    271  10000 ????		00 00	    sprite_spaceship16_color237 =	0
    272  10000 ????		00 00	    sprite_spaceship16_color236 =	0
    273  10000 ????		00 00	    sprite_spaceship16_color235 =	0
    274  10000 ????		00 00	    sprite_spaceship16_color234 =	0
    275  10000 ????		00 00	    sprite_spaceship16_color233 =	0
    276  10000 ????		00 00	    sprite_spaceship16_color232 =	0
    277  10000 ????		00 00	    sprite_spaceship16_color231 =	0
    278  10000 ????		00 00	    sprite_spaceship16_color230 =	0
    279  10000 ????		00 00	    sprite_spaceship16_color229 =	0
    280  10000 ????		00 00	    sprite_spaceship16_color228 =	0
    281  10000 ????		00 00	    sprite_spaceship16_color227 =	0
    282  10000 ????		00 00	    sprite_spaceship16_color226 =	0
    283  10000 ????		00 00	    sprite_spaceship16_color225 =	0
    284  10000 ????		00 00	    sprite_spaceship16_color224 =	0
    285  10000 ????		00 00	    sprite_spaceship16_color223 =	0
    286  10000 ????		00 00	    sprite_spaceship16_color222 =	0
    287  10000 ????		00 00	    sprite_spaceship16_color221 =	0
    288  10000 ????		00 00	    sprite_spaceship16_color220 =	0
    289  10000 ????		00 00	    sprite_spaceship16_color219 =	0
    290  10000 ????		00 00	    sprite_spaceship16_color218 =	0
    291  10000 ????		00 00	    sprite_spaceship16_color217 =	0
    292  10000 ????		00 00	    sprite_spaceship16_color216 =	0
    293  10000 ????		00 00	    sprite_spaceship16_color215 =	0
    294  10000 ????		00 00	    sprite_spaceship16_color214 =	0
    295  10000 ????		00 00	    sprite_spaceship16_color213 =	0
    296  10000 ????		00 00	    sprite_spaceship16_color212 =	0
    297  10000 ????		00 00	    sprite_spaceship16_color211 =	0
    298  10000 ????		00 00	    sprite_spaceship16_color210 =	0
    299  10000 ????		00 00	    sprite_spaceship16_color209 =	0
    300  10000 ????		00 00	    sprite_spaceship16_color208 =	0
    301  10000 ????		00 00	    sprite_spaceship16_color207 =	0
    302  10000 ????		00 00	    sprite_spaceship16_color206 =	0
    303  10000 ????		00 00	    sprite_spaceship16_color205 =	0
    304  10000 ????		00 00	    sprite_spaceship16_color204 =	0
    305  10000 ????		00 00	    sprite_spaceship16_color203 =	0
    306  10000 ????		00 00	    sprite_spaceship16_color202 =	0
    307  10000 ????		00 00	    sprite_spaceship16_color201 =	0
    308  10000 ????		00 00	    sprite_spaceship16_color200 =	0
    309  10000 ????		00 00	    sprite_spaceship16_color199 =	0
    310  10000 ????		00 00	    sprite_spaceship16_color198 =	0
    311  10000 ????		00 00	    sprite_spaceship16_color197 =	0
    312  10000 ????		00 00	    sprite_spaceship16_color196 =	0
    313  10000 ????		00 00	    sprite_spaceship16_color195 =	0
    314  10000 ????		00 00	    sprite_spaceship16_color194 =	0
    315  10000 ????		00 00	    sprite_spaceship16_color193 =	0
    316  10000 ????		00 00	    sprite_spaceship16_color192 =	0
    317  10000 ????		00 00	    sprite_spaceship16_color191 =	0
    318  10000 ????		00 00	    sprite_spaceship16_color190 =	0
    319  10000 ????		00 00	    sprite_spaceship16_color189 =	0
    320  10000 ????		00 00	    sprite_spaceship16_color188 =	0
    321  10000 ????		00 00	    sprite_spaceship16_color187 =	0
    322  10000 ????		00 00	    sprite_spaceship16_color186 =	0
    323  10000 ????		00 00	    sprite_spaceship16_color185 =	0
    324  10000 ????		00 00	    sprite_spaceship16_color184 =	0
    325  10000 ????		00 00	    sprite_spaceship16_color183 =	0
    326  10000 ????		00 00	    sprite_spaceship16_color182 =	0
    327  10000 ????		00 00	    sprite_spaceship16_color181 =	0
    328  10000 ????		00 00	    sprite_spaceship16_color180 =	0
    329  10000 ????		00 00	    sprite_spaceship16_color179 =	0
    330  10000 ????		00 00	    sprite_spaceship16_color178 =	0
    331  10000 ????		00 00	    sprite_spaceship16_color177 =	0
    332  10000 ????		00 00	    sprite_spaceship16_color176 =	0
    333  10000 ????		00 00	    sprite_spaceship16_color175 =	0
    334  10000 ????		00 00	    sprite_spaceship16_color174 =	0
    335  10000 ????		00 00	    sprite_spaceship16_color173 =	0
    336  10000 ????		00 00	    sprite_spaceship16_color172 =	0
    337  10000 ????		00 00	    sprite_spaceship16_color171 =	0
    338  10000 ????		00 00	    sprite_spaceship16_color170 =	0
    339  10000 ????		00 00	    sprite_spaceship16_color169 =	0
    340  10000 ????		00 00	    sprite_spaceship16_color168 =	0
    341  10000 ????		00 00	    sprite_spaceship16_color167 =	0
    342  10000 ????		00 00	    sprite_spaceship16_color166 =	0
    343  10000 ????		00 00	    sprite_spaceship16_color165 =	0
    344  10000 ????		00 00	    sprite_spaceship16_color164 =	0
    345  10000 ????		00 00	    sprite_spaceship16_color163 =	0
    346  10000 ????		00 00	    sprite_spaceship16_color162 =	0
    347  10000 ????		00 00	    sprite_spaceship16_color161 =	0
    348  10000 ????		00 00	    sprite_spaceship16_color160 =	0
    349  10000 ????		00 00	    sprite_spaceship16_color159 =	0
    350  10000 ????		00 00	    sprite_spaceship16_color158 =	0
    351  10000 ????		00 00	    sprite_spaceship16_color157 =	0
    352  10000 ????		00 00	    sprite_spaceship16_color156 =	0
    353  10000 ????		00 00	    sprite_spaceship16_color155 =	0
    354  10000 ????		00 00	    sprite_spaceship16_color154 =	0
    355  10000 ????		00 00	    sprite_spaceship16_color153 =	0
    356  10000 ????		00 00	    sprite_spaceship16_color152 =	0
    357  10000 ????		00 00	    sprite_spaceship16_color151 =	0
    358  10000 ????		00 00	    sprite_spaceship16_color150 =	0
    359  10000 ????		00 00	    sprite_spaceship16_color149 =	0
    360  10000 ????		00 00	    sprite_spaceship16_color148 =	0
    361  10000 ????		00 00	    sprite_spaceship16_color147 =	0
    362  10000 ????		00 00	    sprite_spaceship16_color146 =	0
    363  10000 ????		00 00	    sprite_spaceship16_color145 =	0
    364  10000 ????		00 00	    sprite_spaceship16_color144 =	0
    365  10000 ????		00 00	    sprite_spaceship16_color143 =	0
    366  10000 ????		00 00	    sprite_spaceship16_color142 =	0
    367  10000 ????		00 00	    sprite_spaceship16_color141 =	0
    368  10000 ????		00 00	    sprite_spaceship16_color140 =	0
    369  10000 ????		00 00	    sprite_spaceship16_color139 =	0
    370  10000 ????		00 00	    sprite_spaceship16_color138 =	0
    371  10000 ????		00 00	    sprite_spaceship16_color137 =	0
    372  10000 ????		00 00	    sprite_spaceship16_color136 =	0
    373  10000 ????		00 00	    sprite_spaceship16_color135 =	0
    374  10000 ????		00 00	    sprite_spaceship16_color134 =	0
    375  10000 ????		00 00	    sprite_spaceship16_color133 =	0
    376  10000 ????		00 00	    sprite_spaceship16_color132 =	0
    377  10000 ????		00 00	    sprite_spaceship16_color131 =	0
    378  10000 ????		00 00	    sprite_spaceship16_color130 =	0
    379  10000 ????		00 00	    sprite_spaceship16_color129 =	0
    380  10000 ????		00 00	    sprite_spaceship16_color128 =	0
    381  10000 ????		00 00	    sprite_spaceship16_color127 =	0
    382  10000 ????		00 00	    sprite_spaceship16_color126 =	0
    383  10000 ????		00 00	    sprite_spaceship16_color125 =	0
    384  10000 ????		00 00	    sprite_spaceship16_color124 =	0
    385  10000 ????		00 00	    sprite_spaceship16_color123 =	0
    386  10000 ????		00 00	    sprite_spaceship16_color122 =	0
    387  10000 ????		00 00	    sprite_spaceship16_color121 =	0
    388  10000 ????		00 00	    sprite_spaceship16_color120 =	0
    389  10000 ????		00 00	    sprite_spaceship16_color119 =	0
    390  10000 ????		00 00	    sprite_spaceship16_color118 =	0
    391  10000 ????		00 00	    sprite_spaceship16_color117 =	0
    392  10000 ????		00 00	    sprite_spaceship16_color116 =	0
    393  10000 ????		00 00	    sprite_spaceship16_color115 =	0
    394  10000 ????		00 00	    sprite_spaceship16_color114 =	0
    395  10000 ????		00 00	    sprite_spaceship16_color113 =	0
    396  10000 ????		00 00	    sprite_spaceship16_color112 =	0
    397  10000 ????		00 00	    sprite_spaceship16_color111 =	0
    398  10000 ????		00 00	    sprite_spaceship16_color110 =	0
    399  10000 ????		00 00	    sprite_spaceship16_color109 =	0
    400  10000 ????		00 00	    sprite_spaceship16_color108 =	0
    401  10000 ????		00 00	    sprite_spaceship16_color107 =	0
    402  10000 ????		00 00	    sprite_spaceship16_color106 =	0
    403  10000 ????		00 00	    sprite_spaceship16_color105 =	0
    404  10000 ????		00 00	    sprite_spaceship16_color104 =	0
    405  10000 ????		00 00	    sprite_spaceship16_color103 =	0
    406  10000 ????		00 00	    sprite_spaceship16_color102 =	0
    407  10000 ????		00 00	    sprite_spaceship16_color101 =	0
    408  10000 ????		00 00	    sprite_spaceship16_color100 =	0
    409  10000 ????		00 00	    sprite_spaceship16_color99 =	0
    410  10000 ????		00 00	    sprite_spaceship16_color98 =	0
    411  10000 ????		00 00	    sprite_spaceship16_color97 =	0
    412  10000 ????		00 00	    sprite_spaceship16_color96 =	0
    413  10000 ????		00 00	    sprite_spaceship16_color95 =	0
    414  10000 ????		00 00	    sprite_spaceship16_color94 =	0
    415  10000 ????		00 00	    sprite_spaceship16_color93 =	0
    416  10000 ????		00 00	    sprite_spaceship16_color92 =	0
    417  10000 ????		00 00	    sprite_spaceship16_color91 =	0
    418  10000 ????		00 00	    sprite_spaceship16_color90 =	0
    419  10000 ????		00 00	    sprite_spaceship16_color89 =	0
    420  10000 ????		00 00	    sprite_spaceship16_color88 =	0
    421  10000 ????		00 00	    sprite_spaceship16_color87 =	0
    422  10000 ????		00 00	    sprite_spaceship16_color86 =	0
    423  10000 ????		00 00	    sprite_spaceship16_color85 =	0
    424  10000 ????		00 00	    sprite_spaceship16_color84 =	0
    425  10000 ????		00 00	    sprite_spaceship16_color83 =	0
    426  10000 ????		00 00	    sprite_spaceship16_color82 =	0
    427  10000 ????		00 00	    sprite_spaceship16_color81 =	0
    428  10000 ????		00 00	    sprite_spaceship16_color80 =	0
    429  10000 ????		00 00	    sprite_spaceship16_color79 =	0
    430  10000 ????		00 00	    sprite_spaceship16_color78 =	0
    431  10000 ????		00 00	    sprite_spaceship16_color77 =	0
    432  10000 ????		00 00	    sprite_spaceship16_color76 =	0
    433  10000 ????		00 00	    sprite_spaceship16_color75 =	0
    434  10000 ????		00 00	    sprite_spaceship16_color74 =	0
    435  10000 ????		00 00	    sprite_spaceship16_color73 =	0
    436  10000 ????		00 00	    sprite_spaceship16_color72 =	0
    437  10000 ????		00 00	    sprite_spaceship16_color71 =	0
    438  10000 ????		00 00	    sprite_spaceship16_color70 =	0
    439  10000 ????		00 00	    sprite_spaceship16_color69 =	0
    440  10000 ????		00 00	    sprite_spaceship16_color68 =	0
    441  10000 ????		00 00	    sprite_spaceship16_color67 =	0
    442  10000 ????		00 00	    sprite_spaceship16_color66 =	0
    443  10000 ????		00 00	    sprite_spaceship16_color65 =	0
    444  10000 ????		00 00	    sprite_spaceship16_color64 =	0
    445  10000 ????		00 00	    sprite_spaceship16_color63 =	0
    446  10000 ????		00 00	    sprite_spaceship16_color62 =	0
    447  10000 ????		00 00	    sprite_spaceship16_color61 =	0
    448  10000 ????		00 00	    sprite_spaceship16_color60 =	0
    449  10000 ????		00 00	    sprite_spaceship16_color59 =	0
    450  10000 ????		00 00	    sprite_spaceship16_color58 =	0
    451  10000 ????		00 00	    sprite_spaceship16_color57 =	0
    452  10000 ????		00 00	    sprite_spaceship16_color56 =	0
    453  10000 ????		00 00	    sprite_spaceship16_color55 =	0
    454  10000 ????		00 00	    sprite_spaceship16_color54 =	0
    455  10000 ????		00 00	    sprite_spaceship16_color53 =	0
    456  10000 ????		00 00	    sprite_spaceship16_color52 =	0
    457  10000 ????		00 00	    sprite_spaceship16_color51 =	0
    458  10000 ????		00 00	    sprite_spaceship16_color50 =	0
    459  10000 ????		00 00	    sprite_spaceship16_color49 =	0
    460  10000 ????		00 00	    sprite_spaceship16_color48 =	0
    461  10000 ????		00 00	    sprite_spaceship16_color47 =	0
    462  10000 ????		00 00	    sprite_spaceship16_color46 =	0
    463  10000 ????		00 00	    sprite_spaceship16_color45 =	0
    464  10000 ????		00 00	    sprite_spaceship16_color44 =	0
    465  10000 ????		00 00	    sprite_spaceship16_color43 =	0
    466  10000 ????		00 00	    sprite_spaceship16_color42 =	0
    467  10000 ????		00 00	    sprite_spaceship16_color41 =	0
    468  10000 ????		00 00	    sprite_spaceship16_color40 =	0
    469  10000 ????		00 00	    sprite_spaceship16_color39 =	0
    470  10000 ????		00 00	    sprite_spaceship16_color38 =	0
    471  10000 ????		00 00	    sprite_spaceship16_color37 =	0
    472  10000 ????		00 00	    sprite_spaceship16_color36 =	0
    473  10000 ????		00 00	    sprite_spaceship16_color35 =	0
    474  10000 ????		00 00	    sprite_spaceship16_color34 =	0
    475  10000 ????		00 00	    sprite_spaceship16_color33 =	0
    476  10000 ????		00 00	    sprite_spaceship16_color32 =	0
    477  10000 ????		00 00	    sprite_spaceship16_color31 =	0
    478  10000 ????		00 00	    sprite_spaceship16_color30 =	0
    479  10000 ????		00 00	    sprite_spaceship16_color29 =	0
    480  10000 ????		00 00	    sprite_spaceship16_color28 =	0
    481  10000 ????		00 00	    sprite_spaceship16_color27 =	0
    482  10000 ????		00 00	    sprite_spaceship16_color26 =	0
    483  10000 ????		00 00	    sprite_spaceship16_color25 =	0
    484  10000 ????		00 00	    sprite_spaceship16_color24 =	0
    485  10000 ????		00 00	    sprite_spaceship16_color23 =	0
    486  10000 ????		00 00	    sprite_spaceship16_color22 =	0
    487  10000 ????		00 00	    sprite_spaceship16_color21 =	0
    488  10000 ????		00 00	    sprite_spaceship16_color20 =	0
    489  10000 ????		00 00	    sprite_spaceship16_color19 =	0
    490  10000 ????		00 00	    sprite_spaceship16_color18 =	0
    491  10000 ????		00 00	    sprite_spaceship16_color17 =	0
    492  10000 ????		00 00	    sprite_spaceship16_color16 =	0
    493  10000 ????		00 00	    sprite_spaceship16_color15 =	0
    494  10000 ????		00 00	    sprite_spaceship16_color14 =	0
    495  10000 ????		00 00	    sprite_spaceship16_color13 =	0
    496  10000 ????		00 00	    sprite_spaceship16_color12 =	0
    497  10000 ????		00 00	    sprite_spaceship16_color11 =	0
    498  10000 ????		00 00	    sprite_spaceship16_color10 =	0
    499  10000 ????		00 00	    sprite_spaceship16_color9 =	0
    500  10000 ????		00 00	    sprite_spaceship16_color8 =	0
    501  10000 ????		00 00	    sprite_spaceship16_color7 =	0
    502  10000 ????		00 00	    sprite_spaceship16_color6 =	0
    503  10000 ????		00 00	    sprite_spaceship16_color5 =	0
    504  10000 ????		00 00	    sprite_spaceship16_color4 =	0
    505  10000 ????		00 1e	    sprite_spaceship16_color3 =	$1e
    506  10000 ????		00 81	    sprite_spaceship16_color2 =	$81
    507  10000 ????		00 44	    sprite_spaceship16_color1 =	$44
    508  10000 ????		00 00	    sprite_spaceship16_color0 =	$00
    509  10000 ????		00 00	    sprite_spaceship15_color255 =	0
    510  10000 ????		00 00	    sprite_spaceship15_color254 =	0
    511  10000 ????		00 00	    sprite_spaceship15_color253 =	0
    512  10000 ????		00 00	    sprite_spaceship15_color252 =	0
    513  10000 ????		00 00	    sprite_spaceship15_color251 =	0
    514  10000 ????		00 00	    sprite_spaceship15_color250 =	0
    515  10000 ????		00 00	    sprite_spaceship15_color249 =	0
    516  10000 ????		00 00	    sprite_spaceship15_color248 =	0
    517  10000 ????		00 00	    sprite_spaceship15_color247 =	0
    518  10000 ????		00 00	    sprite_spaceship15_color246 =	0
    519  10000 ????		00 00	    sprite_spaceship15_color245 =	0
    520  10000 ????		00 00	    sprite_spaceship15_color244 =	0
    521  10000 ????		00 00	    sprite_spaceship15_color243 =	0
    522  10000 ????		00 00	    sprite_spaceship15_color242 =	0
    523  10000 ????		00 00	    sprite_spaceship15_color241 =	0
    524  10000 ????		00 00	    sprite_spaceship15_color240 =	0
    525  10000 ????		00 00	    sprite_spaceship15_color239 =	0
    526  10000 ????		00 00	    sprite_spaceship15_color238 =	0
    527  10000 ????		00 00	    sprite_spaceship15_color237 =	0
    528  10000 ????		00 00	    sprite_spaceship15_color236 =	0
    529  10000 ????		00 00	    sprite_spaceship15_color235 =	0
    530  10000 ????		00 00	    sprite_spaceship15_color234 =	0
    531  10000 ????		00 00	    sprite_spaceship15_color233 =	0
    532  10000 ????		00 00	    sprite_spaceship15_color232 =	0
    533  10000 ????		00 00	    sprite_spaceship15_color231 =	0
    534  10000 ????		00 00	    sprite_spaceship15_color230 =	0
    535  10000 ????		00 00	    sprite_spaceship15_color229 =	0
    536  10000 ????		00 00	    sprite_spaceship15_color228 =	0
    537  10000 ????		00 00	    sprite_spaceship15_color227 =	0
    538  10000 ????		00 00	    sprite_spaceship15_color226 =	0
    539  10000 ????		00 00	    sprite_spaceship15_color225 =	0
    540  10000 ????		00 00	    sprite_spaceship15_color224 =	0
    541  10000 ????		00 00	    sprite_spaceship15_color223 =	0
    542  10000 ????		00 00	    sprite_spaceship15_color222 =	0
    543  10000 ????		00 00	    sprite_spaceship15_color221 =	0
    544  10000 ????		00 00	    sprite_spaceship15_color220 =	0
    545  10000 ????		00 00	    sprite_spaceship15_color219 =	0
    546  10000 ????		00 00	    sprite_spaceship15_color218 =	0
    547  10000 ????		00 00	    sprite_spaceship15_color217 =	0
    548  10000 ????		00 00	    sprite_spaceship15_color216 =	0
    549  10000 ????		00 00	    sprite_spaceship15_color215 =	0
    550  10000 ????		00 00	    sprite_spaceship15_color214 =	0
    551  10000 ????		00 00	    sprite_spaceship15_color213 =	0
    552  10000 ????		00 00	    sprite_spaceship15_color212 =	0
    553  10000 ????		00 00	    sprite_spaceship15_color211 =	0
    554  10000 ????		00 00	    sprite_spaceship15_color210 =	0
    555  10000 ????		00 00	    sprite_spaceship15_color209 =	0
    556  10000 ????		00 00	    sprite_spaceship15_color208 =	0
    557  10000 ????		00 00	    sprite_spaceship15_color207 =	0
    558  10000 ????		00 00	    sprite_spaceship15_color206 =	0
    559  10000 ????		00 00	    sprite_spaceship15_color205 =	0
    560  10000 ????		00 00	    sprite_spaceship15_color204 =	0
    561  10000 ????		00 00	    sprite_spaceship15_color203 =	0
    562  10000 ????		00 00	    sprite_spaceship15_color202 =	0
    563  10000 ????		00 00	    sprite_spaceship15_color201 =	0
    564  10000 ????		00 00	    sprite_spaceship15_color200 =	0
    565  10000 ????		00 00	    sprite_spaceship15_color199 =	0
    566  10000 ????		00 00	    sprite_spaceship15_color198 =	0
    567  10000 ????		00 00	    sprite_spaceship15_color197 =	0
    568  10000 ????		00 00	    sprite_spaceship15_color196 =	0
    569  10000 ????		00 00	    sprite_spaceship15_color195 =	0
    570  10000 ????		00 00	    sprite_spaceship15_color194 =	0
    571  10000 ????		00 00	    sprite_spaceship15_color193 =	0
    572  10000 ????		00 00	    sprite_spaceship15_color192 =	0
    573  10000 ????		00 00	    sprite_spaceship15_color191 =	0
    574  10000 ????		00 00	    sprite_spaceship15_color190 =	0
    575  10000 ????		00 00	    sprite_spaceship15_color189 =	0
    576  10000 ????		00 00	    sprite_spaceship15_color188 =	0
    577  10000 ????		00 00	    sprite_spaceship15_color187 =	0
    578  10000 ????		00 00	    sprite_spaceship15_color186 =	0
    579  10000 ????		00 00	    sprite_spaceship15_color185 =	0
    580  10000 ????		00 00	    sprite_spaceship15_color184 =	0
    581  10000 ????		00 00	    sprite_spaceship15_color183 =	0
    582  10000 ????		00 00	    sprite_spaceship15_color182 =	0
    583  10000 ????		00 00	    sprite_spaceship15_color181 =	0
    584  10000 ????		00 00	    sprite_spaceship15_color180 =	0
    585  10000 ????		00 00	    sprite_spaceship15_color179 =	0
    586  10000 ????		00 00	    sprite_spaceship15_color178 =	0
    587  10000 ????		00 00	    sprite_spaceship15_color177 =	0
    588  10000 ????		00 00	    sprite_spaceship15_color176 =	0
    589  10000 ????		00 00	    sprite_spaceship15_color175 =	0
    590  10000 ????		00 00	    sprite_spaceship15_color174 =	0
    591  10000 ????		00 00	    sprite_spaceship15_color173 =	0
    592  10000 ????		00 00	    sprite_spaceship15_color172 =	0
    593  10000 ????		00 00	    sprite_spaceship15_color171 =	0
    594  10000 ????		00 00	    sprite_spaceship15_color170 =	0
    595  10000 ????		00 00	    sprite_spaceship15_color169 =	0
    596  10000 ????		00 00	    sprite_spaceship15_color168 =	0
    597  10000 ????		00 00	    sprite_spaceship15_color167 =	0
    598  10000 ????		00 00	    sprite_spaceship15_color166 =	0
    599  10000 ????		00 00	    sprite_spaceship15_color165 =	0
    600  10000 ????		00 00	    sprite_spaceship15_color164 =	0
    601  10000 ????		00 00	    sprite_spaceship15_color163 =	0
    602  10000 ????		00 00	    sprite_spaceship15_color162 =	0
    603  10000 ????		00 00	    sprite_spaceship15_color161 =	0
    604  10000 ????		00 00	    sprite_spaceship15_color160 =	0
    605  10000 ????		00 00	    sprite_spaceship15_color159 =	0
    606  10000 ????		00 00	    sprite_spaceship15_color158 =	0
    607  10000 ????		00 00	    sprite_spaceship15_color157 =	0
    608  10000 ????		00 00	    sprite_spaceship15_color156 =	0
    609  10000 ????		00 00	    sprite_spaceship15_color155 =	0
    610  10000 ????		00 00	    sprite_spaceship15_color154 =	0
    611  10000 ????		00 00	    sprite_spaceship15_color153 =	0
    612  10000 ????		00 00	    sprite_spaceship15_color152 =	0
    613  10000 ????		00 00	    sprite_spaceship15_color151 =	0
    614  10000 ????		00 00	    sprite_spaceship15_color150 =	0
    615  10000 ????		00 00	    sprite_spaceship15_color149 =	0
    616  10000 ????		00 00	    sprite_spaceship15_color148 =	0
    617  10000 ????		00 00	    sprite_spaceship15_color147 =	0
    618  10000 ????		00 00	    sprite_spaceship15_color146 =	0
    619  10000 ????		00 00	    sprite_spaceship15_color145 =	0
    620  10000 ????		00 00	    sprite_spaceship15_color144 =	0
    621  10000 ????		00 00	    sprite_spaceship15_color143 =	0
    622  10000 ????		00 00	    sprite_spaceship15_color142 =	0
    623  10000 ????		00 00	    sprite_spaceship15_color141 =	0
    624  10000 ????		00 00	    sprite_spaceship15_color140 =	0
    625  10000 ????		00 00	    sprite_spaceship15_color139 =	0
    626  10000 ????		00 00	    sprite_spaceship15_color138 =	0
    627  10000 ????		00 00	    sprite_spaceship15_color137 =	0
    628  10000 ????		00 00	    sprite_spaceship15_color136 =	0
    629  10000 ????		00 00	    sprite_spaceship15_color135 =	0
    630  10000 ????		00 00	    sprite_spaceship15_color134 =	0
    631  10000 ????		00 00	    sprite_spaceship15_color133 =	0
    632  10000 ????		00 00	    sprite_spaceship15_color132 =	0
    633  10000 ????		00 00	    sprite_spaceship15_color131 =	0
    634  10000 ????		00 00	    sprite_spaceship15_color130 =	0
    635  10000 ????		00 00	    sprite_spaceship15_color129 =	0
    636  10000 ????		00 00	    sprite_spaceship15_color128 =	0
    637  10000 ????		00 00	    sprite_spaceship15_color127 =	0
    638  10000 ????		00 00	    sprite_spaceship15_color126 =	0
    639  10000 ????		00 00	    sprite_spaceship15_color125 =	0
    640  10000 ????		00 00	    sprite_spaceship15_color124 =	0
    641  10000 ????		00 00	    sprite_spaceship15_color123 =	0
    642  10000 ????		00 00	    sprite_spaceship15_color122 =	0
    643  10000 ????		00 00	    sprite_spaceship15_color121 =	0
    644  10000 ????		00 00	    sprite_spaceship15_color120 =	0
    645  10000 ????		00 00	    sprite_spaceship15_color119 =	0
    646  10000 ????		00 00	    sprite_spaceship15_color118 =	0
    647  10000 ????		00 00	    sprite_spaceship15_color117 =	0
    648  10000 ????		00 00	    sprite_spaceship15_color116 =	0
    649  10000 ????		00 00	    sprite_spaceship15_color115 =	0
    650  10000 ????		00 00	    sprite_spaceship15_color114 =	0
    651  10000 ????		00 00	    sprite_spaceship15_color113 =	0
    652  10000 ????		00 00	    sprite_spaceship15_color112 =	0
    653  10000 ????		00 00	    sprite_spaceship15_color111 =	0
    654  10000 ????		00 00	    sprite_spaceship15_color110 =	0
    655  10000 ????		00 00	    sprite_spaceship15_color109 =	0
    656  10000 ????		00 00	    sprite_spaceship15_color108 =	0
    657  10000 ????		00 00	    sprite_spaceship15_color107 =	0
    658  10000 ????		00 00	    sprite_spaceship15_color106 =	0
    659  10000 ????		00 00	    sprite_spaceship15_color105 =	0
    660  10000 ????		00 00	    sprite_spaceship15_color104 =	0
    661  10000 ????		00 00	    sprite_spaceship15_color103 =	0
    662  10000 ????		00 00	    sprite_spaceship15_color102 =	0
    663  10000 ????		00 00	    sprite_spaceship15_color101 =	0
    664  10000 ????		00 00	    sprite_spaceship15_color100 =	0
    665  10000 ????		00 00	    sprite_spaceship15_color99 =	0
    666  10000 ????		00 00	    sprite_spaceship15_color98 =	0
    667  10000 ????		00 00	    sprite_spaceship15_color97 =	0
    668  10000 ????		00 00	    sprite_spaceship15_color96 =	0
    669  10000 ????		00 00	    sprite_spaceship15_color95 =	0
    670  10000 ????		00 00	    sprite_spaceship15_color94 =	0
    671  10000 ????		00 00	    sprite_spaceship15_color93 =	0
    672  10000 ????		00 00	    sprite_spaceship15_color92 =	0
    673  10000 ????		00 00	    sprite_spaceship15_color91 =	0
    674  10000 ????		00 00	    sprite_spaceship15_color90 =	0
    675  10000 ????		00 00	    sprite_spaceship15_color89 =	0
    676  10000 ????		00 00	    sprite_spaceship15_color88 =	0
    677  10000 ????		00 00	    sprite_spaceship15_color87 =	0
    678  10000 ????		00 00	    sprite_spaceship15_color86 =	0
    679  10000 ????		00 00	    sprite_spaceship15_color85 =	0
    680  10000 ????		00 00	    sprite_spaceship15_color84 =	0
    681  10000 ????		00 00	    sprite_spaceship15_color83 =	0
    682  10000 ????		00 00	    sprite_spaceship15_color82 =	0
    683  10000 ????		00 00	    sprite_spaceship15_color81 =	0
    684  10000 ????		00 00	    sprite_spaceship15_color80 =	0
    685  10000 ????		00 00	    sprite_spaceship15_color79 =	0
    686  10000 ????		00 00	    sprite_spaceship15_color78 =	0
    687  10000 ????		00 00	    sprite_spaceship15_color77 =	0
    688  10000 ????		00 00	    sprite_spaceship15_color76 =	0
    689  10000 ????		00 00	    sprite_spaceship15_color75 =	0
    690  10000 ????		00 00	    sprite_spaceship15_color74 =	0
    691  10000 ????		00 00	    sprite_spaceship15_color73 =	0
    692  10000 ????		00 00	    sprite_spaceship15_color72 =	0
    693  10000 ????		00 00	    sprite_spaceship15_color71 =	0
    694  10000 ????		00 00	    sprite_spaceship15_color70 =	0
    695  10000 ????		00 00	    sprite_spaceship15_color69 =	0
    696  10000 ????		00 00	    sprite_spaceship15_color68 =	0
    697  10000 ????		00 00	    sprite_spaceship15_color67 =	0
    698  10000 ????		00 00	    sprite_spaceship15_color66 =	0
    699  10000 ????		00 00	    sprite_spaceship15_color65 =	0
    700  10000 ????		00 00	    sprite_spaceship15_color64 =	0
    701  10000 ????		00 00	    sprite_spaceship15_color63 =	0
    702  10000 ????		00 00	    sprite_spaceship15_color62 =	0
    703  10000 ????		00 00	    sprite_spaceship15_color61 =	0
    704  10000 ????		00 00	    sprite_spaceship15_color60 =	0
    705  10000 ????		00 00	    sprite_spaceship15_color59 =	0
    706  10000 ????		00 00	    sprite_spaceship15_color58 =	0
    707  10000 ????		00 00	    sprite_spaceship15_color57 =	0
    708  10000 ????		00 00	    sprite_spaceship15_color56 =	0
    709  10000 ????		00 00	    sprite_spaceship15_color55 =	0
    710  10000 ????		00 00	    sprite_spaceship15_color54 =	0
    711  10000 ????		00 00	    sprite_spaceship15_color53 =	0
    712  10000 ????		00 00	    sprite_spaceship15_color52 =	0
    713  10000 ????		00 00	    sprite_spaceship15_color51 =	0
    714  10000 ????		00 00	    sprite_spaceship15_color50 =	0
    715  10000 ????		00 00	    sprite_spaceship15_color49 =	0
    716  10000 ????		00 00	    sprite_spaceship15_color48 =	0
    717  10000 ????		00 00	    sprite_spaceship15_color47 =	0
    718  10000 ????		00 00	    sprite_spaceship15_color46 =	0
    719  10000 ????		00 00	    sprite_spaceship15_color45 =	0
    720  10000 ????		00 00	    sprite_spaceship15_color44 =	0
    721  10000 ????		00 00	    sprite_spaceship15_color43 =	0
    722  10000 ????		00 00	    sprite_spaceship15_color42 =	0
    723  10000 ????		00 00	    sprite_spaceship15_color41 =	0
    724  10000 ????		00 00	    sprite_spaceship15_color40 =	0
    725  10000 ????		00 00	    sprite_spaceship15_color39 =	0
    726  10000 ????		00 00	    sprite_spaceship15_color38 =	0
    727  10000 ????		00 00	    sprite_spaceship15_color37 =	0
    728  10000 ????		00 00	    sprite_spaceship15_color36 =	0
    729  10000 ????		00 00	    sprite_spaceship15_color35 =	0
    730  10000 ????		00 00	    sprite_spaceship15_color34 =	0
    731  10000 ????		00 00	    sprite_spaceship15_color33 =	0
    732  10000 ????		00 00	    sprite_spaceship15_color32 =	0
    733  10000 ????		00 00	    sprite_spaceship15_color31 =	0
    734  10000 ????		00 00	    sprite_spaceship15_color30 =	0
    735  10000 ????		00 00	    sprite_spaceship15_color29 =	0
    736  10000 ????		00 00	    sprite_spaceship15_color28 =	0
    737  10000 ????		00 00	    sprite_spaceship15_color27 =	0
    738  10000 ????		00 00	    sprite_spaceship15_color26 =	0
    739  10000 ????		00 00	    sprite_spaceship15_color25 =	0
    740  10000 ????		00 00	    sprite_spaceship15_color24 =	0
    741  10000 ????		00 00	    sprite_spaceship15_color23 =	0
    742  10000 ????		00 00	    sprite_spaceship15_color22 =	0
    743  10000 ????		00 00	    sprite_spaceship15_color21 =	0
    744  10000 ????		00 00	    sprite_spaceship15_color20 =	0
    745  10000 ????		00 00	    sprite_spaceship15_color19 =	0
    746  10000 ????		00 00	    sprite_spaceship15_color18 =	0
    747  10000 ????		00 00	    sprite_spaceship15_color17 =	0
    748  10000 ????		00 00	    sprite_spaceship15_color16 =	0
    749  10000 ????		00 00	    sprite_spaceship15_color15 =	0
    750  10000 ????		00 00	    sprite_spaceship15_color14 =	0
    751  10000 ????		00 00	    sprite_spaceship15_color13 =	0
    752  10000 ????		00 00	    sprite_spaceship15_color12 =	0
    753  10000 ????		00 00	    sprite_spaceship15_color11 =	0
    754  10000 ????		00 00	    sprite_spaceship15_color10 =	0
    755  10000 ????		00 00	    sprite_spaceship15_color9 =	0
    756  10000 ????		00 00	    sprite_spaceship15_color8 =	0
    757  10000 ????		00 00	    sprite_spaceship15_color7 =	0
    758  10000 ????		00 00	    sprite_spaceship15_color6 =	0
    759  10000 ????		00 00	    sprite_spaceship15_color5 =	0
    760  10000 ????		00 00	    sprite_spaceship15_color4 =	0
    761  10000 ????		00 1e	    sprite_spaceship15_color3 =	$1e
    762  10000 ????		00 81	    sprite_spaceship15_color2 =	$81
    763  10000 ????		00 44	    sprite_spaceship15_color1 =	$44
    764  10000 ????		00 00	    sprite_spaceship15_color0 =	$00
    765  10000 ????		00 00	    sprite_spaceship14_color255 =	0
    766  10000 ????		00 00	    sprite_spaceship14_color254 =	0
    767  10000 ????		00 00	    sprite_spaceship14_color253 =	0
    768  10000 ????		00 00	    sprite_spaceship14_color252 =	0
    769  10000 ????		00 00	    sprite_spaceship14_color251 =	0
    770  10000 ????		00 00	    sprite_spaceship14_color250 =	0
    771  10000 ????		00 00	    sprite_spaceship14_color249 =	0
    772  10000 ????		00 00	    sprite_spaceship14_color248 =	0
    773  10000 ????		00 00	    sprite_spaceship14_color247 =	0
    774  10000 ????		00 00	    sprite_spaceship14_color246 =	0
    775  10000 ????		00 00	    sprite_spaceship14_color245 =	0
    776  10000 ????		00 00	    sprite_spaceship14_color244 =	0
    777  10000 ????		00 00	    sprite_spaceship14_color243 =	0
    778  10000 ????		00 00	    sprite_spaceship14_color242 =	0
    779  10000 ????		00 00	    sprite_spaceship14_color241 =	0
    780  10000 ????		00 00	    sprite_spaceship14_color240 =	0
    781  10000 ????		00 00	    sprite_spaceship14_color239 =	0
    782  10000 ????		00 00	    sprite_spaceship14_color238 =	0
    783  10000 ????		00 00	    sprite_spaceship14_color237 =	0
    784  10000 ????		00 00	    sprite_spaceship14_color236 =	0
    785  10000 ????		00 00	    sprite_spaceship14_color235 =	0
    786  10000 ????		00 00	    sprite_spaceship14_color234 =	0
    787  10000 ????		00 00	    sprite_spaceship14_color233 =	0
    788  10000 ????		00 00	    sprite_spaceship14_color232 =	0
    789  10000 ????		00 00	    sprite_spaceship14_color231 =	0
    790  10000 ????		00 00	    sprite_spaceship14_color230 =	0
    791  10000 ????		00 00	    sprite_spaceship14_color229 =	0
    792  10000 ????		00 00	    sprite_spaceship14_color228 =	0
    793  10000 ????		00 00	    sprite_spaceship14_color227 =	0
    794  10000 ????		00 00	    sprite_spaceship14_color226 =	0
    795  10000 ????		00 00	    sprite_spaceship14_color225 =	0
    796  10000 ????		00 00	    sprite_spaceship14_color224 =	0
    797  10000 ????		00 00	    sprite_spaceship14_color223 =	0
    798  10000 ????		00 00	    sprite_spaceship14_color222 =	0
    799  10000 ????		00 00	    sprite_spaceship14_color221 =	0
    800  10000 ????		00 00	    sprite_spaceship14_color220 =	0
    801  10000 ????		00 00	    sprite_spaceship14_color219 =	0
    802  10000 ????		00 00	    sprite_spaceship14_color218 =	0
    803  10000 ????		00 00	    sprite_spaceship14_color217 =	0
    804  10000 ????		00 00	    sprite_spaceship14_color216 =	0
    805  10000 ????		00 00	    sprite_spaceship14_color215 =	0
    806  10000 ????		00 00	    sprite_spaceship14_color214 =	0
    807  10000 ????		00 00	    sprite_spaceship14_color213 =	0
    808  10000 ????		00 00	    sprite_spaceship14_color212 =	0
    809  10000 ????		00 00	    sprite_spaceship14_color211 =	0
    810  10000 ????		00 00	    sprite_spaceship14_color210 =	0
    811  10000 ????		00 00	    sprite_spaceship14_color209 =	0
    812  10000 ????		00 00	    sprite_spaceship14_color208 =	0
    813  10000 ????		00 00	    sprite_spaceship14_color207 =	0
    814  10000 ????		00 00	    sprite_spaceship14_color206 =	0
    815  10000 ????		00 00	    sprite_spaceship14_color205 =	0
    816  10000 ????		00 00	    sprite_spaceship14_color204 =	0
    817  10000 ????		00 00	    sprite_spaceship14_color203 =	0
    818  10000 ????		00 00	    sprite_spaceship14_color202 =	0
    819  10000 ????		00 00	    sprite_spaceship14_color201 =	0
    820  10000 ????		00 00	    sprite_spaceship14_color200 =	0
    821  10000 ????		00 00	    sprite_spaceship14_color199 =	0
    822  10000 ????		00 00	    sprite_spaceship14_color198 =	0
    823  10000 ????		00 00	    sprite_spaceship14_color197 =	0
    824  10000 ????		00 00	    sprite_spaceship14_color196 =	0
    825  10000 ????		00 00	    sprite_spaceship14_color195 =	0
    826  10000 ????		00 00	    sprite_spaceship14_color194 =	0
    827  10000 ????		00 00	    sprite_spaceship14_color193 =	0
    828  10000 ????		00 00	    sprite_spaceship14_color192 =	0
    829  10000 ????		00 00	    sprite_spaceship14_color191 =	0
    830  10000 ????		00 00	    sprite_spaceship14_color190 =	0
    831  10000 ????		00 00	    sprite_spaceship14_color189 =	0
    832  10000 ????		00 00	    sprite_spaceship14_color188 =	0
    833  10000 ????		00 00	    sprite_spaceship14_color187 =	0
    834  10000 ????		00 00	    sprite_spaceship14_color186 =	0
    835  10000 ????		00 00	    sprite_spaceship14_color185 =	0
    836  10000 ????		00 00	    sprite_spaceship14_color184 =	0
    837  10000 ????		00 00	    sprite_spaceship14_color183 =	0
    838  10000 ????		00 00	    sprite_spaceship14_color182 =	0
    839  10000 ????		00 00	    sprite_spaceship14_color181 =	0
    840  10000 ????		00 00	    sprite_spaceship14_color180 =	0
    841  10000 ????		00 00	    sprite_spaceship14_color179 =	0
    842  10000 ????		00 00	    sprite_spaceship14_color178 =	0
    843  10000 ????		00 00	    sprite_spaceship14_color177 =	0
    844  10000 ????		00 00	    sprite_spaceship14_color176 =	0
    845  10000 ????		00 00	    sprite_spaceship14_color175 =	0
    846  10000 ????		00 00	    sprite_spaceship14_color174 =	0
    847  10000 ????		00 00	    sprite_spaceship14_color173 =	0
    848  10000 ????		00 00	    sprite_spaceship14_color172 =	0
    849  10000 ????		00 00	    sprite_spaceship14_color171 =	0
    850  10000 ????		00 00	    sprite_spaceship14_color170 =	0
    851  10000 ????		00 00	    sprite_spaceship14_color169 =	0
    852  10000 ????		00 00	    sprite_spaceship14_color168 =	0
    853  10000 ????		00 00	    sprite_spaceship14_color167 =	0
    854  10000 ????		00 00	    sprite_spaceship14_color166 =	0
    855  10000 ????		00 00	    sprite_spaceship14_color165 =	0
    856  10000 ????		00 00	    sprite_spaceship14_color164 =	0
    857  10000 ????		00 00	    sprite_spaceship14_color163 =	0
    858  10000 ????		00 00	    sprite_spaceship14_color162 =	0
    859  10000 ????		00 00	    sprite_spaceship14_color161 =	0
    860  10000 ????		00 00	    sprite_spaceship14_color160 =	0
    861  10000 ????		00 00	    sprite_spaceship14_color159 =	0
    862  10000 ????		00 00	    sprite_spaceship14_color158 =	0
    863  10000 ????		00 00	    sprite_spaceship14_color157 =	0
    864  10000 ????		00 00	    sprite_spaceship14_color156 =	0
    865  10000 ????		00 00	    sprite_spaceship14_color155 =	0
    866  10000 ????		00 00	    sprite_spaceship14_color154 =	0
    867  10000 ????		00 00	    sprite_spaceship14_color153 =	0
    868  10000 ????		00 00	    sprite_spaceship14_color152 =	0
    869  10000 ????		00 00	    sprite_spaceship14_color151 =	0
    870  10000 ????		00 00	    sprite_spaceship14_color150 =	0
    871  10000 ????		00 00	    sprite_spaceship14_color149 =	0
    872  10000 ????		00 00	    sprite_spaceship14_color148 =	0
    873  10000 ????		00 00	    sprite_spaceship14_color147 =	0
    874  10000 ????		00 00	    sprite_spaceship14_color146 =	0
    875  10000 ????		00 00	    sprite_spaceship14_color145 =	0
    876  10000 ????		00 00	    sprite_spaceship14_color144 =	0
    877  10000 ????		00 00	    sprite_spaceship14_color143 =	0
    878  10000 ????		00 00	    sprite_spaceship14_color142 =	0
    879  10000 ????		00 00	    sprite_spaceship14_color141 =	0
    880  10000 ????		00 00	    sprite_spaceship14_color140 =	0
    881  10000 ????		00 00	    sprite_spaceship14_color139 =	0
    882  10000 ????		00 00	    sprite_spaceship14_color138 =	0
    883  10000 ????		00 00	    sprite_spaceship14_color137 =	0
    884  10000 ????		00 00	    sprite_spaceship14_color136 =	0
    885  10000 ????		00 00	    sprite_spaceship14_color135 =	0
    886  10000 ????		00 00	    sprite_spaceship14_color134 =	0
    887  10000 ????		00 00	    sprite_spaceship14_color133 =	0
    888  10000 ????		00 00	    sprite_spaceship14_color132 =	0
    889  10000 ????		00 00	    sprite_spaceship14_color131 =	0
    890  10000 ????		00 00	    sprite_spaceship14_color130 =	0
    891  10000 ????		00 00	    sprite_spaceship14_color129 =	0
    892  10000 ????		00 00	    sprite_spaceship14_color128 =	0
    893  10000 ????		00 00	    sprite_spaceship14_color127 =	0
    894  10000 ????		00 00	    sprite_spaceship14_color126 =	0
    895  10000 ????		00 00	    sprite_spaceship14_color125 =	0
    896  10000 ????		00 00	    sprite_spaceship14_color124 =	0
    897  10000 ????		00 00	    sprite_spaceship14_color123 =	0
    898  10000 ????		00 00	    sprite_spaceship14_color122 =	0
    899  10000 ????		00 00	    sprite_spaceship14_color121 =	0
    900  10000 ????		00 00	    sprite_spaceship14_color120 =	0
    901  10000 ????		00 00	    sprite_spaceship14_color119 =	0
    902  10000 ????		00 00	    sprite_spaceship14_color118 =	0
    903  10000 ????		00 00	    sprite_spaceship14_color117 =	0
    904  10000 ????		00 00	    sprite_spaceship14_color116 =	0
    905  10000 ????		00 00	    sprite_spaceship14_color115 =	0
    906  10000 ????		00 00	    sprite_spaceship14_color114 =	0
    907  10000 ????		00 00	    sprite_spaceship14_color113 =	0
    908  10000 ????		00 00	    sprite_spaceship14_color112 =	0
    909  10000 ????		00 00	    sprite_spaceship14_color111 =	0
    910  10000 ????		00 00	    sprite_spaceship14_color110 =	0
    911  10000 ????		00 00	    sprite_spaceship14_color109 =	0
    912  10000 ????		00 00	    sprite_spaceship14_color108 =	0
    913  10000 ????		00 00	    sprite_spaceship14_color107 =	0
    914  10000 ????		00 00	    sprite_spaceship14_color106 =	0
    915  10000 ????		00 00	    sprite_spaceship14_color105 =	0
    916  10000 ????		00 00	    sprite_spaceship14_color104 =	0
    917  10000 ????		00 00	    sprite_spaceship14_color103 =	0
    918  10000 ????		00 00	    sprite_spaceship14_color102 =	0
    919  10000 ????		00 00	    sprite_spaceship14_color101 =	0
    920  10000 ????		00 00	    sprite_spaceship14_color100 =	0
    921  10000 ????		00 00	    sprite_spaceship14_color99 =	0
    922  10000 ????		00 00	    sprite_spaceship14_color98 =	0
    923  10000 ????		00 00	    sprite_spaceship14_color97 =	0
    924  10000 ????		00 00	    sprite_spaceship14_color96 =	0
    925  10000 ????		00 00	    sprite_spaceship14_color95 =	0
    926  10000 ????		00 00	    sprite_spaceship14_color94 =	0
    927  10000 ????		00 00	    sprite_spaceship14_color93 =	0
    928  10000 ????		00 00	    sprite_spaceship14_color92 =	0
    929  10000 ????		00 00	    sprite_spaceship14_color91 =	0
    930  10000 ????		00 00	    sprite_spaceship14_color90 =	0
    931  10000 ????		00 00	    sprite_spaceship14_color89 =	0
    932  10000 ????		00 00	    sprite_spaceship14_color88 =	0
    933  10000 ????		00 00	    sprite_spaceship14_color87 =	0
    934  10000 ????		00 00	    sprite_spaceship14_color86 =	0
    935  10000 ????		00 00	    sprite_spaceship14_color85 =	0
    936  10000 ????		00 00	    sprite_spaceship14_color84 =	0
    937  10000 ????		00 00	    sprite_spaceship14_color83 =	0
    938  10000 ????		00 00	    sprite_spaceship14_color82 =	0
    939  10000 ????		00 00	    sprite_spaceship14_color81 =	0
    940  10000 ????		00 00	    sprite_spaceship14_color80 =	0
    941  10000 ????		00 00	    sprite_spaceship14_color79 =	0
    942  10000 ????		00 00	    sprite_spaceship14_color78 =	0
    943  10000 ????		00 00	    sprite_spaceship14_color77 =	0
    944  10000 ????		00 00	    sprite_spaceship14_color76 =	0
    945  10000 ????		00 00	    sprite_spaceship14_color75 =	0
    946  10000 ????		00 00	    sprite_spaceship14_color74 =	0
    947  10000 ????		00 00	    sprite_spaceship14_color73 =	0
    948  10000 ????		00 00	    sprite_spaceship14_color72 =	0
    949  10000 ????		00 00	    sprite_spaceship14_color71 =	0
    950  10000 ????		00 00	    sprite_spaceship14_color70 =	0
    951  10000 ????		00 00	    sprite_spaceship14_color69 =	0
    952  10000 ????		00 00	    sprite_spaceship14_color68 =	0
    953  10000 ????		00 00	    sprite_spaceship14_color67 =	0
    954  10000 ????		00 00	    sprite_spaceship14_color66 =	0
    955  10000 ????		00 00	    sprite_spaceship14_color65 =	0
    956  10000 ????		00 00	    sprite_spaceship14_color64 =	0
    957  10000 ????		00 00	    sprite_spaceship14_color63 =	0
    958  10000 ????		00 00	    sprite_spaceship14_color62 =	0
    959  10000 ????		00 00	    sprite_spaceship14_color61 =	0
    960  10000 ????		00 00	    sprite_spaceship14_color60 =	0
    961  10000 ????		00 00	    sprite_spaceship14_color59 =	0
    962  10000 ????		00 00	    sprite_spaceship14_color58 =	0
    963  10000 ????		00 00	    sprite_spaceship14_color57 =	0
    964  10000 ????		00 00	    sprite_spaceship14_color56 =	0
    965  10000 ????		00 00	    sprite_spaceship14_color55 =	0
    966  10000 ????		00 00	    sprite_spaceship14_color54 =	0
    967  10000 ????		00 00	    sprite_spaceship14_color53 =	0
    968  10000 ????		00 00	    sprite_spaceship14_color52 =	0
    969  10000 ????		00 00	    sprite_spaceship14_color51 =	0
    970  10000 ????		00 00	    sprite_spaceship14_color50 =	0
    971  10000 ????		00 00	    sprite_spaceship14_color49 =	0
    972  10000 ????		00 00	    sprite_spaceship14_color48 =	0
    973  10000 ????		00 00	    sprite_spaceship14_color47 =	0
    974  10000 ????		00 00	    sprite_spaceship14_color46 =	0
    975  10000 ????		00 00	    sprite_spaceship14_color45 =	0
    976  10000 ????		00 00	    sprite_spaceship14_color44 =	0
    977  10000 ????		00 00	    sprite_spaceship14_color43 =	0
    978  10000 ????		00 00	    sprite_spaceship14_color42 =	0
    979  10000 ????		00 00	    sprite_spaceship14_color41 =	0
    980  10000 ????		00 00	    sprite_spaceship14_color40 =	0
    981  10000 ????		00 00	    sprite_spaceship14_color39 =	0
    982  10000 ????		00 00	    sprite_spaceship14_color38 =	0
    983  10000 ????		00 00	    sprite_spaceship14_color37 =	0
    984  10000 ????		00 00	    sprite_spaceship14_color36 =	0
    985  10000 ????		00 00	    sprite_spaceship14_color35 =	0
    986  10000 ????		00 00	    sprite_spaceship14_color34 =	0
    987  10000 ????		00 00	    sprite_spaceship14_color33 =	0
    988  10000 ????		00 00	    sprite_spaceship14_color32 =	0
    989  10000 ????		00 00	    sprite_spaceship14_color31 =	0
    990  10000 ????		00 00	    sprite_spaceship14_color30 =	0
    991  10000 ????		00 00	    sprite_spaceship14_color29 =	0
    992  10000 ????		00 00	    sprite_spaceship14_color28 =	0
    993  10000 ????		00 00	    sprite_spaceship14_color27 =	0
    994  10000 ????		00 00	    sprite_spaceship14_color26 =	0
    995  10000 ????		00 00	    sprite_spaceship14_color25 =	0
    996  10000 ????		00 00	    sprite_spaceship14_color24 =	0
    997  10000 ????		00 00	    sprite_spaceship14_color23 =	0
    998  10000 ????		00 00	    sprite_spaceship14_color22 =	0
    999  10000 ????		00 00	    sprite_spaceship14_color21 =	0
   1000  10000 ????		00 00	    sprite_spaceship14_color20 =	0
   1001  10000 ????		00 00	    sprite_spaceship14_color19 =	0
   1002  10000 ????		00 00	    sprite_spaceship14_color18 =	0
   1003  10000 ????		00 00	    sprite_spaceship14_color17 =	0
   1004  10000 ????		00 00	    sprite_spaceship14_color16 =	0
   1005  10000 ????		00 00	    sprite_spaceship14_color15 =	0
   1006  10000 ????		00 00	    sprite_spaceship14_color14 =	0
   1007  10000 ????		00 00	    sprite_spaceship14_color13 =	0
   1008  10000 ????		00 00	    sprite_spaceship14_color12 =	0
   1009  10000 ????		00 00	    sprite_spaceship14_color11 =	0
   1010  10000 ????		00 00	    sprite_spaceship14_color10 =	0
   1011  10000 ????		00 00	    sprite_spaceship14_color9 =	0
   1012  10000 ????		00 00	    sprite_spaceship14_color8 =	0
   1013  10000 ????		00 00	    sprite_spaceship14_color7 =	0
   1014  10000 ????		00 00	    sprite_spaceship14_color6 =	0
   1015  10000 ????		00 00	    sprite_spaceship14_color5 =	0
   1016  10000 ????		00 00	    sprite_spaceship14_color4 =	0
   1017  10000 ????		00 1e	    sprite_spaceship14_color3 =	$1e
   1018  10000 ????		00 81	    sprite_spaceship14_color2 =	$81
   1019  10000 ????		00 44	    sprite_spaceship14_color1 =	$44
   1020  10000 ????		00 00	    sprite_spaceship14_color0 =	$00
   1021  10000 ????		00 00	    sprite_spaceship13_color255 =	0
   1022  10000 ????		00 00	    sprite_spaceship13_color254 =	0
   1023  10000 ????		00 00	    sprite_spaceship13_color253 =	0
   1024  10000 ????		00 00	    sprite_spaceship13_color252 =	0
   1025  10000 ????		00 00	    sprite_spaceship13_color251 =	0
   1026  10000 ????		00 00	    sprite_spaceship13_color250 =	0
   1027  10000 ????		00 00	    sprite_spaceship13_color249 =	0
   1028  10000 ????		00 00	    sprite_spaceship13_color248 =	0
   1029  10000 ????		00 00	    sprite_spaceship13_color247 =	0
   1030  10000 ????		00 00	    sprite_spaceship13_color246 =	0
   1031  10000 ????		00 00	    sprite_spaceship13_color245 =	0
   1032  10000 ????		00 00	    sprite_spaceship13_color244 =	0
   1033  10000 ????		00 00	    sprite_spaceship13_color243 =	0
   1034  10000 ????		00 00	    sprite_spaceship13_color242 =	0
   1035  10000 ????		00 00	    sprite_spaceship13_color241 =	0
   1036  10000 ????		00 00	    sprite_spaceship13_color240 =	0
   1037  10000 ????		00 00	    sprite_spaceship13_color239 =	0
   1038  10000 ????		00 00	    sprite_spaceship13_color238 =	0
   1039  10000 ????		00 00	    sprite_spaceship13_color237 =	0
   1040  10000 ????		00 00	    sprite_spaceship13_color236 =	0
   1041  10000 ????		00 00	    sprite_spaceship13_color235 =	0
   1042  10000 ????		00 00	    sprite_spaceship13_color234 =	0
   1043  10000 ????		00 00	    sprite_spaceship13_color233 =	0
   1044  10000 ????		00 00	    sprite_spaceship13_color232 =	0
   1045  10000 ????		00 00	    sprite_spaceship13_color231 =	0
   1046  10000 ????		00 00	    sprite_spaceship13_color230 =	0
   1047  10000 ????		00 00	    sprite_spaceship13_color229 =	0
   1048  10000 ????		00 00	    sprite_spaceship13_color228 =	0
   1049  10000 ????		00 00	    sprite_spaceship13_color227 =	0
   1050  10000 ????		00 00	    sprite_spaceship13_color226 =	0
   1051  10000 ????		00 00	    sprite_spaceship13_color225 =	0
   1052  10000 ????		00 00	    sprite_spaceship13_color224 =	0
   1053  10000 ????		00 00	    sprite_spaceship13_color223 =	0
   1054  10000 ????		00 00	    sprite_spaceship13_color222 =	0
   1055  10000 ????		00 00	    sprite_spaceship13_color221 =	0
   1056  10000 ????		00 00	    sprite_spaceship13_color220 =	0
   1057  10000 ????		00 00	    sprite_spaceship13_color219 =	0
   1058  10000 ????		00 00	    sprite_spaceship13_color218 =	0
   1059  10000 ????		00 00	    sprite_spaceship13_color217 =	0
   1060  10000 ????		00 00	    sprite_spaceship13_color216 =	0
   1061  10000 ????		00 00	    sprite_spaceship13_color215 =	0
   1062  10000 ????		00 00	    sprite_spaceship13_color214 =	0
   1063  10000 ????		00 00	    sprite_spaceship13_color213 =	0
   1064  10000 ????		00 00	    sprite_spaceship13_color212 =	0
   1065  10000 ????		00 00	    sprite_spaceship13_color211 =	0
   1066  10000 ????		00 00	    sprite_spaceship13_color210 =	0
   1067  10000 ????		00 00	    sprite_spaceship13_color209 =	0
   1068  10000 ????		00 00	    sprite_spaceship13_color208 =	0
   1069  10000 ????		00 00	    sprite_spaceship13_color207 =	0
   1070  10000 ????		00 00	    sprite_spaceship13_color206 =	0
   1071  10000 ????		00 00	    sprite_spaceship13_color205 =	0
   1072  10000 ????		00 00	    sprite_spaceship13_color204 =	0
   1073  10000 ????		00 00	    sprite_spaceship13_color203 =	0
   1074  10000 ????		00 00	    sprite_spaceship13_color202 =	0
   1075  10000 ????		00 00	    sprite_spaceship13_color201 =	0
   1076  10000 ????		00 00	    sprite_spaceship13_color200 =	0
   1077  10000 ????		00 00	    sprite_spaceship13_color199 =	0
   1078  10000 ????		00 00	    sprite_spaceship13_color198 =	0
   1079  10000 ????		00 00	    sprite_spaceship13_color197 =	0
   1080  10000 ????		00 00	    sprite_spaceship13_color196 =	0
   1081  10000 ????		00 00	    sprite_spaceship13_color195 =	0
   1082  10000 ????		00 00	    sprite_spaceship13_color194 =	0
   1083  10000 ????		00 00	    sprite_spaceship13_color193 =	0
   1084  10000 ????		00 00	    sprite_spaceship13_color192 =	0
   1085  10000 ????		00 00	    sprite_spaceship13_color191 =	0
   1086  10000 ????		00 00	    sprite_spaceship13_color190 =	0
   1087  10000 ????		00 00	    sprite_spaceship13_color189 =	0
   1088  10000 ????		00 00	    sprite_spaceship13_color188 =	0
   1089  10000 ????		00 00	    sprite_spaceship13_color187 =	0
   1090  10000 ????		00 00	    sprite_spaceship13_color186 =	0
   1091  10000 ????		00 00	    sprite_spaceship13_color185 =	0
   1092  10000 ????		00 00	    sprite_spaceship13_color184 =	0
   1093  10000 ????		00 00	    sprite_spaceship13_color183 =	0
   1094  10000 ????		00 00	    sprite_spaceship13_color182 =	0
   1095  10000 ????		00 00	    sprite_spaceship13_color181 =	0
   1096  10000 ????		00 00	    sprite_spaceship13_color180 =	0
   1097  10000 ????		00 00	    sprite_spaceship13_color179 =	0
   1098  10000 ????		00 00	    sprite_spaceship13_color178 =	0
   1099  10000 ????		00 00	    sprite_spaceship13_color177 =	0
   1100  10000 ????		00 00	    sprite_spaceship13_color176 =	0
   1101  10000 ????		00 00	    sprite_spaceship13_color175 =	0
   1102  10000 ????		00 00	    sprite_spaceship13_color174 =	0
   1103  10000 ????		00 00	    sprite_spaceship13_color173 =	0
   1104  10000 ????		00 00	    sprite_spaceship13_color172 =	0
   1105  10000 ????		00 00	    sprite_spaceship13_color171 =	0
   1106  10000 ????		00 00	    sprite_spaceship13_color170 =	0
   1107  10000 ????		00 00	    sprite_spaceship13_color169 =	0
   1108  10000 ????		00 00	    sprite_spaceship13_color168 =	0
   1109  10000 ????		00 00	    sprite_spaceship13_color167 =	0
   1110  10000 ????		00 00	    sprite_spaceship13_color166 =	0
   1111  10000 ????		00 00	    sprite_spaceship13_color165 =	0
   1112  10000 ????		00 00	    sprite_spaceship13_color164 =	0
   1113  10000 ????		00 00	    sprite_spaceship13_color163 =	0
   1114  10000 ????		00 00	    sprite_spaceship13_color162 =	0
   1115  10000 ????		00 00	    sprite_spaceship13_color161 =	0
   1116  10000 ????		00 00	    sprite_spaceship13_color160 =	0
   1117  10000 ????		00 00	    sprite_spaceship13_color159 =	0
   1118  10000 ????		00 00	    sprite_spaceship13_color158 =	0
   1119  10000 ????		00 00	    sprite_spaceship13_color157 =	0
   1120  10000 ????		00 00	    sprite_spaceship13_color156 =	0
   1121  10000 ????		00 00	    sprite_spaceship13_color155 =	0
   1122  10000 ????		00 00	    sprite_spaceship13_color154 =	0
   1123  10000 ????		00 00	    sprite_spaceship13_color153 =	0
   1124  10000 ????		00 00	    sprite_spaceship13_color152 =	0
   1125  10000 ????		00 00	    sprite_spaceship13_color151 =	0
   1126  10000 ????		00 00	    sprite_spaceship13_color150 =	0
   1127  10000 ????		00 00	    sprite_spaceship13_color149 =	0
   1128  10000 ????		00 00	    sprite_spaceship13_color148 =	0
   1129  10000 ????		00 00	    sprite_spaceship13_color147 =	0
   1130  10000 ????		00 00	    sprite_spaceship13_color146 =	0
   1131  10000 ????		00 00	    sprite_spaceship13_color145 =	0
   1132  10000 ????		00 00	    sprite_spaceship13_color144 =	0
   1133  10000 ????		00 00	    sprite_spaceship13_color143 =	0
   1134  10000 ????		00 00	    sprite_spaceship13_color142 =	0
   1135  10000 ????		00 00	    sprite_spaceship13_color141 =	0
   1136  10000 ????		00 00	    sprite_spaceship13_color140 =	0
   1137  10000 ????		00 00	    sprite_spaceship13_color139 =	0
   1138  10000 ????		00 00	    sprite_spaceship13_color138 =	0
   1139  10000 ????		00 00	    sprite_spaceship13_color137 =	0
   1140  10000 ????		00 00	    sprite_spaceship13_color136 =	0
   1141  10000 ????		00 00	    sprite_spaceship13_color135 =	0
   1142  10000 ????		00 00	    sprite_spaceship13_color134 =	0
   1143  10000 ????		00 00	    sprite_spaceship13_color133 =	0
   1144  10000 ????		00 00	    sprite_spaceship13_color132 =	0
   1145  10000 ????		00 00	    sprite_spaceship13_color131 =	0
   1146  10000 ????		00 00	    sprite_spaceship13_color130 =	0
   1147  10000 ????		00 00	    sprite_spaceship13_color129 =	0
   1148  10000 ????		00 00	    sprite_spaceship13_color128 =	0
   1149  10000 ????		00 00	    sprite_spaceship13_color127 =	0
   1150  10000 ????		00 00	    sprite_spaceship13_color126 =	0
   1151  10000 ????		00 00	    sprite_spaceship13_color125 =	0
   1152  10000 ????		00 00	    sprite_spaceship13_color124 =	0
   1153  10000 ????		00 00	    sprite_spaceship13_color123 =	0
   1154  10000 ????		00 00	    sprite_spaceship13_color122 =	0
   1155  10000 ????		00 00	    sprite_spaceship13_color121 =	0
   1156  10000 ????		00 00	    sprite_spaceship13_color120 =	0
   1157  10000 ????		00 00	    sprite_spaceship13_color119 =	0
   1158  10000 ????		00 00	    sprite_spaceship13_color118 =	0
   1159  10000 ????		00 00	    sprite_spaceship13_color117 =	0
   1160  10000 ????		00 00	    sprite_spaceship13_color116 =	0
   1161  10000 ????		00 00	    sprite_spaceship13_color115 =	0
   1162  10000 ????		00 00	    sprite_spaceship13_color114 =	0
   1163  10000 ????		00 00	    sprite_spaceship13_color113 =	0
   1164  10000 ????		00 00	    sprite_spaceship13_color112 =	0
   1165  10000 ????		00 00	    sprite_spaceship13_color111 =	0
   1166  10000 ????		00 00	    sprite_spaceship13_color110 =	0
   1167  10000 ????		00 00	    sprite_spaceship13_color109 =	0
   1168  10000 ????		00 00	    sprite_spaceship13_color108 =	0
   1169  10000 ????		00 00	    sprite_spaceship13_color107 =	0
   1170  10000 ????		00 00	    sprite_spaceship13_color106 =	0
   1171  10000 ????		00 00	    sprite_spaceship13_color105 =	0
   1172  10000 ????		00 00	    sprite_spaceship13_color104 =	0
   1173  10000 ????		00 00	    sprite_spaceship13_color103 =	0
   1174  10000 ????		00 00	    sprite_spaceship13_color102 =	0
   1175  10000 ????		00 00	    sprite_spaceship13_color101 =	0
   1176  10000 ????		00 00	    sprite_spaceship13_color100 =	0
   1177  10000 ????		00 00	    sprite_spaceship13_color99 =	0
   1178  10000 ????		00 00	    sprite_spaceship13_color98 =	0
   1179  10000 ????		00 00	    sprite_spaceship13_color97 =	0
   1180  10000 ????		00 00	    sprite_spaceship13_color96 =	0
   1181  10000 ????		00 00	    sprite_spaceship13_color95 =	0
   1182  10000 ????		00 00	    sprite_spaceship13_color94 =	0
   1183  10000 ????		00 00	    sprite_spaceship13_color93 =	0
   1184  10000 ????		00 00	    sprite_spaceship13_color92 =	0
   1185  10000 ????		00 00	    sprite_spaceship13_color91 =	0
   1186  10000 ????		00 00	    sprite_spaceship13_color90 =	0
   1187  10000 ????		00 00	    sprite_spaceship13_color89 =	0
   1188  10000 ????		00 00	    sprite_spaceship13_color88 =	0
   1189  10000 ????		00 00	    sprite_spaceship13_color87 =	0
   1190  10000 ????		00 00	    sprite_spaceship13_color86 =	0
   1191  10000 ????		00 00	    sprite_spaceship13_color85 =	0
   1192  10000 ????		00 00	    sprite_spaceship13_color84 =	0
   1193  10000 ????		00 00	    sprite_spaceship13_color83 =	0
   1194  10000 ????		00 00	    sprite_spaceship13_color82 =	0
   1195  10000 ????		00 00	    sprite_spaceship13_color81 =	0
   1196  10000 ????		00 00	    sprite_spaceship13_color80 =	0
   1197  10000 ????		00 00	    sprite_spaceship13_color79 =	0
   1198  10000 ????		00 00	    sprite_spaceship13_color78 =	0
   1199  10000 ????		00 00	    sprite_spaceship13_color77 =	0
   1200  10000 ????		00 00	    sprite_spaceship13_color76 =	0
   1201  10000 ????		00 00	    sprite_spaceship13_color75 =	0
   1202  10000 ????		00 00	    sprite_spaceship13_color74 =	0
   1203  10000 ????		00 00	    sprite_spaceship13_color73 =	0
   1204  10000 ????		00 00	    sprite_spaceship13_color72 =	0
   1205  10000 ????		00 00	    sprite_spaceship13_color71 =	0
   1206  10000 ????		00 00	    sprite_spaceship13_color70 =	0
   1207  10000 ????		00 00	    sprite_spaceship13_color69 =	0
   1208  10000 ????		00 00	    sprite_spaceship13_color68 =	0
   1209  10000 ????		00 00	    sprite_spaceship13_color67 =	0
   1210  10000 ????		00 00	    sprite_spaceship13_color66 =	0
   1211  10000 ????		00 00	    sprite_spaceship13_color65 =	0
   1212  10000 ????		00 00	    sprite_spaceship13_color64 =	0
   1213  10000 ????		00 00	    sprite_spaceship13_color63 =	0
   1214  10000 ????		00 00	    sprite_spaceship13_color62 =	0
   1215  10000 ????		00 00	    sprite_spaceship13_color61 =	0
   1216  10000 ????		00 00	    sprite_spaceship13_color60 =	0
   1217  10000 ????		00 00	    sprite_spaceship13_color59 =	0
   1218  10000 ????		00 00	    sprite_spaceship13_color58 =	0
   1219  10000 ????		00 00	    sprite_spaceship13_color57 =	0
   1220  10000 ????		00 00	    sprite_spaceship13_color56 =	0
   1221  10000 ????		00 00	    sprite_spaceship13_color55 =	0
   1222  10000 ????		00 00	    sprite_spaceship13_color54 =	0
   1223  10000 ????		00 00	    sprite_spaceship13_color53 =	0
   1224  10000 ????		00 00	    sprite_spaceship13_color52 =	0
   1225  10000 ????		00 00	    sprite_spaceship13_color51 =	0
   1226  10000 ????		00 00	    sprite_spaceship13_color50 =	0
   1227  10000 ????		00 00	    sprite_spaceship13_color49 =	0
   1228  10000 ????		00 00	    sprite_spaceship13_color48 =	0
   1229  10000 ????		00 00	    sprite_spaceship13_color47 =	0
   1230  10000 ????		00 00	    sprite_spaceship13_color46 =	0
   1231  10000 ????		00 00	    sprite_spaceship13_color45 =	0
   1232  10000 ????		00 00	    sprite_spaceship13_color44 =	0
   1233  10000 ????		00 00	    sprite_spaceship13_color43 =	0
   1234  10000 ????		00 00	    sprite_spaceship13_color42 =	0
   1235  10000 ????		00 00	    sprite_spaceship13_color41 =	0
   1236  10000 ????		00 00	    sprite_spaceship13_color40 =	0
   1237  10000 ????		00 00	    sprite_spaceship13_color39 =	0
   1238  10000 ????		00 00	    sprite_spaceship13_color38 =	0
   1239  10000 ????		00 00	    sprite_spaceship13_color37 =	0
   1240  10000 ????		00 00	    sprite_spaceship13_color36 =	0
   1241  10000 ????		00 00	    sprite_spaceship13_color35 =	0
   1242  10000 ????		00 00	    sprite_spaceship13_color34 =	0
   1243  10000 ????		00 00	    sprite_spaceship13_color33 =	0
   1244  10000 ????		00 00	    sprite_spaceship13_color32 =	0
   1245  10000 ????		00 00	    sprite_spaceship13_color31 =	0
   1246  10000 ????		00 00	    sprite_spaceship13_color30 =	0
   1247  10000 ????		00 00	    sprite_spaceship13_color29 =	0
   1248  10000 ????		00 00	    sprite_spaceship13_color28 =	0
   1249  10000 ????		00 00	    sprite_spaceship13_color27 =	0
   1250  10000 ????		00 00	    sprite_spaceship13_color26 =	0
   1251  10000 ????		00 00	    sprite_spaceship13_color25 =	0
   1252  10000 ????		00 00	    sprite_spaceship13_color24 =	0
   1253  10000 ????		00 00	    sprite_spaceship13_color23 =	0
   1254  10000 ????		00 00	    sprite_spaceship13_color22 =	0
   1255  10000 ????		00 00	    sprite_spaceship13_color21 =	0
   1256  10000 ????		00 00	    sprite_spaceship13_color20 =	0
   1257  10000 ????		00 00	    sprite_spaceship13_color19 =	0
   1258  10000 ????		00 00	    sprite_spaceship13_color18 =	0
   1259  10000 ????		00 00	    sprite_spaceship13_color17 =	0
   1260  10000 ????		00 00	    sprite_spaceship13_color16 =	0
   1261  10000 ????		00 00	    sprite_spaceship13_color15 =	0
   1262  10000 ????		00 00	    sprite_spaceship13_color14 =	0
   1263  10000 ????		00 00	    sprite_spaceship13_color13 =	0
   1264  10000 ????		00 00	    sprite_spaceship13_color12 =	0
   1265  10000 ????		00 00	    sprite_spaceship13_color11 =	0
   1266  10000 ????		00 00	    sprite_spaceship13_color10 =	0
   1267  10000 ????		00 00	    sprite_spaceship13_color9 =	0
   1268  10000 ????		00 00	    sprite_spaceship13_color8 =	0
   1269  10000 ????		00 00	    sprite_spaceship13_color7 =	0
   1270  10000 ????		00 00	    sprite_spaceship13_color6 =	0
   1271  10000 ????		00 00	    sprite_spaceship13_color5 =	0
   1272  10000 ????		00 00	    sprite_spaceship13_color4 =	0
   1273  10000 ????		00 1e	    sprite_spaceship13_color3 =	$1e
   1274  10000 ????		00 81	    sprite_spaceship13_color2 =	$81
   1275  10000 ????		00 44	    sprite_spaceship13_color1 =	$44
   1276  10000 ????		00 00	    sprite_spaceship13_color0 =	$00
   1277  10000 ????		00 00	    sprite_spaceship12_color255 =	0
   1278  10000 ????		00 00	    sprite_spaceship12_color254 =	0
   1279  10000 ????		00 00	    sprite_spaceship12_color253 =	0
   1280  10000 ????		00 00	    sprite_spaceship12_color252 =	0
   1281  10000 ????		00 00	    sprite_spaceship12_color251 =	0
   1282  10000 ????		00 00	    sprite_spaceship12_color250 =	0
   1283  10000 ????		00 00	    sprite_spaceship12_color249 =	0
   1284  10000 ????		00 00	    sprite_spaceship12_color248 =	0
   1285  10000 ????		00 00	    sprite_spaceship12_color247 =	0
   1286  10000 ????		00 00	    sprite_spaceship12_color246 =	0
   1287  10000 ????		00 00	    sprite_spaceship12_color245 =	0
   1288  10000 ????		00 00	    sprite_spaceship12_color244 =	0
   1289  10000 ????		00 00	    sprite_spaceship12_color243 =	0
   1290  10000 ????		00 00	    sprite_spaceship12_color242 =	0
   1291  10000 ????		00 00	    sprite_spaceship12_color241 =	0
   1292  10000 ????		00 00	    sprite_spaceship12_color240 =	0
   1293  10000 ????		00 00	    sprite_spaceship12_color239 =	0
   1294  10000 ????		00 00	    sprite_spaceship12_color238 =	0
   1295  10000 ????		00 00	    sprite_spaceship12_color237 =	0
   1296  10000 ????		00 00	    sprite_spaceship12_color236 =	0
   1297  10000 ????		00 00	    sprite_spaceship12_color235 =	0
   1298  10000 ????		00 00	    sprite_spaceship12_color234 =	0
   1299  10000 ????		00 00	    sprite_spaceship12_color233 =	0
   1300  10000 ????		00 00	    sprite_spaceship12_color232 =	0
   1301  10000 ????		00 00	    sprite_spaceship12_color231 =	0
   1302  10000 ????		00 00	    sprite_spaceship12_color230 =	0
   1303  10000 ????		00 00	    sprite_spaceship12_color229 =	0
   1304  10000 ????		00 00	    sprite_spaceship12_color228 =	0
   1305  10000 ????		00 00	    sprite_spaceship12_color227 =	0
   1306  10000 ????		00 00	    sprite_spaceship12_color226 =	0
   1307  10000 ????		00 00	    sprite_spaceship12_color225 =	0
   1308  10000 ????		00 00	    sprite_spaceship12_color224 =	0
   1309  10000 ????		00 00	    sprite_spaceship12_color223 =	0
   1310  10000 ????		00 00	    sprite_spaceship12_color222 =	0
   1311  10000 ????		00 00	    sprite_spaceship12_color221 =	0
   1312  10000 ????		00 00	    sprite_spaceship12_color220 =	0
   1313  10000 ????		00 00	    sprite_spaceship12_color219 =	0
   1314  10000 ????		00 00	    sprite_spaceship12_color218 =	0
   1315  10000 ????		00 00	    sprite_spaceship12_color217 =	0
   1316  10000 ????		00 00	    sprite_spaceship12_color216 =	0
   1317  10000 ????		00 00	    sprite_spaceship12_color215 =	0
   1318  10000 ????		00 00	    sprite_spaceship12_color214 =	0
   1319  10000 ????		00 00	    sprite_spaceship12_color213 =	0
   1320  10000 ????		00 00	    sprite_spaceship12_color212 =	0
   1321  10000 ????		00 00	    sprite_spaceship12_color211 =	0
   1322  10000 ????		00 00	    sprite_spaceship12_color210 =	0
   1323  10000 ????		00 00	    sprite_spaceship12_color209 =	0
   1324  10000 ????		00 00	    sprite_spaceship12_color208 =	0
   1325  10000 ????		00 00	    sprite_spaceship12_color207 =	0
   1326  10000 ????		00 00	    sprite_spaceship12_color206 =	0
   1327  10000 ????		00 00	    sprite_spaceship12_color205 =	0
   1328  10000 ????		00 00	    sprite_spaceship12_color204 =	0
   1329  10000 ????		00 00	    sprite_spaceship12_color203 =	0
   1330  10000 ????		00 00	    sprite_spaceship12_color202 =	0
   1331  10000 ????		00 00	    sprite_spaceship12_color201 =	0
   1332  10000 ????		00 00	    sprite_spaceship12_color200 =	0
   1333  10000 ????		00 00	    sprite_spaceship12_color199 =	0
   1334  10000 ????		00 00	    sprite_spaceship12_color198 =	0
   1335  10000 ????		00 00	    sprite_spaceship12_color197 =	0
   1336  10000 ????		00 00	    sprite_spaceship12_color196 =	0
   1337  10000 ????		00 00	    sprite_spaceship12_color195 =	0
   1338  10000 ????		00 00	    sprite_spaceship12_color194 =	0
   1339  10000 ????		00 00	    sprite_spaceship12_color193 =	0
   1340  10000 ????		00 00	    sprite_spaceship12_color192 =	0
   1341  10000 ????		00 00	    sprite_spaceship12_color191 =	0
   1342  10000 ????		00 00	    sprite_spaceship12_color190 =	0
   1343  10000 ????		00 00	    sprite_spaceship12_color189 =	0
   1344  10000 ????		00 00	    sprite_spaceship12_color188 =	0
   1345  10000 ????		00 00	    sprite_spaceship12_color187 =	0
   1346  10000 ????		00 00	    sprite_spaceship12_color186 =	0
   1347  10000 ????		00 00	    sprite_spaceship12_color185 =	0
   1348  10000 ????		00 00	    sprite_spaceship12_color184 =	0
   1349  10000 ????		00 00	    sprite_spaceship12_color183 =	0
   1350  10000 ????		00 00	    sprite_spaceship12_color182 =	0
   1351  10000 ????		00 00	    sprite_spaceship12_color181 =	0
   1352  10000 ????		00 00	    sprite_spaceship12_color180 =	0
   1353  10000 ????		00 00	    sprite_spaceship12_color179 =	0
   1354  10000 ????		00 00	    sprite_spaceship12_color178 =	0
   1355  10000 ????		00 00	    sprite_spaceship12_color177 =	0
   1356  10000 ????		00 00	    sprite_spaceship12_color176 =	0
   1357  10000 ????		00 00	    sprite_spaceship12_color175 =	0
   1358  10000 ????		00 00	    sprite_spaceship12_color174 =	0
   1359  10000 ????		00 00	    sprite_spaceship12_color173 =	0
   1360  10000 ????		00 00	    sprite_spaceship12_color172 =	0
   1361  10000 ????		00 00	    sprite_spaceship12_color171 =	0
   1362  10000 ????		00 00	    sprite_spaceship12_color170 =	0
   1363  10000 ????		00 00	    sprite_spaceship12_color169 =	0
   1364  10000 ????		00 00	    sprite_spaceship12_color168 =	0
   1365  10000 ????		00 00	    sprite_spaceship12_color167 =	0
   1366  10000 ????		00 00	    sprite_spaceship12_color166 =	0
   1367  10000 ????		00 00	    sprite_spaceship12_color165 =	0
   1368  10000 ????		00 00	    sprite_spaceship12_color164 =	0
   1369  10000 ????		00 00	    sprite_spaceship12_color163 =	0
   1370  10000 ????		00 00	    sprite_spaceship12_color162 =	0
   1371  10000 ????		00 00	    sprite_spaceship12_color161 =	0
   1372  10000 ????		00 00	    sprite_spaceship12_color160 =	0
   1373  10000 ????		00 00	    sprite_spaceship12_color159 =	0
   1374  10000 ????		00 00	    sprite_spaceship12_color158 =	0
   1375  10000 ????		00 00	    sprite_spaceship12_color157 =	0
   1376  10000 ????		00 00	    sprite_spaceship12_color156 =	0
   1377  10000 ????		00 00	    sprite_spaceship12_color155 =	0
   1378  10000 ????		00 00	    sprite_spaceship12_color154 =	0
   1379  10000 ????		00 00	    sprite_spaceship12_color153 =	0
   1380  10000 ????		00 00	    sprite_spaceship12_color152 =	0
   1381  10000 ????		00 00	    sprite_spaceship12_color151 =	0
   1382  10000 ????		00 00	    sprite_spaceship12_color150 =	0
   1383  10000 ????		00 00	    sprite_spaceship12_color149 =	0
   1384  10000 ????		00 00	    sprite_spaceship12_color148 =	0
   1385  10000 ????		00 00	    sprite_spaceship12_color147 =	0
   1386  10000 ????		00 00	    sprite_spaceship12_color146 =	0
   1387  10000 ????		00 00	    sprite_spaceship12_color145 =	0
   1388  10000 ????		00 00	    sprite_spaceship12_color144 =	0
   1389  10000 ????		00 00	    sprite_spaceship12_color143 =	0
   1390  10000 ????		00 00	    sprite_spaceship12_color142 =	0
   1391  10000 ????		00 00	    sprite_spaceship12_color141 =	0
   1392  10000 ????		00 00	    sprite_spaceship12_color140 =	0
   1393  10000 ????		00 00	    sprite_spaceship12_color139 =	0
   1394  10000 ????		00 00	    sprite_spaceship12_color138 =	0
   1395  10000 ????		00 00	    sprite_spaceship12_color137 =	0
   1396  10000 ????		00 00	    sprite_spaceship12_color136 =	0
   1397  10000 ????		00 00	    sprite_spaceship12_color135 =	0
   1398  10000 ????		00 00	    sprite_spaceship12_color134 =	0
   1399  10000 ????		00 00	    sprite_spaceship12_color133 =	0
   1400  10000 ????		00 00	    sprite_spaceship12_color132 =	0
   1401  10000 ????		00 00	    sprite_spaceship12_color131 =	0
   1402  10000 ????		00 00	    sprite_spaceship12_color130 =	0
   1403  10000 ????		00 00	    sprite_spaceship12_color129 =	0
   1404  10000 ????		00 00	    sprite_spaceship12_color128 =	0
   1405  10000 ????		00 00	    sprite_spaceship12_color127 =	0
   1406  10000 ????		00 00	    sprite_spaceship12_color126 =	0
   1407  10000 ????		00 00	    sprite_spaceship12_color125 =	0
   1408  10000 ????		00 00	    sprite_spaceship12_color124 =	0
   1409  10000 ????		00 00	    sprite_spaceship12_color123 =	0
   1410  10000 ????		00 00	    sprite_spaceship12_color122 =	0
   1411  10000 ????		00 00	    sprite_spaceship12_color121 =	0
   1412  10000 ????		00 00	    sprite_spaceship12_color120 =	0
   1413  10000 ????		00 00	    sprite_spaceship12_color119 =	0
   1414  10000 ????		00 00	    sprite_spaceship12_color118 =	0
   1415  10000 ????		00 00	    sprite_spaceship12_color117 =	0
   1416  10000 ????		00 00	    sprite_spaceship12_color116 =	0
   1417  10000 ????		00 00	    sprite_spaceship12_color115 =	0
   1418  10000 ????		00 00	    sprite_spaceship12_color114 =	0
   1419  10000 ????		00 00	    sprite_spaceship12_color113 =	0
   1420  10000 ????		00 00	    sprite_spaceship12_color112 =	0
   1421  10000 ????		00 00	    sprite_spaceship12_color111 =	0
   1422  10000 ????		00 00	    sprite_spaceship12_color110 =	0
   1423  10000 ????		00 00	    sprite_spaceship12_color109 =	0
   1424  10000 ????		00 00	    sprite_spaceship12_color108 =	0
   1425  10000 ????		00 00	    sprite_spaceship12_color107 =	0
   1426  10000 ????		00 00	    sprite_spaceship12_color106 =	0
   1427  10000 ????		00 00	    sprite_spaceship12_color105 =	0
   1428  10000 ????		00 00	    sprite_spaceship12_color104 =	0
   1429  10000 ????		00 00	    sprite_spaceship12_color103 =	0
   1430  10000 ????		00 00	    sprite_spaceship12_color102 =	0
   1431  10000 ????		00 00	    sprite_spaceship12_color101 =	0
   1432  10000 ????		00 00	    sprite_spaceship12_color100 =	0
   1433  10000 ????		00 00	    sprite_spaceship12_color99 =	0
   1434  10000 ????		00 00	    sprite_spaceship12_color98 =	0
   1435  10000 ????		00 00	    sprite_spaceship12_color97 =	0
   1436  10000 ????		00 00	    sprite_spaceship12_color96 =	0
   1437  10000 ????		00 00	    sprite_spaceship12_color95 =	0
   1438  10000 ????		00 00	    sprite_spaceship12_color94 =	0
   1439  10000 ????		00 00	    sprite_spaceship12_color93 =	0
   1440  10000 ????		00 00	    sprite_spaceship12_color92 =	0
   1441  10000 ????		00 00	    sprite_spaceship12_color91 =	0
   1442  10000 ????		00 00	    sprite_spaceship12_color90 =	0
   1443  10000 ????		00 00	    sprite_spaceship12_color89 =	0
   1444  10000 ????		00 00	    sprite_spaceship12_color88 =	0
   1445  10000 ????		00 00	    sprite_spaceship12_color87 =	0
   1446  10000 ????		00 00	    sprite_spaceship12_color86 =	0
   1447  10000 ????		00 00	    sprite_spaceship12_color85 =	0
   1448  10000 ????		00 00	    sprite_spaceship12_color84 =	0
   1449  10000 ????		00 00	    sprite_spaceship12_color83 =	0
   1450  10000 ????		00 00	    sprite_spaceship12_color82 =	0
   1451  10000 ????		00 00	    sprite_spaceship12_color81 =	0
   1452  10000 ????		00 00	    sprite_spaceship12_color80 =	0
   1453  10000 ????		00 00	    sprite_spaceship12_color79 =	0
   1454  10000 ????		00 00	    sprite_spaceship12_color78 =	0
   1455  10000 ????		00 00	    sprite_spaceship12_color77 =	0
   1456  10000 ????		00 00	    sprite_spaceship12_color76 =	0
   1457  10000 ????		00 00	    sprite_spaceship12_color75 =	0
   1458  10000 ????		00 00	    sprite_spaceship12_color74 =	0
   1459  10000 ????		00 00	    sprite_spaceship12_color73 =	0
   1460  10000 ????		00 00	    sprite_spaceship12_color72 =	0
   1461  10000 ????		00 00	    sprite_spaceship12_color71 =	0
   1462  10000 ????		00 00	    sprite_spaceship12_color70 =	0
   1463  10000 ????		00 00	    sprite_spaceship12_color69 =	0
   1464  10000 ????		00 00	    sprite_spaceship12_color68 =	0
   1465  10000 ????		00 00	    sprite_spaceship12_color67 =	0
   1466  10000 ????		00 00	    sprite_spaceship12_color66 =	0
   1467  10000 ????		00 00	    sprite_spaceship12_color65 =	0
   1468  10000 ????		00 00	    sprite_spaceship12_color64 =	0
   1469  10000 ????		00 00	    sprite_spaceship12_color63 =	0
   1470  10000 ????		00 00	    sprite_spaceship12_color62 =	0
   1471  10000 ????		00 00	    sprite_spaceship12_color61 =	0
   1472  10000 ????		00 00	    sprite_spaceship12_color60 =	0
   1473  10000 ????		00 00	    sprite_spaceship12_color59 =	0
   1474  10000 ????		00 00	    sprite_spaceship12_color58 =	0
   1475  10000 ????		00 00	    sprite_spaceship12_color57 =	0
   1476  10000 ????		00 00	    sprite_spaceship12_color56 =	0
   1477  10000 ????		00 00	    sprite_spaceship12_color55 =	0
   1478  10000 ????		00 00	    sprite_spaceship12_color54 =	0
   1479  10000 ????		00 00	    sprite_spaceship12_color53 =	0
   1480  10000 ????		00 00	    sprite_spaceship12_color52 =	0
   1481  10000 ????		00 00	    sprite_spaceship12_color51 =	0
   1482  10000 ????		00 00	    sprite_spaceship12_color50 =	0
   1483  10000 ????		00 00	    sprite_spaceship12_color49 =	0
   1484  10000 ????		00 00	    sprite_spaceship12_color48 =	0
   1485  10000 ????		00 00	    sprite_spaceship12_color47 =	0
   1486  10000 ????		00 00	    sprite_spaceship12_color46 =	0
   1487  10000 ????		00 00	    sprite_spaceship12_color45 =	0
   1488  10000 ????		00 00	    sprite_spaceship12_color44 =	0
   1489  10000 ????		00 00	    sprite_spaceship12_color43 =	0
   1490  10000 ????		00 00	    sprite_spaceship12_color42 =	0
   1491  10000 ????		00 00	    sprite_spaceship12_color41 =	0
   1492  10000 ????		00 00	    sprite_spaceship12_color40 =	0
   1493  10000 ????		00 00	    sprite_spaceship12_color39 =	0
   1494  10000 ????		00 00	    sprite_spaceship12_color38 =	0
   1495  10000 ????		00 00	    sprite_spaceship12_color37 =	0
   1496  10000 ????		00 00	    sprite_spaceship12_color36 =	0
   1497  10000 ????		00 00	    sprite_spaceship12_color35 =	0
   1498  10000 ????		00 00	    sprite_spaceship12_color34 =	0
   1499  10000 ????		00 00	    sprite_spaceship12_color33 =	0
   1500  10000 ????		00 00	    sprite_spaceship12_color32 =	0
   1501  10000 ????		00 00	    sprite_spaceship12_color31 =	0
   1502  10000 ????		00 00	    sprite_spaceship12_color30 =	0
   1503  10000 ????		00 00	    sprite_spaceship12_color29 =	0
   1504  10000 ????		00 00	    sprite_spaceship12_color28 =	0
   1505  10000 ????		00 00	    sprite_spaceship12_color27 =	0
   1506  10000 ????		00 00	    sprite_spaceship12_color26 =	0
   1507  10000 ????		00 00	    sprite_spaceship12_color25 =	0
   1508  10000 ????		00 00	    sprite_spaceship12_color24 =	0
   1509  10000 ????		00 00	    sprite_spaceship12_color23 =	0
   1510  10000 ????		00 00	    sprite_spaceship12_color22 =	0
   1511  10000 ????		00 00	    sprite_spaceship12_color21 =	0
   1512  10000 ????		00 00	    sprite_spaceship12_color20 =	0
   1513  10000 ????		00 00	    sprite_spaceship12_color19 =	0
   1514  10000 ????		00 00	    sprite_spaceship12_color18 =	0
   1515  10000 ????		00 00	    sprite_spaceship12_color17 =	0
   1516  10000 ????		00 00	    sprite_spaceship12_color16 =	0
   1517  10000 ????		00 00	    sprite_spaceship12_color15 =	0
   1518  10000 ????		00 00	    sprite_spaceship12_color14 =	0
   1519  10000 ????		00 00	    sprite_spaceship12_color13 =	0
   1520  10000 ????		00 00	    sprite_spaceship12_color12 =	0
   1521  10000 ????		00 00	    sprite_spaceship12_color11 =	0
   1522  10000 ????		00 00	    sprite_spaceship12_color10 =	0
   1523  10000 ????		00 00	    sprite_spaceship12_color9 =	0
   1524  10000 ????		00 00	    sprite_spaceship12_color8 =	0
   1525  10000 ????		00 00	    sprite_spaceship12_color7 =	0
   1526  10000 ????		00 00	    sprite_spaceship12_color6 =	0
   1527  10000 ????		00 00	    sprite_spaceship12_color5 =	0
   1528  10000 ????		00 00	    sprite_spaceship12_color4 =	0
   1529  10000 ????		00 1e	    sprite_spaceship12_color3 =	$1e
   1530  10000 ????		00 81	    sprite_spaceship12_color2 =	$81
   1531  10000 ????		00 44	    sprite_spaceship12_color1 =	$44
   1532  10000 ????		00 00	    sprite_spaceship12_color0 =	$00
   1533  10000 ????		00 00	    sprite_spaceship11_color255 =	0
   1534  10000 ????		00 00	    sprite_spaceship11_color254 =	0
   1535  10000 ????		00 00	    sprite_spaceship11_color253 =	0
   1536  10000 ????		00 00	    sprite_spaceship11_color252 =	0
   1537  10000 ????		00 00	    sprite_spaceship11_color251 =	0
   1538  10000 ????		00 00	    sprite_spaceship11_color250 =	0
   1539  10000 ????		00 00	    sprite_spaceship11_color249 =	0
   1540  10000 ????		00 00	    sprite_spaceship11_color248 =	0
   1541  10000 ????		00 00	    sprite_spaceship11_color247 =	0
   1542  10000 ????		00 00	    sprite_spaceship11_color246 =	0
   1543  10000 ????		00 00	    sprite_spaceship11_color245 =	0
   1544  10000 ????		00 00	    sprite_spaceship11_color244 =	0
   1545  10000 ????		00 00	    sprite_spaceship11_color243 =	0
   1546  10000 ????		00 00	    sprite_spaceship11_color242 =	0
   1547  10000 ????		00 00	    sprite_spaceship11_color241 =	0
   1548  10000 ????		00 00	    sprite_spaceship11_color240 =	0
   1549  10000 ????		00 00	    sprite_spaceship11_color239 =	0
   1550  10000 ????		00 00	    sprite_spaceship11_color238 =	0
   1551  10000 ????		00 00	    sprite_spaceship11_color237 =	0
   1552  10000 ????		00 00	    sprite_spaceship11_color236 =	0
   1553  10000 ????		00 00	    sprite_spaceship11_color235 =	0
   1554  10000 ????		00 00	    sprite_spaceship11_color234 =	0
   1555  10000 ????		00 00	    sprite_spaceship11_color233 =	0
   1556  10000 ????		00 00	    sprite_spaceship11_color232 =	0
   1557  10000 ????		00 00	    sprite_spaceship11_color231 =	0
   1558  10000 ????		00 00	    sprite_spaceship11_color230 =	0
   1559  10000 ????		00 00	    sprite_spaceship11_color229 =	0
   1560  10000 ????		00 00	    sprite_spaceship11_color228 =	0
   1561  10000 ????		00 00	    sprite_spaceship11_color227 =	0
   1562  10000 ????		00 00	    sprite_spaceship11_color226 =	0
   1563  10000 ????		00 00	    sprite_spaceship11_color225 =	0
   1564  10000 ????		00 00	    sprite_spaceship11_color224 =	0
   1565  10000 ????		00 00	    sprite_spaceship11_color223 =	0
   1566  10000 ????		00 00	    sprite_spaceship11_color222 =	0
   1567  10000 ????		00 00	    sprite_spaceship11_color221 =	0
   1568  10000 ????		00 00	    sprite_spaceship11_color220 =	0
   1569  10000 ????		00 00	    sprite_spaceship11_color219 =	0
   1570  10000 ????		00 00	    sprite_spaceship11_color218 =	0
   1571  10000 ????		00 00	    sprite_spaceship11_color217 =	0
   1572  10000 ????		00 00	    sprite_spaceship11_color216 =	0
   1573  10000 ????		00 00	    sprite_spaceship11_color215 =	0
   1574  10000 ????		00 00	    sprite_spaceship11_color214 =	0
   1575  10000 ????		00 00	    sprite_spaceship11_color213 =	0
   1576  10000 ????		00 00	    sprite_spaceship11_color212 =	0
   1577  10000 ????		00 00	    sprite_spaceship11_color211 =	0
   1578  10000 ????		00 00	    sprite_spaceship11_color210 =	0
   1579  10000 ????		00 00	    sprite_spaceship11_color209 =	0
   1580  10000 ????		00 00	    sprite_spaceship11_color208 =	0
   1581  10000 ????		00 00	    sprite_spaceship11_color207 =	0
   1582  10000 ????		00 00	    sprite_spaceship11_color206 =	0
   1583  10000 ????		00 00	    sprite_spaceship11_color205 =	0
   1584  10000 ????		00 00	    sprite_spaceship11_color204 =	0
   1585  10000 ????		00 00	    sprite_spaceship11_color203 =	0
   1586  10000 ????		00 00	    sprite_spaceship11_color202 =	0
   1587  10000 ????		00 00	    sprite_spaceship11_color201 =	0
   1588  10000 ????		00 00	    sprite_spaceship11_color200 =	0
   1589  10000 ????		00 00	    sprite_spaceship11_color199 =	0
   1590  10000 ????		00 00	    sprite_spaceship11_color198 =	0
   1591  10000 ????		00 00	    sprite_spaceship11_color197 =	0
   1592  10000 ????		00 00	    sprite_spaceship11_color196 =	0
   1593  10000 ????		00 00	    sprite_spaceship11_color195 =	0
   1594  10000 ????		00 00	    sprite_spaceship11_color194 =	0
   1595  10000 ????		00 00	    sprite_spaceship11_color193 =	0
   1596  10000 ????		00 00	    sprite_spaceship11_color192 =	0
   1597  10000 ????		00 00	    sprite_spaceship11_color191 =	0
   1598  10000 ????		00 00	    sprite_spaceship11_color190 =	0
   1599  10000 ????		00 00	    sprite_spaceship11_color189 =	0
   1600  10000 ????		00 00	    sprite_spaceship11_color188 =	0
   1601  10000 ????		00 00	    sprite_spaceship11_color187 =	0
   1602  10000 ????		00 00	    sprite_spaceship11_color186 =	0
   1603  10000 ????		00 00	    sprite_spaceship11_color185 =	0
   1604  10000 ????		00 00	    sprite_spaceship11_color184 =	0
   1605  10000 ????		00 00	    sprite_spaceship11_color183 =	0
   1606  10000 ????		00 00	    sprite_spaceship11_color182 =	0
   1607  10000 ????		00 00	    sprite_spaceship11_color181 =	0
   1608  10000 ????		00 00	    sprite_spaceship11_color180 =	0
   1609  10000 ????		00 00	    sprite_spaceship11_color179 =	0
   1610  10000 ????		00 00	    sprite_spaceship11_color178 =	0
   1611  10000 ????		00 00	    sprite_spaceship11_color177 =	0
   1612  10000 ????		00 00	    sprite_spaceship11_color176 =	0
   1613  10000 ????		00 00	    sprite_spaceship11_color175 =	0
   1614  10000 ????		00 00	    sprite_spaceship11_color174 =	0
   1615  10000 ????		00 00	    sprite_spaceship11_color173 =	0
   1616  10000 ????		00 00	    sprite_spaceship11_color172 =	0
   1617  10000 ????		00 00	    sprite_spaceship11_color171 =	0
   1618  10000 ????		00 00	    sprite_spaceship11_color170 =	0
   1619  10000 ????		00 00	    sprite_spaceship11_color169 =	0
   1620  10000 ????		00 00	    sprite_spaceship11_color168 =	0
   1621  10000 ????		00 00	    sprite_spaceship11_color167 =	0
   1622  10000 ????		00 00	    sprite_spaceship11_color166 =	0
   1623  10000 ????		00 00	    sprite_spaceship11_color165 =	0
   1624  10000 ????		00 00	    sprite_spaceship11_color164 =	0
   1625  10000 ????		00 00	    sprite_spaceship11_color163 =	0
   1626  10000 ????		00 00	    sprite_spaceship11_color162 =	0
   1627  10000 ????		00 00	    sprite_spaceship11_color161 =	0
   1628  10000 ????		00 00	    sprite_spaceship11_color160 =	0
   1629  10000 ????		00 00	    sprite_spaceship11_color159 =	0
   1630  10000 ????		00 00	    sprite_spaceship11_color158 =	0
   1631  10000 ????		00 00	    sprite_spaceship11_color157 =	0
   1632  10000 ????		00 00	    sprite_spaceship11_color156 =	0
   1633  10000 ????		00 00	    sprite_spaceship11_color155 =	0
   1634  10000 ????		00 00	    sprite_spaceship11_color154 =	0
   1635  10000 ????		00 00	    sprite_spaceship11_color153 =	0
   1636  10000 ????		00 00	    sprite_spaceship11_color152 =	0
   1637  10000 ????		00 00	    sprite_spaceship11_color151 =	0
   1638  10000 ????		00 00	    sprite_spaceship11_color150 =	0
   1639  10000 ????		00 00	    sprite_spaceship11_color149 =	0
   1640  10000 ????		00 00	    sprite_spaceship11_color148 =	0
   1641  10000 ????		00 00	    sprite_spaceship11_color147 =	0
   1642  10000 ????		00 00	    sprite_spaceship11_color146 =	0
   1643  10000 ????		00 00	    sprite_spaceship11_color145 =	0
   1644  10000 ????		00 00	    sprite_spaceship11_color144 =	0
   1645  10000 ????		00 00	    sprite_spaceship11_color143 =	0
   1646  10000 ????		00 00	    sprite_spaceship11_color142 =	0
   1647  10000 ????		00 00	    sprite_spaceship11_color141 =	0
   1648  10000 ????		00 00	    sprite_spaceship11_color140 =	0
   1649  10000 ????		00 00	    sprite_spaceship11_color139 =	0
   1650  10000 ????		00 00	    sprite_spaceship11_color138 =	0
   1651  10000 ????		00 00	    sprite_spaceship11_color137 =	0
   1652  10000 ????		00 00	    sprite_spaceship11_color136 =	0
   1653  10000 ????		00 00	    sprite_spaceship11_color135 =	0
   1654  10000 ????		00 00	    sprite_spaceship11_color134 =	0
   1655  10000 ????		00 00	    sprite_spaceship11_color133 =	0
   1656  10000 ????		00 00	    sprite_spaceship11_color132 =	0
   1657  10000 ????		00 00	    sprite_spaceship11_color131 =	0
   1658  10000 ????		00 00	    sprite_spaceship11_color130 =	0
   1659  10000 ????		00 00	    sprite_spaceship11_color129 =	0
   1660  10000 ????		00 00	    sprite_spaceship11_color128 =	0
   1661  10000 ????		00 00	    sprite_spaceship11_color127 =	0
   1662  10000 ????		00 00	    sprite_spaceship11_color126 =	0
   1663  10000 ????		00 00	    sprite_spaceship11_color125 =	0
   1664  10000 ????		00 00	    sprite_spaceship11_color124 =	0
   1665  10000 ????		00 00	    sprite_spaceship11_color123 =	0
   1666  10000 ????		00 00	    sprite_spaceship11_color122 =	0
   1667  10000 ????		00 00	    sprite_spaceship11_color121 =	0
   1668  10000 ????		00 00	    sprite_spaceship11_color120 =	0
   1669  10000 ????		00 00	    sprite_spaceship11_color119 =	0
   1670  10000 ????		00 00	    sprite_spaceship11_color118 =	0
   1671  10000 ????		00 00	    sprite_spaceship11_color117 =	0
   1672  10000 ????		00 00	    sprite_spaceship11_color116 =	0
   1673  10000 ????		00 00	    sprite_spaceship11_color115 =	0
   1674  10000 ????		00 00	    sprite_spaceship11_color114 =	0
   1675  10000 ????		00 00	    sprite_spaceship11_color113 =	0
   1676  10000 ????		00 00	    sprite_spaceship11_color112 =	0
   1677  10000 ????		00 00	    sprite_spaceship11_color111 =	0
   1678  10000 ????		00 00	    sprite_spaceship11_color110 =	0
   1679  10000 ????		00 00	    sprite_spaceship11_color109 =	0
   1680  10000 ????		00 00	    sprite_spaceship11_color108 =	0
   1681  10000 ????		00 00	    sprite_spaceship11_color107 =	0
   1682  10000 ????		00 00	    sprite_spaceship11_color106 =	0
   1683  10000 ????		00 00	    sprite_spaceship11_color105 =	0
   1684  10000 ????		00 00	    sprite_spaceship11_color104 =	0
   1685  10000 ????		00 00	    sprite_spaceship11_color103 =	0
   1686  10000 ????		00 00	    sprite_spaceship11_color102 =	0
   1687  10000 ????		00 00	    sprite_spaceship11_color101 =	0
   1688  10000 ????		00 00	    sprite_spaceship11_color100 =	0
   1689  10000 ????		00 00	    sprite_spaceship11_color99 =	0
   1690  10000 ????		00 00	    sprite_spaceship11_color98 =	0
   1691  10000 ????		00 00	    sprite_spaceship11_color97 =	0
   1692  10000 ????		00 00	    sprite_spaceship11_color96 =	0
   1693  10000 ????		00 00	    sprite_spaceship11_color95 =	0
   1694  10000 ????		00 00	    sprite_spaceship11_color94 =	0
   1695  10000 ????		00 00	    sprite_spaceship11_color93 =	0
   1696  10000 ????		00 00	    sprite_spaceship11_color92 =	0
   1697  10000 ????		00 00	    sprite_spaceship11_color91 =	0
   1698  10000 ????		00 00	    sprite_spaceship11_color90 =	0
   1699  10000 ????		00 00	    sprite_spaceship11_color89 =	0
   1700  10000 ????		00 00	    sprite_spaceship11_color88 =	0
   1701  10000 ????		00 00	    sprite_spaceship11_color87 =	0
   1702  10000 ????		00 00	    sprite_spaceship11_color86 =	0
   1703  10000 ????		00 00	    sprite_spaceship11_color85 =	0
   1704  10000 ????		00 00	    sprite_spaceship11_color84 =	0
   1705  10000 ????		00 00	    sprite_spaceship11_color83 =	0
   1706  10000 ????		00 00	    sprite_spaceship11_color82 =	0
   1707  10000 ????		00 00	    sprite_spaceship11_color81 =	0
   1708  10000 ????		00 00	    sprite_spaceship11_color80 =	0
   1709  10000 ????		00 00	    sprite_spaceship11_color79 =	0
   1710  10000 ????		00 00	    sprite_spaceship11_color78 =	0
   1711  10000 ????		00 00	    sprite_spaceship11_color77 =	0
   1712  10000 ????		00 00	    sprite_spaceship11_color76 =	0
   1713  10000 ????		00 00	    sprite_spaceship11_color75 =	0
   1714  10000 ????		00 00	    sprite_spaceship11_color74 =	0
   1715  10000 ????		00 00	    sprite_spaceship11_color73 =	0
   1716  10000 ????		00 00	    sprite_spaceship11_color72 =	0
   1717  10000 ????		00 00	    sprite_spaceship11_color71 =	0
   1718  10000 ????		00 00	    sprite_spaceship11_color70 =	0
   1719  10000 ????		00 00	    sprite_spaceship11_color69 =	0
   1720  10000 ????		00 00	    sprite_spaceship11_color68 =	0
   1721  10000 ????		00 00	    sprite_spaceship11_color67 =	0
   1722  10000 ????		00 00	    sprite_spaceship11_color66 =	0
   1723  10000 ????		00 00	    sprite_spaceship11_color65 =	0
   1724  10000 ????		00 00	    sprite_spaceship11_color64 =	0
   1725  10000 ????		00 00	    sprite_spaceship11_color63 =	0
   1726  10000 ????		00 00	    sprite_spaceship11_color62 =	0
   1727  10000 ????		00 00	    sprite_spaceship11_color61 =	0
   1728  10000 ????		00 00	    sprite_spaceship11_color60 =	0
   1729  10000 ????		00 00	    sprite_spaceship11_color59 =	0
   1730  10000 ????		00 00	    sprite_spaceship11_color58 =	0
   1731  10000 ????		00 00	    sprite_spaceship11_color57 =	0
   1732  10000 ????		00 00	    sprite_spaceship11_color56 =	0
   1733  10000 ????		00 00	    sprite_spaceship11_color55 =	0
   1734  10000 ????		00 00	    sprite_spaceship11_color54 =	0
   1735  10000 ????		00 00	    sprite_spaceship11_color53 =	0
   1736  10000 ????		00 00	    sprite_spaceship11_color52 =	0
   1737  10000 ????		00 00	    sprite_spaceship11_color51 =	0
   1738  10000 ????		00 00	    sprite_spaceship11_color50 =	0
   1739  10000 ????		00 00	    sprite_spaceship11_color49 =	0
   1740  10000 ????		00 00	    sprite_spaceship11_color48 =	0
   1741  10000 ????		00 00	    sprite_spaceship11_color47 =	0
   1742  10000 ????		00 00	    sprite_spaceship11_color46 =	0
   1743  10000 ????		00 00	    sprite_spaceship11_color45 =	0
   1744  10000 ????		00 00	    sprite_spaceship11_color44 =	0
   1745  10000 ????		00 00	    sprite_spaceship11_color43 =	0
   1746  10000 ????		00 00	    sprite_spaceship11_color42 =	0
   1747  10000 ????		00 00	    sprite_spaceship11_color41 =	0
   1748  10000 ????		00 00	    sprite_spaceship11_color40 =	0
   1749  10000 ????		00 00	    sprite_spaceship11_color39 =	0
   1750  10000 ????		00 00	    sprite_spaceship11_color38 =	0
   1751  10000 ????		00 00	    sprite_spaceship11_color37 =	0
   1752  10000 ????		00 00	    sprite_spaceship11_color36 =	0
   1753  10000 ????		00 00	    sprite_spaceship11_color35 =	0
   1754  10000 ????		00 00	    sprite_spaceship11_color34 =	0
   1755  10000 ????		00 00	    sprite_spaceship11_color33 =	0
   1756  10000 ????		00 00	    sprite_spaceship11_color32 =	0
   1757  10000 ????		00 00	    sprite_spaceship11_color31 =	0
   1758  10000 ????		00 00	    sprite_spaceship11_color30 =	0
   1759  10000 ????		00 00	    sprite_spaceship11_color29 =	0
   1760  10000 ????		00 00	    sprite_spaceship11_color28 =	0
   1761  10000 ????		00 00	    sprite_spaceship11_color27 =	0
   1762  10000 ????		00 00	    sprite_spaceship11_color26 =	0
   1763  10000 ????		00 00	    sprite_spaceship11_color25 =	0
   1764  10000 ????		00 00	    sprite_spaceship11_color24 =	0
   1765  10000 ????		00 00	    sprite_spaceship11_color23 =	0
   1766  10000 ????		00 00	    sprite_spaceship11_color22 =	0
   1767  10000 ????		00 00	    sprite_spaceship11_color21 =	0
   1768  10000 ????		00 00	    sprite_spaceship11_color20 =	0
   1769  10000 ????		00 00	    sprite_spaceship11_color19 =	0
   1770  10000 ????		00 00	    sprite_spaceship11_color18 =	0
   1771  10000 ????		00 00	    sprite_spaceship11_color17 =	0
   1772  10000 ????		00 00	    sprite_spaceship11_color16 =	0
   1773  10000 ????		00 00	    sprite_spaceship11_color15 =	0
   1774  10000 ????		00 00	    sprite_spaceship11_color14 =	0
   1775  10000 ????		00 00	    sprite_spaceship11_color13 =	0
   1776  10000 ????		00 00	    sprite_spaceship11_color12 =	0
   1777  10000 ????		00 00	    sprite_spaceship11_color11 =	0
   1778  10000 ????		00 00	    sprite_spaceship11_color10 =	0
   1779  10000 ????		00 00	    sprite_spaceship11_color9 =	0
   1780  10000 ????		00 00	    sprite_spaceship11_color8 =	0
   1781  10000 ????		00 00	    sprite_spaceship11_color7 =	0
   1782  10000 ????		00 00	    sprite_spaceship11_color6 =	0
   1783  10000 ????		00 00	    sprite_spaceship11_color5 =	0
   1784  10000 ????		00 00	    sprite_spaceship11_color4 =	0
   1785  10000 ????		00 1e	    sprite_spaceship11_color3 =	$1e
   1786  10000 ????		00 81	    sprite_spaceship11_color2 =	$81
   1787  10000 ????		00 44	    sprite_spaceship11_color1 =	$44
   1788  10000 ????		00 00	    sprite_spaceship11_color0 =	$00
   1789  10000 ????		00 00	    sprite_spaceship10_color255 =	0
   1790  10000 ????		00 00	    sprite_spaceship10_color254 =	0
   1791  10000 ????		00 00	    sprite_spaceship10_color253 =	0
   1792  10000 ????		00 00	    sprite_spaceship10_color252 =	0
   1793  10000 ????		00 00	    sprite_spaceship10_color251 =	0
   1794  10000 ????		00 00	    sprite_spaceship10_color250 =	0
   1795  10000 ????		00 00	    sprite_spaceship10_color249 =	0
   1796  10000 ????		00 00	    sprite_spaceship10_color248 =	0
   1797  10000 ????		00 00	    sprite_spaceship10_color247 =	0
   1798  10000 ????		00 00	    sprite_spaceship10_color246 =	0
   1799  10000 ????		00 00	    sprite_spaceship10_color245 =	0
   1800  10000 ????		00 00	    sprite_spaceship10_color244 =	0
   1801  10000 ????		00 00	    sprite_spaceship10_color243 =	0
   1802  10000 ????		00 00	    sprite_spaceship10_color242 =	0
   1803  10000 ????		00 00	    sprite_spaceship10_color241 =	0
   1804  10000 ????		00 00	    sprite_spaceship10_color240 =	0
   1805  10000 ????		00 00	    sprite_spaceship10_color239 =	0
   1806  10000 ????		00 00	    sprite_spaceship10_color238 =	0
   1807  10000 ????		00 00	    sprite_spaceship10_color237 =	0
   1808  10000 ????		00 00	    sprite_spaceship10_color236 =	0
   1809  10000 ????		00 00	    sprite_spaceship10_color235 =	0
   1810  10000 ????		00 00	    sprite_spaceship10_color234 =	0
   1811  10000 ????		00 00	    sprite_spaceship10_color233 =	0
   1812  10000 ????		00 00	    sprite_spaceship10_color232 =	0
   1813  10000 ????		00 00	    sprite_spaceship10_color231 =	0
   1814  10000 ????		00 00	    sprite_spaceship10_color230 =	0
   1815  10000 ????		00 00	    sprite_spaceship10_color229 =	0
   1816  10000 ????		00 00	    sprite_spaceship10_color228 =	0
   1817  10000 ????		00 00	    sprite_spaceship10_color227 =	0
   1818  10000 ????		00 00	    sprite_spaceship10_color226 =	0
   1819  10000 ????		00 00	    sprite_spaceship10_color225 =	0
   1820  10000 ????		00 00	    sprite_spaceship10_color224 =	0
   1821  10000 ????		00 00	    sprite_spaceship10_color223 =	0
   1822  10000 ????		00 00	    sprite_spaceship10_color222 =	0
   1823  10000 ????		00 00	    sprite_spaceship10_color221 =	0
   1824  10000 ????		00 00	    sprite_spaceship10_color220 =	0
   1825  10000 ????		00 00	    sprite_spaceship10_color219 =	0
   1826  10000 ????		00 00	    sprite_spaceship10_color218 =	0
   1827  10000 ????		00 00	    sprite_spaceship10_color217 =	0
   1828  10000 ????		00 00	    sprite_spaceship10_color216 =	0
   1829  10000 ????		00 00	    sprite_spaceship10_color215 =	0
   1830  10000 ????		00 00	    sprite_spaceship10_color214 =	0
   1831  10000 ????		00 00	    sprite_spaceship10_color213 =	0
   1832  10000 ????		00 00	    sprite_spaceship10_color212 =	0
   1833  10000 ????		00 00	    sprite_spaceship10_color211 =	0
   1834  10000 ????		00 00	    sprite_spaceship10_color210 =	0
   1835  10000 ????		00 00	    sprite_spaceship10_color209 =	0
   1836  10000 ????		00 00	    sprite_spaceship10_color208 =	0
   1837  10000 ????		00 00	    sprite_spaceship10_color207 =	0
   1838  10000 ????		00 00	    sprite_spaceship10_color206 =	0
   1839  10000 ????		00 00	    sprite_spaceship10_color205 =	0
   1840  10000 ????		00 00	    sprite_spaceship10_color204 =	0
   1841  10000 ????		00 00	    sprite_spaceship10_color203 =	0
   1842  10000 ????		00 00	    sprite_spaceship10_color202 =	0
   1843  10000 ????		00 00	    sprite_spaceship10_color201 =	0
   1844  10000 ????		00 00	    sprite_spaceship10_color200 =	0
   1845  10000 ????		00 00	    sprite_spaceship10_color199 =	0
   1846  10000 ????		00 00	    sprite_spaceship10_color198 =	0
   1847  10000 ????		00 00	    sprite_spaceship10_color197 =	0
   1848  10000 ????		00 00	    sprite_spaceship10_color196 =	0
   1849  10000 ????		00 00	    sprite_spaceship10_color195 =	0
   1850  10000 ????		00 00	    sprite_spaceship10_color194 =	0
   1851  10000 ????		00 00	    sprite_spaceship10_color193 =	0
   1852  10000 ????		00 00	    sprite_spaceship10_color192 =	0
   1853  10000 ????		00 00	    sprite_spaceship10_color191 =	0
   1854  10000 ????		00 00	    sprite_spaceship10_color190 =	0
   1855  10000 ????		00 00	    sprite_spaceship10_color189 =	0
   1856  10000 ????		00 00	    sprite_spaceship10_color188 =	0
   1857  10000 ????		00 00	    sprite_spaceship10_color187 =	0
   1858  10000 ????		00 00	    sprite_spaceship10_color186 =	0
   1859  10000 ????		00 00	    sprite_spaceship10_color185 =	0
   1860  10000 ????		00 00	    sprite_spaceship10_color184 =	0
   1861  10000 ????		00 00	    sprite_spaceship10_color183 =	0
   1862  10000 ????		00 00	    sprite_spaceship10_color182 =	0
   1863  10000 ????		00 00	    sprite_spaceship10_color181 =	0
   1864  10000 ????		00 00	    sprite_spaceship10_color180 =	0
   1865  10000 ????		00 00	    sprite_spaceship10_color179 =	0
   1866  10000 ????		00 00	    sprite_spaceship10_color178 =	0
   1867  10000 ????		00 00	    sprite_spaceship10_color177 =	0
   1868  10000 ????		00 00	    sprite_spaceship10_color176 =	0
   1869  10000 ????		00 00	    sprite_spaceship10_color175 =	0
   1870  10000 ????		00 00	    sprite_spaceship10_color174 =	0
   1871  10000 ????		00 00	    sprite_spaceship10_color173 =	0
   1872  10000 ????		00 00	    sprite_spaceship10_color172 =	0
   1873  10000 ????		00 00	    sprite_spaceship10_color171 =	0
   1874  10000 ????		00 00	    sprite_spaceship10_color170 =	0
   1875  10000 ????		00 00	    sprite_spaceship10_color169 =	0
   1876  10000 ????		00 00	    sprite_spaceship10_color168 =	0
   1877  10000 ????		00 00	    sprite_spaceship10_color167 =	0
   1878  10000 ????		00 00	    sprite_spaceship10_color166 =	0
   1879  10000 ????		00 00	    sprite_spaceship10_color165 =	0
   1880  10000 ????		00 00	    sprite_spaceship10_color164 =	0
   1881  10000 ????		00 00	    sprite_spaceship10_color163 =	0
   1882  10000 ????		00 00	    sprite_spaceship10_color162 =	0
   1883  10000 ????		00 00	    sprite_spaceship10_color161 =	0
   1884  10000 ????		00 00	    sprite_spaceship10_color160 =	0
   1885  10000 ????		00 00	    sprite_spaceship10_color159 =	0
   1886  10000 ????		00 00	    sprite_spaceship10_color158 =	0
   1887  10000 ????		00 00	    sprite_spaceship10_color157 =	0
   1888  10000 ????		00 00	    sprite_spaceship10_color156 =	0
   1889  10000 ????		00 00	    sprite_spaceship10_color155 =	0
   1890  10000 ????		00 00	    sprite_spaceship10_color154 =	0
   1891  10000 ????		00 00	    sprite_spaceship10_color153 =	0
   1892  10000 ????		00 00	    sprite_spaceship10_color152 =	0
   1893  10000 ????		00 00	    sprite_spaceship10_color151 =	0
   1894  10000 ????		00 00	    sprite_spaceship10_color150 =	0
   1895  10000 ????		00 00	    sprite_spaceship10_color149 =	0
   1896  10000 ????		00 00	    sprite_spaceship10_color148 =	0
   1897  10000 ????		00 00	    sprite_spaceship10_color147 =	0
   1898  10000 ????		00 00	    sprite_spaceship10_color146 =	0
   1899  10000 ????		00 00	    sprite_spaceship10_color145 =	0
   1900  10000 ????		00 00	    sprite_spaceship10_color144 =	0
   1901  10000 ????		00 00	    sprite_spaceship10_color143 =	0
   1902  10000 ????		00 00	    sprite_spaceship10_color142 =	0
   1903  10000 ????		00 00	    sprite_spaceship10_color141 =	0
   1904  10000 ????		00 00	    sprite_spaceship10_color140 =	0
   1905  10000 ????		00 00	    sprite_spaceship10_color139 =	0
   1906  10000 ????		00 00	    sprite_spaceship10_color138 =	0
   1907  10000 ????		00 00	    sprite_spaceship10_color137 =	0
   1908  10000 ????		00 00	    sprite_spaceship10_color136 =	0
   1909  10000 ????		00 00	    sprite_spaceship10_color135 =	0
   1910  10000 ????		00 00	    sprite_spaceship10_color134 =	0
   1911  10000 ????		00 00	    sprite_spaceship10_color133 =	0
   1912  10000 ????		00 00	    sprite_spaceship10_color132 =	0
   1913  10000 ????		00 00	    sprite_spaceship10_color131 =	0
   1914  10000 ????		00 00	    sprite_spaceship10_color130 =	0
   1915  10000 ????		00 00	    sprite_spaceship10_color129 =	0
   1916  10000 ????		00 00	    sprite_spaceship10_color128 =	0
   1917  10000 ????		00 00	    sprite_spaceship10_color127 =	0
   1918  10000 ????		00 00	    sprite_spaceship10_color126 =	0
   1919  10000 ????		00 00	    sprite_spaceship10_color125 =	0
   1920  10000 ????		00 00	    sprite_spaceship10_color124 =	0
   1921  10000 ????		00 00	    sprite_spaceship10_color123 =	0
   1922  10000 ????		00 00	    sprite_spaceship10_color122 =	0
   1923  10000 ????		00 00	    sprite_spaceship10_color121 =	0
   1924  10000 ????		00 00	    sprite_spaceship10_color120 =	0
   1925  10000 ????		00 00	    sprite_spaceship10_color119 =	0
   1926  10000 ????		00 00	    sprite_spaceship10_color118 =	0
   1927  10000 ????		00 00	    sprite_spaceship10_color117 =	0
   1928  10000 ????		00 00	    sprite_spaceship10_color116 =	0
   1929  10000 ????		00 00	    sprite_spaceship10_color115 =	0
   1930  10000 ????		00 00	    sprite_spaceship10_color114 =	0
   1931  10000 ????		00 00	    sprite_spaceship10_color113 =	0
   1932  10000 ????		00 00	    sprite_spaceship10_color112 =	0
   1933  10000 ????		00 00	    sprite_spaceship10_color111 =	0
   1934  10000 ????		00 00	    sprite_spaceship10_color110 =	0
   1935  10000 ????		00 00	    sprite_spaceship10_color109 =	0
   1936  10000 ????		00 00	    sprite_spaceship10_color108 =	0
   1937  10000 ????		00 00	    sprite_spaceship10_color107 =	0
   1938  10000 ????		00 00	    sprite_spaceship10_color106 =	0
   1939  10000 ????		00 00	    sprite_spaceship10_color105 =	0
   1940  10000 ????		00 00	    sprite_spaceship10_color104 =	0
   1941  10000 ????		00 00	    sprite_spaceship10_color103 =	0
   1942  10000 ????		00 00	    sprite_spaceship10_color102 =	0
   1943  10000 ????		00 00	    sprite_spaceship10_color101 =	0
   1944  10000 ????		00 00	    sprite_spaceship10_color100 =	0
   1945  10000 ????		00 00	    sprite_spaceship10_color99 =	0
   1946  10000 ????		00 00	    sprite_spaceship10_color98 =	0
   1947  10000 ????		00 00	    sprite_spaceship10_color97 =	0
   1948  10000 ????		00 00	    sprite_spaceship10_color96 =	0
   1949  10000 ????		00 00	    sprite_spaceship10_color95 =	0
   1950  10000 ????		00 00	    sprite_spaceship10_color94 =	0
   1951  10000 ????		00 00	    sprite_spaceship10_color93 =	0
   1952  10000 ????		00 00	    sprite_spaceship10_color92 =	0
   1953  10000 ????		00 00	    sprite_spaceship10_color91 =	0
   1954  10000 ????		00 00	    sprite_spaceship10_color90 =	0
   1955  10000 ????		00 00	    sprite_spaceship10_color89 =	0
   1956  10000 ????		00 00	    sprite_spaceship10_color88 =	0
   1957  10000 ????		00 00	    sprite_spaceship10_color87 =	0
   1958  10000 ????		00 00	    sprite_spaceship10_color86 =	0
   1959  10000 ????		00 00	    sprite_spaceship10_color85 =	0
   1960  10000 ????		00 00	    sprite_spaceship10_color84 =	0
   1961  10000 ????		00 00	    sprite_spaceship10_color83 =	0
   1962  10000 ????		00 00	    sprite_spaceship10_color82 =	0
   1963  10000 ????		00 00	    sprite_spaceship10_color81 =	0
   1964  10000 ????		00 00	    sprite_spaceship10_color80 =	0
   1965  10000 ????		00 00	    sprite_spaceship10_color79 =	0
   1966  10000 ????		00 00	    sprite_spaceship10_color78 =	0
   1967  10000 ????		00 00	    sprite_spaceship10_color77 =	0
   1968  10000 ????		00 00	    sprite_spaceship10_color76 =	0
   1969  10000 ????		00 00	    sprite_spaceship10_color75 =	0
   1970  10000 ????		00 00	    sprite_spaceship10_color74 =	0
   1971  10000 ????		00 00	    sprite_spaceship10_color73 =	0
   1972  10000 ????		00 00	    sprite_spaceship10_color72 =	0
   1973  10000 ????		00 00	    sprite_spaceship10_color71 =	0
   1974  10000 ????		00 00	    sprite_spaceship10_color70 =	0
   1975  10000 ????		00 00	    sprite_spaceship10_color69 =	0
   1976  10000 ????		00 00	    sprite_spaceship10_color68 =	0
   1977  10000 ????		00 00	    sprite_spaceship10_color67 =	0
   1978  10000 ????		00 00	    sprite_spaceship10_color66 =	0
   1979  10000 ????		00 00	    sprite_spaceship10_color65 =	0
   1980  10000 ????		00 00	    sprite_spaceship10_color64 =	0
   1981  10000 ????		00 00	    sprite_spaceship10_color63 =	0
   1982  10000 ????		00 00	    sprite_spaceship10_color62 =	0
   1983  10000 ????		00 00	    sprite_spaceship10_color61 =	0
   1984  10000 ????		00 00	    sprite_spaceship10_color60 =	0
   1985  10000 ????		00 00	    sprite_spaceship10_color59 =	0
   1986  10000 ????		00 00	    sprite_spaceship10_color58 =	0
   1987  10000 ????		00 00	    sprite_spaceship10_color57 =	0
   1988  10000 ????		00 00	    sprite_spaceship10_color56 =	0
   1989  10000 ????		00 00	    sprite_spaceship10_color55 =	0
   1990  10000 ????		00 00	    sprite_spaceship10_color54 =	0
   1991  10000 ????		00 00	    sprite_spaceship10_color53 =	0
   1992  10000 ????		00 00	    sprite_spaceship10_color52 =	0
   1993  10000 ????		00 00	    sprite_spaceship10_color51 =	0
   1994  10000 ????		00 00	    sprite_spaceship10_color50 =	0
   1995  10000 ????		00 00	    sprite_spaceship10_color49 =	0
   1996  10000 ????		00 00	    sprite_spaceship10_color48 =	0
   1997  10000 ????		00 00	    sprite_spaceship10_color47 =	0
   1998  10000 ????		00 00	    sprite_spaceship10_color46 =	0
   1999  10000 ????		00 00	    sprite_spaceship10_color45 =	0
   2000  10000 ????		00 00	    sprite_spaceship10_color44 =	0
   2001  10000 ????		00 00	    sprite_spaceship10_color43 =	0
   2002  10000 ????		00 00	    sprite_spaceship10_color42 =	0
   2003  10000 ????		00 00	    sprite_spaceship10_color41 =	0
   2004  10000 ????		00 00	    sprite_spaceship10_color40 =	0
   2005  10000 ????		00 00	    sprite_spaceship10_color39 =	0
   2006  10000 ????		00 00	    sprite_spaceship10_color38 =	0
   2007  10000 ????		00 00	    sprite_spaceship10_color37 =	0
   2008  10000 ????		00 00	    sprite_spaceship10_color36 =	0
   2009  10000 ????		00 00	    sprite_spaceship10_color35 =	0
   2010  10000 ????		00 00	    sprite_spaceship10_color34 =	0
   2011  10000 ????		00 00	    sprite_spaceship10_color33 =	0
   2012  10000 ????		00 00	    sprite_spaceship10_color32 =	0
   2013  10000 ????		00 00	    sprite_spaceship10_color31 =	0
   2014  10000 ????		00 00	    sprite_spaceship10_color30 =	0
   2015  10000 ????		00 00	    sprite_spaceship10_color29 =	0
   2016  10000 ????		00 00	    sprite_spaceship10_color28 =	0
   2017  10000 ????		00 00	    sprite_spaceship10_color27 =	0
   2018  10000 ????		00 00	    sprite_spaceship10_color26 =	0
   2019  10000 ????		00 00	    sprite_spaceship10_color25 =	0
   2020  10000 ????		00 00	    sprite_spaceship10_color24 =	0
   2021  10000 ????		00 00	    sprite_spaceship10_color23 =	0
   2022  10000 ????		00 00	    sprite_spaceship10_color22 =	0
   2023  10000 ????		00 00	    sprite_spaceship10_color21 =	0
   2024  10000 ????		00 00	    sprite_spaceship10_color20 =	0
   2025  10000 ????		00 00	    sprite_spaceship10_color19 =	0
   2026  10000 ????		00 00	    sprite_spaceship10_color18 =	0
   2027  10000 ????		00 00	    sprite_spaceship10_color17 =	0
   2028  10000 ????		00 00	    sprite_spaceship10_color16 =	0
   2029  10000 ????		00 00	    sprite_spaceship10_color15 =	0
   2030  10000 ????		00 00	    sprite_spaceship10_color14 =	0
   2031  10000 ????		00 00	    sprite_spaceship10_color13 =	0
   2032  10000 ????		00 00	    sprite_spaceship10_color12 =	0
   2033  10000 ????		00 00	    sprite_spaceship10_color11 =	0
   2034  10000 ????		00 00	    sprite_spaceship10_color10 =	0
   2035  10000 ????		00 00	    sprite_spaceship10_color9 =	0
   2036  10000 ????		00 00	    sprite_spaceship10_color8 =	0
   2037  10000 ????		00 00	    sprite_spaceship10_color7 =	0
   2038  10000 ????		00 00	    sprite_spaceship10_color6 =	0
   2039  10000 ????		00 00	    sprite_spaceship10_color5 =	0
   2040  10000 ????		00 00	    sprite_spaceship10_color4 =	0
   2041  10000 ????		00 1e	    sprite_spaceship10_color3 =	$1e
   2042  10000 ????		00 81	    sprite_spaceship10_color2 =	$81
   2043  10000 ????		00 44	    sprite_spaceship10_color1 =	$44
   2044  10000 ????		00 00	    sprite_spaceship10_color0 =	$00
   2045  10000 ????		00 00	    sprite_spaceship9_color255 =	0
   2046  10000 ????		00 00	    sprite_spaceship9_color254 =	0
   2047  10000 ????		00 00	    sprite_spaceship9_color253 =	0
   2048  10000 ????		00 00	    sprite_spaceship9_color252 =	0
   2049  10000 ????		00 00	    sprite_spaceship9_color251 =	0
   2050  10000 ????		00 00	    sprite_spaceship9_color250 =	0
   2051  10000 ????		00 00	    sprite_spaceship9_color249 =	0
   2052  10000 ????		00 00	    sprite_spaceship9_color248 =	0
   2053  10000 ????		00 00	    sprite_spaceship9_color247 =	0
   2054  10000 ????		00 00	    sprite_spaceship9_color246 =	0
   2055  10000 ????		00 00	    sprite_spaceship9_color245 =	0
   2056  10000 ????		00 00	    sprite_spaceship9_color244 =	0
   2057  10000 ????		00 00	    sprite_spaceship9_color243 =	0
   2058  10000 ????		00 00	    sprite_spaceship9_color242 =	0
   2059  10000 ????		00 00	    sprite_spaceship9_color241 =	0
   2060  10000 ????		00 00	    sprite_spaceship9_color240 =	0
   2061  10000 ????		00 00	    sprite_spaceship9_color239 =	0
   2062  10000 ????		00 00	    sprite_spaceship9_color238 =	0
   2063  10000 ????		00 00	    sprite_spaceship9_color237 =	0
   2064  10000 ????		00 00	    sprite_spaceship9_color236 =	0
   2065  10000 ????		00 00	    sprite_spaceship9_color235 =	0
   2066  10000 ????		00 00	    sprite_spaceship9_color234 =	0
   2067  10000 ????		00 00	    sprite_spaceship9_color233 =	0
   2068  10000 ????		00 00	    sprite_spaceship9_color232 =	0
   2069  10000 ????		00 00	    sprite_spaceship9_color231 =	0
   2070  10000 ????		00 00	    sprite_spaceship9_color230 =	0
   2071  10000 ????		00 00	    sprite_spaceship9_color229 =	0
   2072  10000 ????		00 00	    sprite_spaceship9_color228 =	0
   2073  10000 ????		00 00	    sprite_spaceship9_color227 =	0
   2074  10000 ????		00 00	    sprite_spaceship9_color226 =	0
   2075  10000 ????		00 00	    sprite_spaceship9_color225 =	0
   2076  10000 ????		00 00	    sprite_spaceship9_color224 =	0
   2077  10000 ????		00 00	    sprite_spaceship9_color223 =	0
   2078  10000 ????		00 00	    sprite_spaceship9_color222 =	0
   2079  10000 ????		00 00	    sprite_spaceship9_color221 =	0
   2080  10000 ????		00 00	    sprite_spaceship9_color220 =	0
   2081  10000 ????		00 00	    sprite_spaceship9_color219 =	0
   2082  10000 ????		00 00	    sprite_spaceship9_color218 =	0
   2083  10000 ????		00 00	    sprite_spaceship9_color217 =	0
   2084  10000 ????		00 00	    sprite_spaceship9_color216 =	0
   2085  10000 ????		00 00	    sprite_spaceship9_color215 =	0
   2086  10000 ????		00 00	    sprite_spaceship9_color214 =	0
   2087  10000 ????		00 00	    sprite_spaceship9_color213 =	0
   2088  10000 ????		00 00	    sprite_spaceship9_color212 =	0
   2089  10000 ????		00 00	    sprite_spaceship9_color211 =	0
   2090  10000 ????		00 00	    sprite_spaceship9_color210 =	0
   2091  10000 ????		00 00	    sprite_spaceship9_color209 =	0
   2092  10000 ????		00 00	    sprite_spaceship9_color208 =	0
   2093  10000 ????		00 00	    sprite_spaceship9_color207 =	0
   2094  10000 ????		00 00	    sprite_spaceship9_color206 =	0
   2095  10000 ????		00 00	    sprite_spaceship9_color205 =	0
   2096  10000 ????		00 00	    sprite_spaceship9_color204 =	0
   2097  10000 ????		00 00	    sprite_spaceship9_color203 =	0
   2098  10000 ????		00 00	    sprite_spaceship9_color202 =	0
   2099  10000 ????		00 00	    sprite_spaceship9_color201 =	0
   2100  10000 ????		00 00	    sprite_spaceship9_color200 =	0
   2101  10000 ????		00 00	    sprite_spaceship9_color199 =	0
   2102  10000 ????		00 00	    sprite_spaceship9_color198 =	0
   2103  10000 ????		00 00	    sprite_spaceship9_color197 =	0
   2104  10000 ????		00 00	    sprite_spaceship9_color196 =	0
   2105  10000 ????		00 00	    sprite_spaceship9_color195 =	0
   2106  10000 ????		00 00	    sprite_spaceship9_color194 =	0
   2107  10000 ????		00 00	    sprite_spaceship9_color193 =	0
   2108  10000 ????		00 00	    sprite_spaceship9_color192 =	0
   2109  10000 ????		00 00	    sprite_spaceship9_color191 =	0
   2110  10000 ????		00 00	    sprite_spaceship9_color190 =	0
   2111  10000 ????		00 00	    sprite_spaceship9_color189 =	0
   2112  10000 ????		00 00	    sprite_spaceship9_color188 =	0
   2113  10000 ????		00 00	    sprite_spaceship9_color187 =	0
   2114  10000 ????		00 00	    sprite_spaceship9_color186 =	0
   2115  10000 ????		00 00	    sprite_spaceship9_color185 =	0
   2116  10000 ????		00 00	    sprite_spaceship9_color184 =	0
   2117  10000 ????		00 00	    sprite_spaceship9_color183 =	0
   2118  10000 ????		00 00	    sprite_spaceship9_color182 =	0
   2119  10000 ????		00 00	    sprite_spaceship9_color181 =	0
   2120  10000 ????		00 00	    sprite_spaceship9_color180 =	0
   2121  10000 ????		00 00	    sprite_spaceship9_color179 =	0
   2122  10000 ????		00 00	    sprite_spaceship9_color178 =	0
   2123  10000 ????		00 00	    sprite_spaceship9_color177 =	0
   2124  10000 ????		00 00	    sprite_spaceship9_color176 =	0
   2125  10000 ????		00 00	    sprite_spaceship9_color175 =	0
   2126  10000 ????		00 00	    sprite_spaceship9_color174 =	0
   2127  10000 ????		00 00	    sprite_spaceship9_color173 =	0
   2128  10000 ????		00 00	    sprite_spaceship9_color172 =	0
   2129  10000 ????		00 00	    sprite_spaceship9_color171 =	0
   2130  10000 ????		00 00	    sprite_spaceship9_color170 =	0
   2131  10000 ????		00 00	    sprite_spaceship9_color169 =	0
   2132  10000 ????		00 00	    sprite_spaceship9_color168 =	0
   2133  10000 ????		00 00	    sprite_spaceship9_color167 =	0
   2134  10000 ????		00 00	    sprite_spaceship9_color166 =	0
   2135  10000 ????		00 00	    sprite_spaceship9_color165 =	0
   2136  10000 ????		00 00	    sprite_spaceship9_color164 =	0
   2137  10000 ????		00 00	    sprite_spaceship9_color163 =	0
   2138  10000 ????		00 00	    sprite_spaceship9_color162 =	0
   2139  10000 ????		00 00	    sprite_spaceship9_color161 =	0
   2140  10000 ????		00 00	    sprite_spaceship9_color160 =	0
   2141  10000 ????		00 00	    sprite_spaceship9_color159 =	0
   2142  10000 ????		00 00	    sprite_spaceship9_color158 =	0
   2143  10000 ????		00 00	    sprite_spaceship9_color157 =	0
   2144  10000 ????		00 00	    sprite_spaceship9_color156 =	0
   2145  10000 ????		00 00	    sprite_spaceship9_color155 =	0
   2146  10000 ????		00 00	    sprite_spaceship9_color154 =	0
   2147  10000 ????		00 00	    sprite_spaceship9_color153 =	0
   2148  10000 ????		00 00	    sprite_spaceship9_color152 =	0
   2149  10000 ????		00 00	    sprite_spaceship9_color151 =	0
   2150  10000 ????		00 00	    sprite_spaceship9_color150 =	0
   2151  10000 ????		00 00	    sprite_spaceship9_color149 =	0
   2152  10000 ????		00 00	    sprite_spaceship9_color148 =	0
   2153  10000 ????		00 00	    sprite_spaceship9_color147 =	0
   2154  10000 ????		00 00	    sprite_spaceship9_color146 =	0
   2155  10000 ????		00 00	    sprite_spaceship9_color145 =	0
   2156  10000 ????		00 00	    sprite_spaceship9_color144 =	0
   2157  10000 ????		00 00	    sprite_spaceship9_color143 =	0
   2158  10000 ????		00 00	    sprite_spaceship9_color142 =	0
   2159  10000 ????		00 00	    sprite_spaceship9_color141 =	0
   2160  10000 ????		00 00	    sprite_spaceship9_color140 =	0
   2161  10000 ????		00 00	    sprite_spaceship9_color139 =	0
   2162  10000 ????		00 00	    sprite_spaceship9_color138 =	0
   2163  10000 ????		00 00	    sprite_spaceship9_color137 =	0
   2164  10000 ????		00 00	    sprite_spaceship9_color136 =	0
   2165  10000 ????		00 00	    sprite_spaceship9_color135 =	0
   2166  10000 ????		00 00	    sprite_spaceship9_color134 =	0
   2167  10000 ????		00 00	    sprite_spaceship9_color133 =	0
   2168  10000 ????		00 00	    sprite_spaceship9_color132 =	0
   2169  10000 ????		00 00	    sprite_spaceship9_color131 =	0
   2170  10000 ????		00 00	    sprite_spaceship9_color130 =	0
   2171  10000 ????		00 00	    sprite_spaceship9_color129 =	0
   2172  10000 ????		00 00	    sprite_spaceship9_color128 =	0
   2173  10000 ????		00 00	    sprite_spaceship9_color127 =	0
   2174  10000 ????		00 00	    sprite_spaceship9_color126 =	0
   2175  10000 ????		00 00	    sprite_spaceship9_color125 =	0
   2176  10000 ????		00 00	    sprite_spaceship9_color124 =	0
   2177  10000 ????		00 00	    sprite_spaceship9_color123 =	0
   2178  10000 ????		00 00	    sprite_spaceship9_color122 =	0
   2179  10000 ????		00 00	    sprite_spaceship9_color121 =	0
   2180  10000 ????		00 00	    sprite_spaceship9_color120 =	0
   2181  10000 ????		00 00	    sprite_spaceship9_color119 =	0
   2182  10000 ????		00 00	    sprite_spaceship9_color118 =	0
   2183  10000 ????		00 00	    sprite_spaceship9_color117 =	0
   2184  10000 ????		00 00	    sprite_spaceship9_color116 =	0
   2185  10000 ????		00 00	    sprite_spaceship9_color115 =	0
   2186  10000 ????		00 00	    sprite_spaceship9_color114 =	0
   2187  10000 ????		00 00	    sprite_spaceship9_color113 =	0
   2188  10000 ????		00 00	    sprite_spaceship9_color112 =	0
   2189  10000 ????		00 00	    sprite_spaceship9_color111 =	0
   2190  10000 ????		00 00	    sprite_spaceship9_color110 =	0
   2191  10000 ????		00 00	    sprite_spaceship9_color109 =	0
   2192  10000 ????		00 00	    sprite_spaceship9_color108 =	0
   2193  10000 ????		00 00	    sprite_spaceship9_color107 =	0
   2194  10000 ????		00 00	    sprite_spaceship9_color106 =	0
   2195  10000 ????		00 00	    sprite_spaceship9_color105 =	0
   2196  10000 ????		00 00	    sprite_spaceship9_color104 =	0
   2197  10000 ????		00 00	    sprite_spaceship9_color103 =	0
   2198  10000 ????		00 00	    sprite_spaceship9_color102 =	0
   2199  10000 ????		00 00	    sprite_spaceship9_color101 =	0
   2200  10000 ????		00 00	    sprite_spaceship9_color100 =	0
   2201  10000 ????		00 00	    sprite_spaceship9_color99 =	0
   2202  10000 ????		00 00	    sprite_spaceship9_color98 =	0
   2203  10000 ????		00 00	    sprite_spaceship9_color97 =	0
   2204  10000 ????		00 00	    sprite_spaceship9_color96 =	0
   2205  10000 ????		00 00	    sprite_spaceship9_color95 =	0
   2206  10000 ????		00 00	    sprite_spaceship9_color94 =	0
   2207  10000 ????		00 00	    sprite_spaceship9_color93 =	0
   2208  10000 ????		00 00	    sprite_spaceship9_color92 =	0
   2209  10000 ????		00 00	    sprite_spaceship9_color91 =	0
   2210  10000 ????		00 00	    sprite_spaceship9_color90 =	0
   2211  10000 ????		00 00	    sprite_spaceship9_color89 =	0
   2212  10000 ????		00 00	    sprite_spaceship9_color88 =	0
   2213  10000 ????		00 00	    sprite_spaceship9_color87 =	0
   2214  10000 ????		00 00	    sprite_spaceship9_color86 =	0
   2215  10000 ????		00 00	    sprite_spaceship9_color85 =	0
   2216  10000 ????		00 00	    sprite_spaceship9_color84 =	0
   2217  10000 ????		00 00	    sprite_spaceship9_color83 =	0
   2218  10000 ????		00 00	    sprite_spaceship9_color82 =	0
   2219  10000 ????		00 00	    sprite_spaceship9_color81 =	0
   2220  10000 ????		00 00	    sprite_spaceship9_color80 =	0
   2221  10000 ????		00 00	    sprite_spaceship9_color79 =	0
   2222  10000 ????		00 00	    sprite_spaceship9_color78 =	0
   2223  10000 ????		00 00	    sprite_spaceship9_color77 =	0
   2224  10000 ????		00 00	    sprite_spaceship9_color76 =	0
   2225  10000 ????		00 00	    sprite_spaceship9_color75 =	0
   2226  10000 ????		00 00	    sprite_spaceship9_color74 =	0
   2227  10000 ????		00 00	    sprite_spaceship9_color73 =	0
   2228  10000 ????		00 00	    sprite_spaceship9_color72 =	0
   2229  10000 ????		00 00	    sprite_spaceship9_color71 =	0
   2230  10000 ????		00 00	    sprite_spaceship9_color70 =	0
   2231  10000 ????		00 00	    sprite_spaceship9_color69 =	0
   2232  10000 ????		00 00	    sprite_spaceship9_color68 =	0
   2233  10000 ????		00 00	    sprite_spaceship9_color67 =	0
   2234  10000 ????		00 00	    sprite_spaceship9_color66 =	0
   2235  10000 ????		00 00	    sprite_spaceship9_color65 =	0
   2236  10000 ????		00 00	    sprite_spaceship9_color64 =	0
   2237  10000 ????		00 00	    sprite_spaceship9_color63 =	0
   2238  10000 ????		00 00	    sprite_spaceship9_color62 =	0
   2239  10000 ????		00 00	    sprite_spaceship9_color61 =	0
   2240  10000 ????		00 00	    sprite_spaceship9_color60 =	0
   2241  10000 ????		00 00	    sprite_spaceship9_color59 =	0
   2242  10000 ????		00 00	    sprite_spaceship9_color58 =	0
   2243  10000 ????		00 00	    sprite_spaceship9_color57 =	0
   2244  10000 ????		00 00	    sprite_spaceship9_color56 =	0
   2245  10000 ????		00 00	    sprite_spaceship9_color55 =	0
   2246  10000 ????		00 00	    sprite_spaceship9_color54 =	0
   2247  10000 ????		00 00	    sprite_spaceship9_color53 =	0
   2248  10000 ????		00 00	    sprite_spaceship9_color52 =	0
   2249  10000 ????		00 00	    sprite_spaceship9_color51 =	0
   2250  10000 ????		00 00	    sprite_spaceship9_color50 =	0
   2251  10000 ????		00 00	    sprite_spaceship9_color49 =	0
   2252  10000 ????		00 00	    sprite_spaceship9_color48 =	0
   2253  10000 ????		00 00	    sprite_spaceship9_color47 =	0
   2254  10000 ????		00 00	    sprite_spaceship9_color46 =	0
   2255  10000 ????		00 00	    sprite_spaceship9_color45 =	0
   2256  10000 ????		00 00	    sprite_spaceship9_color44 =	0
   2257  10000 ????		00 00	    sprite_spaceship9_color43 =	0
   2258  10000 ????		00 00	    sprite_spaceship9_color42 =	0
   2259  10000 ????		00 00	    sprite_spaceship9_color41 =	0
   2260  10000 ????		00 00	    sprite_spaceship9_color40 =	0
   2261  10000 ????		00 00	    sprite_spaceship9_color39 =	0
   2262  10000 ????		00 00	    sprite_spaceship9_color38 =	0
   2263  10000 ????		00 00	    sprite_spaceship9_color37 =	0
   2264  10000 ????		00 00	    sprite_spaceship9_color36 =	0
   2265  10000 ????		00 00	    sprite_spaceship9_color35 =	0
   2266  10000 ????		00 00	    sprite_spaceship9_color34 =	0
   2267  10000 ????		00 00	    sprite_spaceship9_color33 =	0
   2268  10000 ????		00 00	    sprite_spaceship9_color32 =	0
   2269  10000 ????		00 00	    sprite_spaceship9_color31 =	0
   2270  10000 ????		00 00	    sprite_spaceship9_color30 =	0
   2271  10000 ????		00 00	    sprite_spaceship9_color29 =	0
   2272  10000 ????		00 00	    sprite_spaceship9_color28 =	0
   2273  10000 ????		00 00	    sprite_spaceship9_color27 =	0
   2274  10000 ????		00 00	    sprite_spaceship9_color26 =	0
   2275  10000 ????		00 00	    sprite_spaceship9_color25 =	0
   2276  10000 ????		00 00	    sprite_spaceship9_color24 =	0
   2277  10000 ????		00 00	    sprite_spaceship9_color23 =	0
   2278  10000 ????		00 00	    sprite_spaceship9_color22 =	0
   2279  10000 ????		00 00	    sprite_spaceship9_color21 =	0
   2280  10000 ????		00 00	    sprite_spaceship9_color20 =	0
   2281  10000 ????		00 00	    sprite_spaceship9_color19 =	0
   2282  10000 ????		00 00	    sprite_spaceship9_color18 =	0
   2283  10000 ????		00 00	    sprite_spaceship9_color17 =	0
   2284  10000 ????		00 00	    sprite_spaceship9_color16 =	0
   2285  10000 ????		00 00	    sprite_spaceship9_color15 =	0
   2286  10000 ????		00 00	    sprite_spaceship9_color14 =	0
   2287  10000 ????		00 00	    sprite_spaceship9_color13 =	0
   2288  10000 ????		00 00	    sprite_spaceship9_color12 =	0
   2289  10000 ????		00 00	    sprite_spaceship9_color11 =	0
   2290  10000 ????		00 00	    sprite_spaceship9_color10 =	0
   2291  10000 ????		00 00	    sprite_spaceship9_color9 =	0
   2292  10000 ????		00 00	    sprite_spaceship9_color8 =	0
   2293  10000 ????		00 00	    sprite_spaceship9_color7 =	0
   2294  10000 ????		00 00	    sprite_spaceship9_color6 =	0
   2295  10000 ????		00 00	    sprite_spaceship9_color5 =	0
   2296  10000 ????		00 00	    sprite_spaceship9_color4 =	0
   2297  10000 ????		00 1e	    sprite_spaceship9_color3 =	$1e
   2298  10000 ????		00 81	    sprite_spaceship9_color2 =	$81
   2299  10000 ????		00 44	    sprite_spaceship9_color1 =	$44
   2300  10000 ????		00 00	    sprite_spaceship9_color0 =	$00
   2301  10000 ????		00 00	    sprite_spaceship8_color255 =	0
   2302  10000 ????		00 00	    sprite_spaceship8_color254 =	0
   2303  10000 ????		00 00	    sprite_spaceship8_color253 =	0
   2304  10000 ????		00 00	    sprite_spaceship8_color252 =	0
   2305  10000 ????		00 00	    sprite_spaceship8_color251 =	0
   2306  10000 ????		00 00	    sprite_spaceship8_color250 =	0
   2307  10000 ????		00 00	    sprite_spaceship8_color249 =	0
   2308  10000 ????		00 00	    sprite_spaceship8_color248 =	0
   2309  10000 ????		00 00	    sprite_spaceship8_color247 =	0
   2310  10000 ????		00 00	    sprite_spaceship8_color246 =	0
   2311  10000 ????		00 00	    sprite_spaceship8_color245 =	0
   2312  10000 ????		00 00	    sprite_spaceship8_color244 =	0
   2313  10000 ????		00 00	    sprite_spaceship8_color243 =	0
   2314  10000 ????		00 00	    sprite_spaceship8_color242 =	0
   2315  10000 ????		00 00	    sprite_spaceship8_color241 =	0
   2316  10000 ????		00 00	    sprite_spaceship8_color240 =	0
   2317  10000 ????		00 00	    sprite_spaceship8_color239 =	0
   2318  10000 ????		00 00	    sprite_spaceship8_color238 =	0
   2319  10000 ????		00 00	    sprite_spaceship8_color237 =	0
   2320  10000 ????		00 00	    sprite_spaceship8_color236 =	0
   2321  10000 ????		00 00	    sprite_spaceship8_color235 =	0
   2322  10000 ????		00 00	    sprite_spaceship8_color234 =	0
   2323  10000 ????		00 00	    sprite_spaceship8_color233 =	0
   2324  10000 ????		00 00	    sprite_spaceship8_color232 =	0
   2325  10000 ????		00 00	    sprite_spaceship8_color231 =	0
   2326  10000 ????		00 00	    sprite_spaceship8_color230 =	0
   2327  10000 ????		00 00	    sprite_spaceship8_color229 =	0
   2328  10000 ????		00 00	    sprite_spaceship8_color228 =	0
   2329  10000 ????		00 00	    sprite_spaceship8_color227 =	0
   2330  10000 ????		00 00	    sprite_spaceship8_color226 =	0
   2331  10000 ????		00 00	    sprite_spaceship8_color225 =	0
   2332  10000 ????		00 00	    sprite_spaceship8_color224 =	0
   2333  10000 ????		00 00	    sprite_spaceship8_color223 =	0
   2334  10000 ????		00 00	    sprite_spaceship8_color222 =	0
   2335  10000 ????		00 00	    sprite_spaceship8_color221 =	0
   2336  10000 ????		00 00	    sprite_spaceship8_color220 =	0
   2337  10000 ????		00 00	    sprite_spaceship8_color219 =	0
   2338  10000 ????		00 00	    sprite_spaceship8_color218 =	0
   2339  10000 ????		00 00	    sprite_spaceship8_color217 =	0
   2340  10000 ????		00 00	    sprite_spaceship8_color216 =	0
   2341  10000 ????		00 00	    sprite_spaceship8_color215 =	0
   2342  10000 ????		00 00	    sprite_spaceship8_color214 =	0
   2343  10000 ????		00 00	    sprite_spaceship8_color213 =	0
   2344  10000 ????		00 00	    sprite_spaceship8_color212 =	0
   2345  10000 ????		00 00	    sprite_spaceship8_color211 =	0
   2346  10000 ????		00 00	    sprite_spaceship8_color210 =	0
   2347  10000 ????		00 00	    sprite_spaceship8_color209 =	0
   2348  10000 ????		00 00	    sprite_spaceship8_color208 =	0
   2349  10000 ????		00 00	    sprite_spaceship8_color207 =	0
   2350  10000 ????		00 00	    sprite_spaceship8_color206 =	0
   2351  10000 ????		00 00	    sprite_spaceship8_color205 =	0
   2352  10000 ????		00 00	    sprite_spaceship8_color204 =	0
   2353  10000 ????		00 00	    sprite_spaceship8_color203 =	0
   2354  10000 ????		00 00	    sprite_spaceship8_color202 =	0
   2355  10000 ????		00 00	    sprite_spaceship8_color201 =	0
   2356  10000 ????		00 00	    sprite_spaceship8_color200 =	0
   2357  10000 ????		00 00	    sprite_spaceship8_color199 =	0
   2358  10000 ????		00 00	    sprite_spaceship8_color198 =	0
   2359  10000 ????		00 00	    sprite_spaceship8_color197 =	0
   2360  10000 ????		00 00	    sprite_spaceship8_color196 =	0
   2361  10000 ????		00 00	    sprite_spaceship8_color195 =	0
   2362  10000 ????		00 00	    sprite_spaceship8_color194 =	0
   2363  10000 ????		00 00	    sprite_spaceship8_color193 =	0
   2364  10000 ????		00 00	    sprite_spaceship8_color192 =	0
   2365  10000 ????		00 00	    sprite_spaceship8_color191 =	0
   2366  10000 ????		00 00	    sprite_spaceship8_color190 =	0
   2367  10000 ????		00 00	    sprite_spaceship8_color189 =	0
   2368  10000 ????		00 00	    sprite_spaceship8_color188 =	0
   2369  10000 ????		00 00	    sprite_spaceship8_color187 =	0
   2370  10000 ????		00 00	    sprite_spaceship8_color186 =	0
   2371  10000 ????		00 00	    sprite_spaceship8_color185 =	0
   2372  10000 ????		00 00	    sprite_spaceship8_color184 =	0
   2373  10000 ????		00 00	    sprite_spaceship8_color183 =	0
   2374  10000 ????		00 00	    sprite_spaceship8_color182 =	0
   2375  10000 ????		00 00	    sprite_spaceship8_color181 =	0
   2376  10000 ????		00 00	    sprite_spaceship8_color180 =	0
   2377  10000 ????		00 00	    sprite_spaceship8_color179 =	0
   2378  10000 ????		00 00	    sprite_spaceship8_color178 =	0
   2379  10000 ????		00 00	    sprite_spaceship8_color177 =	0
   2380  10000 ????		00 00	    sprite_spaceship8_color176 =	0
   2381  10000 ????		00 00	    sprite_spaceship8_color175 =	0
   2382  10000 ????		00 00	    sprite_spaceship8_color174 =	0
   2383  10000 ????		00 00	    sprite_spaceship8_color173 =	0
   2384  10000 ????		00 00	    sprite_spaceship8_color172 =	0
   2385  10000 ????		00 00	    sprite_spaceship8_color171 =	0
   2386  10000 ????		00 00	    sprite_spaceship8_color170 =	0
   2387  10000 ????		00 00	    sprite_spaceship8_color169 =	0
   2388  10000 ????		00 00	    sprite_spaceship8_color168 =	0
   2389  10000 ????		00 00	    sprite_spaceship8_color167 =	0
   2390  10000 ????		00 00	    sprite_spaceship8_color166 =	0
   2391  10000 ????		00 00	    sprite_spaceship8_color165 =	0
   2392  10000 ????		00 00	    sprite_spaceship8_color164 =	0
   2393  10000 ????		00 00	    sprite_spaceship8_color163 =	0
   2394  10000 ????		00 00	    sprite_spaceship8_color162 =	0
   2395  10000 ????		00 00	    sprite_spaceship8_color161 =	0
   2396  10000 ????		00 00	    sprite_spaceship8_color160 =	0
   2397  10000 ????		00 00	    sprite_spaceship8_color159 =	0
   2398  10000 ????		00 00	    sprite_spaceship8_color158 =	0
   2399  10000 ????		00 00	    sprite_spaceship8_color157 =	0
   2400  10000 ????		00 00	    sprite_spaceship8_color156 =	0
   2401  10000 ????		00 00	    sprite_spaceship8_color155 =	0
   2402  10000 ????		00 00	    sprite_spaceship8_color154 =	0
   2403  10000 ????		00 00	    sprite_spaceship8_color153 =	0
   2404  10000 ????		00 00	    sprite_spaceship8_color152 =	0
   2405  10000 ????		00 00	    sprite_spaceship8_color151 =	0
   2406  10000 ????		00 00	    sprite_spaceship8_color150 =	0
   2407  10000 ????		00 00	    sprite_spaceship8_color149 =	0
   2408  10000 ????		00 00	    sprite_spaceship8_color148 =	0
   2409  10000 ????		00 00	    sprite_spaceship8_color147 =	0
   2410  10000 ????		00 00	    sprite_spaceship8_color146 =	0
   2411  10000 ????		00 00	    sprite_spaceship8_color145 =	0
   2412  10000 ????		00 00	    sprite_spaceship8_color144 =	0
   2413  10000 ????		00 00	    sprite_spaceship8_color143 =	0
   2414  10000 ????		00 00	    sprite_spaceship8_color142 =	0
   2415  10000 ????		00 00	    sprite_spaceship8_color141 =	0
   2416  10000 ????		00 00	    sprite_spaceship8_color140 =	0
   2417  10000 ????		00 00	    sprite_spaceship8_color139 =	0
   2418  10000 ????		00 00	    sprite_spaceship8_color138 =	0
   2419  10000 ????		00 00	    sprite_spaceship8_color137 =	0
   2420  10000 ????		00 00	    sprite_spaceship8_color136 =	0
   2421  10000 ????		00 00	    sprite_spaceship8_color135 =	0
   2422  10000 ????		00 00	    sprite_spaceship8_color134 =	0
   2423  10000 ????		00 00	    sprite_spaceship8_color133 =	0
   2424  10000 ????		00 00	    sprite_spaceship8_color132 =	0
   2425  10000 ????		00 00	    sprite_spaceship8_color131 =	0
   2426  10000 ????		00 00	    sprite_spaceship8_color130 =	0
   2427  10000 ????		00 00	    sprite_spaceship8_color129 =	0
   2428  10000 ????		00 00	    sprite_spaceship8_color128 =	0
   2429  10000 ????		00 00	    sprite_spaceship8_color127 =	0
   2430  10000 ????		00 00	    sprite_spaceship8_color126 =	0
   2431  10000 ????		00 00	    sprite_spaceship8_color125 =	0
   2432  10000 ????		00 00	    sprite_spaceship8_color124 =	0
   2433  10000 ????		00 00	    sprite_spaceship8_color123 =	0
   2434  10000 ????		00 00	    sprite_spaceship8_color122 =	0
   2435  10000 ????		00 00	    sprite_spaceship8_color121 =	0
   2436  10000 ????		00 00	    sprite_spaceship8_color120 =	0
   2437  10000 ????		00 00	    sprite_spaceship8_color119 =	0
   2438  10000 ????		00 00	    sprite_spaceship8_color118 =	0
   2439  10000 ????		00 00	    sprite_spaceship8_color117 =	0
   2440  10000 ????		00 00	    sprite_spaceship8_color116 =	0
   2441  10000 ????		00 00	    sprite_spaceship8_color115 =	0
   2442  10000 ????		00 00	    sprite_spaceship8_color114 =	0
   2443  10000 ????		00 00	    sprite_spaceship8_color113 =	0
   2444  10000 ????		00 00	    sprite_spaceship8_color112 =	0
   2445  10000 ????		00 00	    sprite_spaceship8_color111 =	0
   2446  10000 ????		00 00	    sprite_spaceship8_color110 =	0
   2447  10000 ????		00 00	    sprite_spaceship8_color109 =	0
   2448  10000 ????		00 00	    sprite_spaceship8_color108 =	0
   2449  10000 ????		00 00	    sprite_spaceship8_color107 =	0
   2450  10000 ????		00 00	    sprite_spaceship8_color106 =	0
   2451  10000 ????		00 00	    sprite_spaceship8_color105 =	0
   2452  10000 ????		00 00	    sprite_spaceship8_color104 =	0
   2453  10000 ????		00 00	    sprite_spaceship8_color103 =	0
   2454  10000 ????		00 00	    sprite_spaceship8_color102 =	0
   2455  10000 ????		00 00	    sprite_spaceship8_color101 =	0
   2456  10000 ????		00 00	    sprite_spaceship8_color100 =	0
   2457  10000 ????		00 00	    sprite_spaceship8_color99 =	0
   2458  10000 ????		00 00	    sprite_spaceship8_color98 =	0
   2459  10000 ????		00 00	    sprite_spaceship8_color97 =	0
   2460  10000 ????		00 00	    sprite_spaceship8_color96 =	0
   2461  10000 ????		00 00	    sprite_spaceship8_color95 =	0
   2462  10000 ????		00 00	    sprite_spaceship8_color94 =	0
   2463  10000 ????		00 00	    sprite_spaceship8_color93 =	0
   2464  10000 ????		00 00	    sprite_spaceship8_color92 =	0
   2465  10000 ????		00 00	    sprite_spaceship8_color91 =	0
   2466  10000 ????		00 00	    sprite_spaceship8_color90 =	0
   2467  10000 ????		00 00	    sprite_spaceship8_color89 =	0
   2468  10000 ????		00 00	    sprite_spaceship8_color88 =	0
   2469  10000 ????		00 00	    sprite_spaceship8_color87 =	0
   2470  10000 ????		00 00	    sprite_spaceship8_color86 =	0
   2471  10000 ????		00 00	    sprite_spaceship8_color85 =	0
   2472  10000 ????		00 00	    sprite_spaceship8_color84 =	0
   2473  10000 ????		00 00	    sprite_spaceship8_color83 =	0
   2474  10000 ????		00 00	    sprite_spaceship8_color82 =	0
   2475  10000 ????		00 00	    sprite_spaceship8_color81 =	0
   2476  10000 ????		00 00	    sprite_spaceship8_color80 =	0
   2477  10000 ????		00 00	    sprite_spaceship8_color79 =	0
   2478  10000 ????		00 00	    sprite_spaceship8_color78 =	0
   2479  10000 ????		00 00	    sprite_spaceship8_color77 =	0
   2480  10000 ????		00 00	    sprite_spaceship8_color76 =	0
   2481  10000 ????		00 00	    sprite_spaceship8_color75 =	0
   2482  10000 ????		00 00	    sprite_spaceship8_color74 =	0
   2483  10000 ????		00 00	    sprite_spaceship8_color73 =	0
   2484  10000 ????		00 00	    sprite_spaceship8_color72 =	0
   2485  10000 ????		00 00	    sprite_spaceship8_color71 =	0
   2486  10000 ????		00 00	    sprite_spaceship8_color70 =	0
   2487  10000 ????		00 00	    sprite_spaceship8_color69 =	0
   2488  10000 ????		00 00	    sprite_spaceship8_color68 =	0
   2489  10000 ????		00 00	    sprite_spaceship8_color67 =	0
   2490  10000 ????		00 00	    sprite_spaceship8_color66 =	0
   2491  10000 ????		00 00	    sprite_spaceship8_color65 =	0
   2492  10000 ????		00 00	    sprite_spaceship8_color64 =	0
   2493  10000 ????		00 00	    sprite_spaceship8_color63 =	0
   2494  10000 ????		00 00	    sprite_spaceship8_color62 =	0
   2495  10000 ????		00 00	    sprite_spaceship8_color61 =	0
   2496  10000 ????		00 00	    sprite_spaceship8_color60 =	0
   2497  10000 ????		00 00	    sprite_spaceship8_color59 =	0
   2498  10000 ????		00 00	    sprite_spaceship8_color58 =	0
   2499  10000 ????		00 00	    sprite_spaceship8_color57 =	0
   2500  10000 ????		00 00	    sprite_spaceship8_color56 =	0
   2501  10000 ????		00 00	    sprite_spaceship8_color55 =	0
   2502  10000 ????		00 00	    sprite_spaceship8_color54 =	0
   2503  10000 ????		00 00	    sprite_spaceship8_color53 =	0
   2504  10000 ????		00 00	    sprite_spaceship8_color52 =	0
   2505  10000 ????		00 00	    sprite_spaceship8_color51 =	0
   2506  10000 ????		00 00	    sprite_spaceship8_color50 =	0
   2507  10000 ????		00 00	    sprite_spaceship8_color49 =	0
   2508  10000 ????		00 00	    sprite_spaceship8_color48 =	0
   2509  10000 ????		00 00	    sprite_spaceship8_color47 =	0
   2510  10000 ????		00 00	    sprite_spaceship8_color46 =	0
   2511  10000 ????		00 00	    sprite_spaceship8_color45 =	0
   2512  10000 ????		00 00	    sprite_spaceship8_color44 =	0
   2513  10000 ????		00 00	    sprite_spaceship8_color43 =	0
   2514  10000 ????		00 00	    sprite_spaceship8_color42 =	0
   2515  10000 ????		00 00	    sprite_spaceship8_color41 =	0
   2516  10000 ????		00 00	    sprite_spaceship8_color40 =	0
   2517  10000 ????		00 00	    sprite_spaceship8_color39 =	0
   2518  10000 ????		00 00	    sprite_spaceship8_color38 =	0
   2519  10000 ????		00 00	    sprite_spaceship8_color37 =	0
   2520  10000 ????		00 00	    sprite_spaceship8_color36 =	0
   2521  10000 ????		00 00	    sprite_spaceship8_color35 =	0
   2522  10000 ????		00 00	    sprite_spaceship8_color34 =	0
   2523  10000 ????		00 00	    sprite_spaceship8_color33 =	0
   2524  10000 ????		00 00	    sprite_spaceship8_color32 =	0
   2525  10000 ????		00 00	    sprite_spaceship8_color31 =	0
   2526  10000 ????		00 00	    sprite_spaceship8_color30 =	0
   2527  10000 ????		00 00	    sprite_spaceship8_color29 =	0
   2528  10000 ????		00 00	    sprite_spaceship8_color28 =	0
   2529  10000 ????		00 00	    sprite_spaceship8_color27 =	0
   2530  10000 ????		00 00	    sprite_spaceship8_color26 =	0
   2531  10000 ????		00 00	    sprite_spaceship8_color25 =	0
   2532  10000 ????		00 00	    sprite_spaceship8_color24 =	0
   2533  10000 ????		00 00	    sprite_spaceship8_color23 =	0
   2534  10000 ????		00 00	    sprite_spaceship8_color22 =	0
   2535  10000 ????		00 00	    sprite_spaceship8_color21 =	0
   2536  10000 ????		00 00	    sprite_spaceship8_color20 =	0
   2537  10000 ????		00 00	    sprite_spaceship8_color19 =	0
   2538  10000 ????		00 00	    sprite_spaceship8_color18 =	0
   2539  10000 ????		00 00	    sprite_spaceship8_color17 =	0
   2540  10000 ????		00 00	    sprite_spaceship8_color16 =	0
   2541  10000 ????		00 00	    sprite_spaceship8_color15 =	0
   2542  10000 ????		00 00	    sprite_spaceship8_color14 =	0
   2543  10000 ????		00 00	    sprite_spaceship8_color13 =	0
   2544  10000 ????		00 00	    sprite_spaceship8_color12 =	0
   2545  10000 ????		00 00	    sprite_spaceship8_color11 =	0
   2546  10000 ????		00 00	    sprite_spaceship8_color10 =	0
   2547  10000 ????		00 00	    sprite_spaceship8_color9 =	0
   2548  10000 ????		00 00	    sprite_spaceship8_color8 =	0
   2549  10000 ????		00 00	    sprite_spaceship8_color7 =	0
   2550  10000 ????		00 00	    sprite_spaceship8_color6 =	0
   2551  10000 ????		00 00	    sprite_spaceship8_color5 =	0
   2552  10000 ????		00 00	    sprite_spaceship8_color4 =	0
   2553  10000 ????		00 1e	    sprite_spaceship8_color3 =	$1e
   2554  10000 ????		00 81	    sprite_spaceship8_color2 =	$81
   2555  10000 ????		00 44	    sprite_spaceship8_color1 =	$44
   2556  10000 ????		00 00	    sprite_spaceship8_color0 =	$00
   2557  10000 ????		00 00	    sprite_spaceship7_color255 =	0
   2558  10000 ????		00 00	    sprite_spaceship7_color254 =	0
   2559  10000 ????		00 00	    sprite_spaceship7_color253 =	0
   2560  10000 ????		00 00	    sprite_spaceship7_color252 =	0
   2561  10000 ????		00 00	    sprite_spaceship7_color251 =	0
   2562  10000 ????		00 00	    sprite_spaceship7_color250 =	0
   2563  10000 ????		00 00	    sprite_spaceship7_color249 =	0
   2564  10000 ????		00 00	    sprite_spaceship7_color248 =	0
   2565  10000 ????		00 00	    sprite_spaceship7_color247 =	0
   2566  10000 ????		00 00	    sprite_spaceship7_color246 =	0
   2567  10000 ????		00 00	    sprite_spaceship7_color245 =	0
   2568  10000 ????		00 00	    sprite_spaceship7_color244 =	0
   2569  10000 ????		00 00	    sprite_spaceship7_color243 =	0
   2570  10000 ????		00 00	    sprite_spaceship7_color242 =	0
   2571  10000 ????		00 00	    sprite_spaceship7_color241 =	0
   2572  10000 ????		00 00	    sprite_spaceship7_color240 =	0
   2573  10000 ????		00 00	    sprite_spaceship7_color239 =	0
   2574  10000 ????		00 00	    sprite_spaceship7_color238 =	0
   2575  10000 ????		00 00	    sprite_spaceship7_color237 =	0
   2576  10000 ????		00 00	    sprite_spaceship7_color236 =	0
   2577  10000 ????		00 00	    sprite_spaceship7_color235 =	0
   2578  10000 ????		00 00	    sprite_spaceship7_color234 =	0
   2579  10000 ????		00 00	    sprite_spaceship7_color233 =	0
   2580  10000 ????		00 00	    sprite_spaceship7_color232 =	0
   2581  10000 ????		00 00	    sprite_spaceship7_color231 =	0
   2582  10000 ????		00 00	    sprite_spaceship7_color230 =	0
   2583  10000 ????		00 00	    sprite_spaceship7_color229 =	0
   2584  10000 ????		00 00	    sprite_spaceship7_color228 =	0
   2585  10000 ????		00 00	    sprite_spaceship7_color227 =	0
   2586  10000 ????		00 00	    sprite_spaceship7_color226 =	0
   2587  10000 ????		00 00	    sprite_spaceship7_color225 =	0
   2588  10000 ????		00 00	    sprite_spaceship7_color224 =	0
   2589  10000 ????		00 00	    sprite_spaceship7_color223 =	0
   2590  10000 ????		00 00	    sprite_spaceship7_color222 =	0
   2591  10000 ????		00 00	    sprite_spaceship7_color221 =	0
   2592  10000 ????		00 00	    sprite_spaceship7_color220 =	0
   2593  10000 ????		00 00	    sprite_spaceship7_color219 =	0
   2594  10000 ????		00 00	    sprite_spaceship7_color218 =	0
   2595  10000 ????		00 00	    sprite_spaceship7_color217 =	0
   2596  10000 ????		00 00	    sprite_spaceship7_color216 =	0
   2597  10000 ????		00 00	    sprite_spaceship7_color215 =	0
   2598  10000 ????		00 00	    sprite_spaceship7_color214 =	0
   2599  10000 ????		00 00	    sprite_spaceship7_color213 =	0
   2600  10000 ????		00 00	    sprite_spaceship7_color212 =	0
   2601  10000 ????		00 00	    sprite_spaceship7_color211 =	0
   2602  10000 ????		00 00	    sprite_spaceship7_color210 =	0
   2603  10000 ????		00 00	    sprite_spaceship7_color209 =	0
   2604  10000 ????		00 00	    sprite_spaceship7_color208 =	0
   2605  10000 ????		00 00	    sprite_spaceship7_color207 =	0
   2606  10000 ????		00 00	    sprite_spaceship7_color206 =	0
   2607  10000 ????		00 00	    sprite_spaceship7_color205 =	0
   2608  10000 ????		00 00	    sprite_spaceship7_color204 =	0
   2609  10000 ????		00 00	    sprite_spaceship7_color203 =	0
   2610  10000 ????		00 00	    sprite_spaceship7_color202 =	0
   2611  10000 ????		00 00	    sprite_spaceship7_color201 =	0
   2612  10000 ????		00 00	    sprite_spaceship7_color200 =	0
   2613  10000 ????		00 00	    sprite_spaceship7_color199 =	0
   2614  10000 ????		00 00	    sprite_spaceship7_color198 =	0
   2615  10000 ????		00 00	    sprite_spaceship7_color197 =	0
   2616  10000 ????		00 00	    sprite_spaceship7_color196 =	0
   2617  10000 ????		00 00	    sprite_spaceship7_color195 =	0
   2618  10000 ????		00 00	    sprite_spaceship7_color194 =	0
   2619  10000 ????		00 00	    sprite_spaceship7_color193 =	0
   2620  10000 ????		00 00	    sprite_spaceship7_color192 =	0
   2621  10000 ????		00 00	    sprite_spaceship7_color191 =	0
   2622  10000 ????		00 00	    sprite_spaceship7_color190 =	0
   2623  10000 ????		00 00	    sprite_spaceship7_color189 =	0
   2624  10000 ????		00 00	    sprite_spaceship7_color188 =	0
   2625  10000 ????		00 00	    sprite_spaceship7_color187 =	0
   2626  10000 ????		00 00	    sprite_spaceship7_color186 =	0
   2627  10000 ????		00 00	    sprite_spaceship7_color185 =	0
   2628  10000 ????		00 00	    sprite_spaceship7_color184 =	0
   2629  10000 ????		00 00	    sprite_spaceship7_color183 =	0
   2630  10000 ????		00 00	    sprite_spaceship7_color182 =	0
   2631  10000 ????		00 00	    sprite_spaceship7_color181 =	0
   2632  10000 ????		00 00	    sprite_spaceship7_color180 =	0
   2633  10000 ????		00 00	    sprite_spaceship7_color179 =	0
   2634  10000 ????		00 00	    sprite_spaceship7_color178 =	0
   2635  10000 ????		00 00	    sprite_spaceship7_color177 =	0
   2636  10000 ????		00 00	    sprite_spaceship7_color176 =	0
   2637  10000 ????		00 00	    sprite_spaceship7_color175 =	0
   2638  10000 ????		00 00	    sprite_spaceship7_color174 =	0
   2639  10000 ????		00 00	    sprite_spaceship7_color173 =	0
   2640  10000 ????		00 00	    sprite_spaceship7_color172 =	0
   2641  10000 ????		00 00	    sprite_spaceship7_color171 =	0
   2642  10000 ????		00 00	    sprite_spaceship7_color170 =	0
   2643  10000 ????		00 00	    sprite_spaceship7_color169 =	0
   2644  10000 ????		00 00	    sprite_spaceship7_color168 =	0
   2645  10000 ????		00 00	    sprite_spaceship7_color167 =	0
   2646  10000 ????		00 00	    sprite_spaceship7_color166 =	0
   2647  10000 ????		00 00	    sprite_spaceship7_color165 =	0
   2648  10000 ????		00 00	    sprite_spaceship7_color164 =	0
   2649  10000 ????		00 00	    sprite_spaceship7_color163 =	0
   2650  10000 ????		00 00	    sprite_spaceship7_color162 =	0
   2651  10000 ????		00 00	    sprite_spaceship7_color161 =	0
   2652  10000 ????		00 00	    sprite_spaceship7_color160 =	0
   2653  10000 ????		00 00	    sprite_spaceship7_color159 =	0
   2654  10000 ????		00 00	    sprite_spaceship7_color158 =	0
   2655  10000 ????		00 00	    sprite_spaceship7_color157 =	0
   2656  10000 ????		00 00	    sprite_spaceship7_color156 =	0
   2657  10000 ????		00 00	    sprite_spaceship7_color155 =	0
   2658  10000 ????		00 00	    sprite_spaceship7_color154 =	0
   2659  10000 ????		00 00	    sprite_spaceship7_color153 =	0
   2660  10000 ????		00 00	    sprite_spaceship7_color152 =	0
   2661  10000 ????		00 00	    sprite_spaceship7_color151 =	0
   2662  10000 ????		00 00	    sprite_spaceship7_color150 =	0
   2663  10000 ????		00 00	    sprite_spaceship7_color149 =	0
   2664  10000 ????		00 00	    sprite_spaceship7_color148 =	0
   2665  10000 ????		00 00	    sprite_spaceship7_color147 =	0
   2666  10000 ????		00 00	    sprite_spaceship7_color146 =	0
   2667  10000 ????		00 00	    sprite_spaceship7_color145 =	0
   2668  10000 ????		00 00	    sprite_spaceship7_color144 =	0
   2669  10000 ????		00 00	    sprite_spaceship7_color143 =	0
   2670  10000 ????		00 00	    sprite_spaceship7_color142 =	0
   2671  10000 ????		00 00	    sprite_spaceship7_color141 =	0
   2672  10000 ????		00 00	    sprite_spaceship7_color140 =	0
   2673  10000 ????		00 00	    sprite_spaceship7_color139 =	0
   2674  10000 ????		00 00	    sprite_spaceship7_color138 =	0
   2675  10000 ????		00 00	    sprite_spaceship7_color137 =	0
   2676  10000 ????		00 00	    sprite_spaceship7_color136 =	0
   2677  10000 ????		00 00	    sprite_spaceship7_color135 =	0
   2678  10000 ????		00 00	    sprite_spaceship7_color134 =	0
   2679  10000 ????		00 00	    sprite_spaceship7_color133 =	0
   2680  10000 ????		00 00	    sprite_spaceship7_color132 =	0
   2681  10000 ????		00 00	    sprite_spaceship7_color131 =	0
   2682  10000 ????		00 00	    sprite_spaceship7_color130 =	0
   2683  10000 ????		00 00	    sprite_spaceship7_color129 =	0
   2684  10000 ????		00 00	    sprite_spaceship7_color128 =	0
   2685  10000 ????		00 00	    sprite_spaceship7_color127 =	0
   2686  10000 ????		00 00	    sprite_spaceship7_color126 =	0
   2687  10000 ????		00 00	    sprite_spaceship7_color125 =	0
   2688  10000 ????		00 00	    sprite_spaceship7_color124 =	0
   2689  10000 ????		00 00	    sprite_spaceship7_color123 =	0
   2690  10000 ????		00 00	    sprite_spaceship7_color122 =	0
   2691  10000 ????		00 00	    sprite_spaceship7_color121 =	0
   2692  10000 ????		00 00	    sprite_spaceship7_color120 =	0
   2693  10000 ????		00 00	    sprite_spaceship7_color119 =	0
   2694  10000 ????		00 00	    sprite_spaceship7_color118 =	0
   2695  10000 ????		00 00	    sprite_spaceship7_color117 =	0
   2696  10000 ????		00 00	    sprite_spaceship7_color116 =	0
   2697  10000 ????		00 00	    sprite_spaceship7_color115 =	0
   2698  10000 ????		00 00	    sprite_spaceship7_color114 =	0
   2699  10000 ????		00 00	    sprite_spaceship7_color113 =	0
   2700  10000 ????		00 00	    sprite_spaceship7_color112 =	0
   2701  10000 ????		00 00	    sprite_spaceship7_color111 =	0
   2702  10000 ????		00 00	    sprite_spaceship7_color110 =	0
   2703  10000 ????		00 00	    sprite_spaceship7_color109 =	0
   2704  10000 ????		00 00	    sprite_spaceship7_color108 =	0
   2705  10000 ????		00 00	    sprite_spaceship7_color107 =	0
   2706  10000 ????		00 00	    sprite_spaceship7_color106 =	0
   2707  10000 ????		00 00	    sprite_spaceship7_color105 =	0
   2708  10000 ????		00 00	    sprite_spaceship7_color104 =	0
   2709  10000 ????		00 00	    sprite_spaceship7_color103 =	0
   2710  10000 ????		00 00	    sprite_spaceship7_color102 =	0
   2711  10000 ????		00 00	    sprite_spaceship7_color101 =	0
   2712  10000 ????		00 00	    sprite_spaceship7_color100 =	0
   2713  10000 ????		00 00	    sprite_spaceship7_color99 =	0
   2714  10000 ????		00 00	    sprite_spaceship7_color98 =	0
   2715  10000 ????		00 00	    sprite_spaceship7_color97 =	0
   2716  10000 ????		00 00	    sprite_spaceship7_color96 =	0
   2717  10000 ????		00 00	    sprite_spaceship7_color95 =	0
   2718  10000 ????		00 00	    sprite_spaceship7_color94 =	0
   2719  10000 ????		00 00	    sprite_spaceship7_color93 =	0
   2720  10000 ????		00 00	    sprite_spaceship7_color92 =	0
   2721  10000 ????		00 00	    sprite_spaceship7_color91 =	0
   2722  10000 ????		00 00	    sprite_spaceship7_color90 =	0
   2723  10000 ????		00 00	    sprite_spaceship7_color89 =	0
   2724  10000 ????		00 00	    sprite_spaceship7_color88 =	0
   2725  10000 ????		00 00	    sprite_spaceship7_color87 =	0
   2726  10000 ????		00 00	    sprite_spaceship7_color86 =	0
   2727  10000 ????		00 00	    sprite_spaceship7_color85 =	0
   2728  10000 ????		00 00	    sprite_spaceship7_color84 =	0
   2729  10000 ????		00 00	    sprite_spaceship7_color83 =	0
   2730  10000 ????		00 00	    sprite_spaceship7_color82 =	0
   2731  10000 ????		00 00	    sprite_spaceship7_color81 =	0
   2732  10000 ????		00 00	    sprite_spaceship7_color80 =	0
   2733  10000 ????		00 00	    sprite_spaceship7_color79 =	0
   2734  10000 ????		00 00	    sprite_spaceship7_color78 =	0
   2735  10000 ????		00 00	    sprite_spaceship7_color77 =	0
   2736  10000 ????		00 00	    sprite_spaceship7_color76 =	0
   2737  10000 ????		00 00	    sprite_spaceship7_color75 =	0
   2738  10000 ????		00 00	    sprite_spaceship7_color74 =	0
   2739  10000 ????		00 00	    sprite_spaceship7_color73 =	0
   2740  10000 ????		00 00	    sprite_spaceship7_color72 =	0
   2741  10000 ????		00 00	    sprite_spaceship7_color71 =	0
   2742  10000 ????		00 00	    sprite_spaceship7_color70 =	0
   2743  10000 ????		00 00	    sprite_spaceship7_color69 =	0
   2744  10000 ????		00 00	    sprite_spaceship7_color68 =	0
   2745  10000 ????		00 00	    sprite_spaceship7_color67 =	0
   2746  10000 ????		00 00	    sprite_spaceship7_color66 =	0
   2747  10000 ????		00 00	    sprite_spaceship7_color65 =	0
   2748  10000 ????		00 00	    sprite_spaceship7_color64 =	0
   2749  10000 ????		00 00	    sprite_spaceship7_color63 =	0
   2750  10000 ????		00 00	    sprite_spaceship7_color62 =	0
   2751  10000 ????		00 00	    sprite_spaceship7_color61 =	0
   2752  10000 ????		00 00	    sprite_spaceship7_color60 =	0
   2753  10000 ????		00 00	    sprite_spaceship7_color59 =	0
   2754  10000 ????		00 00	    sprite_spaceship7_color58 =	0
   2755  10000 ????		00 00	    sprite_spaceship7_color57 =	0
   2756  10000 ????		00 00	    sprite_spaceship7_color56 =	0
   2757  10000 ????		00 00	    sprite_spaceship7_color55 =	0
   2758  10000 ????		00 00	    sprite_spaceship7_color54 =	0
   2759  10000 ????		00 00	    sprite_spaceship7_color53 =	0
   2760  10000 ????		00 00	    sprite_spaceship7_color52 =	0
   2761  10000 ????		00 00	    sprite_spaceship7_color51 =	0
   2762  10000 ????		00 00	    sprite_spaceship7_color50 =	0
   2763  10000 ????		00 00	    sprite_spaceship7_color49 =	0
   2764  10000 ????		00 00	    sprite_spaceship7_color48 =	0
   2765  10000 ????		00 00	    sprite_spaceship7_color47 =	0
   2766  10000 ????		00 00	    sprite_spaceship7_color46 =	0
   2767  10000 ????		00 00	    sprite_spaceship7_color45 =	0
   2768  10000 ????		00 00	    sprite_spaceship7_color44 =	0
   2769  10000 ????		00 00	    sprite_spaceship7_color43 =	0
   2770  10000 ????		00 00	    sprite_spaceship7_color42 =	0
   2771  10000 ????		00 00	    sprite_spaceship7_color41 =	0
   2772  10000 ????		00 00	    sprite_spaceship7_color40 =	0
   2773  10000 ????		00 00	    sprite_spaceship7_color39 =	0
   2774  10000 ????		00 00	    sprite_spaceship7_color38 =	0
   2775  10000 ????		00 00	    sprite_spaceship7_color37 =	0
   2776  10000 ????		00 00	    sprite_spaceship7_color36 =	0
   2777  10000 ????		00 00	    sprite_spaceship7_color35 =	0
   2778  10000 ????		00 00	    sprite_spaceship7_color34 =	0
   2779  10000 ????		00 00	    sprite_spaceship7_color33 =	0
   2780  10000 ????		00 00	    sprite_spaceship7_color32 =	0
   2781  10000 ????		00 00	    sprite_spaceship7_color31 =	0
   2782  10000 ????		00 00	    sprite_spaceship7_color30 =	0
   2783  10000 ????		00 00	    sprite_spaceship7_color29 =	0
   2784  10000 ????		00 00	    sprite_spaceship7_color28 =	0
   2785  10000 ????		00 00	    sprite_spaceship7_color27 =	0
   2786  10000 ????		00 00	    sprite_spaceship7_color26 =	0
   2787  10000 ????		00 00	    sprite_spaceship7_color25 =	0
   2788  10000 ????		00 00	    sprite_spaceship7_color24 =	0
   2789  10000 ????		00 00	    sprite_spaceship7_color23 =	0
   2790  10000 ????		00 00	    sprite_spaceship7_color22 =	0
   2791  10000 ????		00 00	    sprite_spaceship7_color21 =	0
   2792  10000 ????		00 00	    sprite_spaceship7_color20 =	0
   2793  10000 ????		00 00	    sprite_spaceship7_color19 =	0
   2794  10000 ????		00 00	    sprite_spaceship7_color18 =	0
   2795  10000 ????		00 00	    sprite_spaceship7_color17 =	0
   2796  10000 ????		00 00	    sprite_spaceship7_color16 =	0
   2797  10000 ????		00 00	    sprite_spaceship7_color15 =	0
   2798  10000 ????		00 00	    sprite_spaceship7_color14 =	0
   2799  10000 ????		00 00	    sprite_spaceship7_color13 =	0
   2800  10000 ????		00 00	    sprite_spaceship7_color12 =	0
   2801  10000 ????		00 00	    sprite_spaceship7_color11 =	0
   2802  10000 ????		00 00	    sprite_spaceship7_color10 =	0
   2803  10000 ????		00 00	    sprite_spaceship7_color9 =	0
   2804  10000 ????		00 00	    sprite_spaceship7_color8 =	0
   2805  10000 ????		00 00	    sprite_spaceship7_color7 =	0
   2806  10000 ????		00 00	    sprite_spaceship7_color6 =	0
   2807  10000 ????		00 00	    sprite_spaceship7_color5 =	0
   2808  10000 ????		00 00	    sprite_spaceship7_color4 =	0
   2809  10000 ????		00 1e	    sprite_spaceship7_color3 =	$1e
   2810  10000 ????		00 81	    sprite_spaceship7_color2 =	$81
   2811  10000 ????		00 44	    sprite_spaceship7_color1 =	$44
   2812  10000 ????		00 00	    sprite_spaceship7_color0 =	$00
   2813  10000 ????		00 00	    sprite_spaceship6_color255 =	0
   2814  10000 ????		00 00	    sprite_spaceship6_color254 =	0
   2815  10000 ????		00 00	    sprite_spaceship6_color253 =	0
   2816  10000 ????		00 00	    sprite_spaceship6_color252 =	0
   2817  10000 ????		00 00	    sprite_spaceship6_color251 =	0
   2818  10000 ????		00 00	    sprite_spaceship6_color250 =	0
   2819  10000 ????		00 00	    sprite_spaceship6_color249 =	0
   2820  10000 ????		00 00	    sprite_spaceship6_color248 =	0
   2821  10000 ????		00 00	    sprite_spaceship6_color247 =	0
   2822  10000 ????		00 00	    sprite_spaceship6_color246 =	0
   2823  10000 ????		00 00	    sprite_spaceship6_color245 =	0
   2824  10000 ????		00 00	    sprite_spaceship6_color244 =	0
   2825  10000 ????		00 00	    sprite_spaceship6_color243 =	0
   2826  10000 ????		00 00	    sprite_spaceship6_color242 =	0
   2827  10000 ????		00 00	    sprite_spaceship6_color241 =	0
   2828  10000 ????		00 00	    sprite_spaceship6_color240 =	0
   2829  10000 ????		00 00	    sprite_spaceship6_color239 =	0
   2830  10000 ????		00 00	    sprite_spaceship6_color238 =	0
   2831  10000 ????		00 00	    sprite_spaceship6_color237 =	0
   2832  10000 ????		00 00	    sprite_spaceship6_color236 =	0
   2833  10000 ????		00 00	    sprite_spaceship6_color235 =	0
   2834  10000 ????		00 00	    sprite_spaceship6_color234 =	0
   2835  10000 ????		00 00	    sprite_spaceship6_color233 =	0
   2836  10000 ????		00 00	    sprite_spaceship6_color232 =	0
   2837  10000 ????		00 00	    sprite_spaceship6_color231 =	0
   2838  10000 ????		00 00	    sprite_spaceship6_color230 =	0
   2839  10000 ????		00 00	    sprite_spaceship6_color229 =	0
   2840  10000 ????		00 00	    sprite_spaceship6_color228 =	0
   2841  10000 ????		00 00	    sprite_spaceship6_color227 =	0
   2842  10000 ????		00 00	    sprite_spaceship6_color226 =	0
   2843  10000 ????		00 00	    sprite_spaceship6_color225 =	0
   2844  10000 ????		00 00	    sprite_spaceship6_color224 =	0
   2845  10000 ????		00 00	    sprite_spaceship6_color223 =	0
   2846  10000 ????		00 00	    sprite_spaceship6_color222 =	0
   2847  10000 ????		00 00	    sprite_spaceship6_color221 =	0
   2848  10000 ????		00 00	    sprite_spaceship6_color220 =	0
   2849  10000 ????		00 00	    sprite_spaceship6_color219 =	0
   2850  10000 ????		00 00	    sprite_spaceship6_color218 =	0
   2851  10000 ????		00 00	    sprite_spaceship6_color217 =	0
   2852  10000 ????		00 00	    sprite_spaceship6_color216 =	0
   2853  10000 ????		00 00	    sprite_spaceship6_color215 =	0
   2854  10000 ????		00 00	    sprite_spaceship6_color214 =	0
   2855  10000 ????		00 00	    sprite_spaceship6_color213 =	0
   2856  10000 ????		00 00	    sprite_spaceship6_color212 =	0
   2857  10000 ????		00 00	    sprite_spaceship6_color211 =	0
   2858  10000 ????		00 00	    sprite_spaceship6_color210 =	0
   2859  10000 ????		00 00	    sprite_spaceship6_color209 =	0
   2860  10000 ????		00 00	    sprite_spaceship6_color208 =	0
   2861  10000 ????		00 00	    sprite_spaceship6_color207 =	0
   2862  10000 ????		00 00	    sprite_spaceship6_color206 =	0
   2863  10000 ????		00 00	    sprite_spaceship6_color205 =	0
   2864  10000 ????		00 00	    sprite_spaceship6_color204 =	0
   2865  10000 ????		00 00	    sprite_spaceship6_color203 =	0
   2866  10000 ????		00 00	    sprite_spaceship6_color202 =	0
   2867  10000 ????		00 00	    sprite_spaceship6_color201 =	0
   2868  10000 ????		00 00	    sprite_spaceship6_color200 =	0
   2869  10000 ????		00 00	    sprite_spaceship6_color199 =	0
   2870  10000 ????		00 00	    sprite_spaceship6_color198 =	0
   2871  10000 ????		00 00	    sprite_spaceship6_color197 =	0
   2872  10000 ????		00 00	    sprite_spaceship6_color196 =	0
   2873  10000 ????		00 00	    sprite_spaceship6_color195 =	0
   2874  10000 ????		00 00	    sprite_spaceship6_color194 =	0
   2875  10000 ????		00 00	    sprite_spaceship6_color193 =	0
   2876  10000 ????		00 00	    sprite_spaceship6_color192 =	0
   2877  10000 ????		00 00	    sprite_spaceship6_color191 =	0
   2878  10000 ????		00 00	    sprite_spaceship6_color190 =	0
   2879  10000 ????		00 00	    sprite_spaceship6_color189 =	0
   2880  10000 ????		00 00	    sprite_spaceship6_color188 =	0
   2881  10000 ????		00 00	    sprite_spaceship6_color187 =	0
   2882  10000 ????		00 00	    sprite_spaceship6_color186 =	0
   2883  10000 ????		00 00	    sprite_spaceship6_color185 =	0
   2884  10000 ????		00 00	    sprite_spaceship6_color184 =	0
   2885  10000 ????		00 00	    sprite_spaceship6_color183 =	0
   2886  10000 ????		00 00	    sprite_spaceship6_color182 =	0
   2887  10000 ????		00 00	    sprite_spaceship6_color181 =	0
   2888  10000 ????		00 00	    sprite_spaceship6_color180 =	0
   2889  10000 ????		00 00	    sprite_spaceship6_color179 =	0
   2890  10000 ????		00 00	    sprite_spaceship6_color178 =	0
   2891  10000 ????		00 00	    sprite_spaceship6_color177 =	0
   2892  10000 ????		00 00	    sprite_spaceship6_color176 =	0
   2893  10000 ????		00 00	    sprite_spaceship6_color175 =	0
   2894  10000 ????		00 00	    sprite_spaceship6_color174 =	0
   2895  10000 ????		00 00	    sprite_spaceship6_color173 =	0
   2896  10000 ????		00 00	    sprite_spaceship6_color172 =	0
   2897  10000 ????		00 00	    sprite_spaceship6_color171 =	0
   2898  10000 ????		00 00	    sprite_spaceship6_color170 =	0
   2899  10000 ????		00 00	    sprite_spaceship6_color169 =	0
   2900  10000 ????		00 00	    sprite_spaceship6_color168 =	0
   2901  10000 ????		00 00	    sprite_spaceship6_color167 =	0
   2902  10000 ????		00 00	    sprite_spaceship6_color166 =	0
   2903  10000 ????		00 00	    sprite_spaceship6_color165 =	0
   2904  10000 ????		00 00	    sprite_spaceship6_color164 =	0
   2905  10000 ????		00 00	    sprite_spaceship6_color163 =	0
   2906  10000 ????		00 00	    sprite_spaceship6_color162 =	0
   2907  10000 ????		00 00	    sprite_spaceship6_color161 =	0
   2908  10000 ????		00 00	    sprite_spaceship6_color160 =	0
   2909  10000 ????		00 00	    sprite_spaceship6_color159 =	0
   2910  10000 ????		00 00	    sprite_spaceship6_color158 =	0
   2911  10000 ????		00 00	    sprite_spaceship6_color157 =	0
   2912  10000 ????		00 00	    sprite_spaceship6_color156 =	0
   2913  10000 ????		00 00	    sprite_spaceship6_color155 =	0
   2914  10000 ????		00 00	    sprite_spaceship6_color154 =	0
   2915  10000 ????		00 00	    sprite_spaceship6_color153 =	0
   2916  10000 ????		00 00	    sprite_spaceship6_color152 =	0
   2917  10000 ????		00 00	    sprite_spaceship6_color151 =	0
   2918  10000 ????		00 00	    sprite_spaceship6_color150 =	0
   2919  10000 ????		00 00	    sprite_spaceship6_color149 =	0
   2920  10000 ????		00 00	    sprite_spaceship6_color148 =	0
   2921  10000 ????		00 00	    sprite_spaceship6_color147 =	0
   2922  10000 ????		00 00	    sprite_spaceship6_color146 =	0
   2923  10000 ????		00 00	    sprite_spaceship6_color145 =	0
   2924  10000 ????		00 00	    sprite_spaceship6_color144 =	0
   2925  10000 ????		00 00	    sprite_spaceship6_color143 =	0
   2926  10000 ????		00 00	    sprite_spaceship6_color142 =	0
   2927  10000 ????		00 00	    sprite_spaceship6_color141 =	0
   2928  10000 ????		00 00	    sprite_spaceship6_color140 =	0
   2929  10000 ????		00 00	    sprite_spaceship6_color139 =	0
   2930  10000 ????		00 00	    sprite_spaceship6_color138 =	0
   2931  10000 ????		00 00	    sprite_spaceship6_color137 =	0
   2932  10000 ????		00 00	    sprite_spaceship6_color136 =	0
   2933  10000 ????		00 00	    sprite_spaceship6_color135 =	0
   2934  10000 ????		00 00	    sprite_spaceship6_color134 =	0
   2935  10000 ????		00 00	    sprite_spaceship6_color133 =	0
   2936  10000 ????		00 00	    sprite_spaceship6_color132 =	0
   2937  10000 ????		00 00	    sprite_spaceship6_color131 =	0
   2938  10000 ????		00 00	    sprite_spaceship6_color130 =	0
   2939  10000 ????		00 00	    sprite_spaceship6_color129 =	0
   2940  10000 ????		00 00	    sprite_spaceship6_color128 =	0
   2941  10000 ????		00 00	    sprite_spaceship6_color127 =	0
   2942  10000 ????		00 00	    sprite_spaceship6_color126 =	0
   2943  10000 ????		00 00	    sprite_spaceship6_color125 =	0
   2944  10000 ????		00 00	    sprite_spaceship6_color124 =	0
   2945  10000 ????		00 00	    sprite_spaceship6_color123 =	0
   2946  10000 ????		00 00	    sprite_spaceship6_color122 =	0
   2947  10000 ????		00 00	    sprite_spaceship6_color121 =	0
   2948  10000 ????		00 00	    sprite_spaceship6_color120 =	0
   2949  10000 ????		00 00	    sprite_spaceship6_color119 =	0
   2950  10000 ????		00 00	    sprite_spaceship6_color118 =	0
   2951  10000 ????		00 00	    sprite_spaceship6_color117 =	0
   2952  10000 ????		00 00	    sprite_spaceship6_color116 =	0
   2953  10000 ????		00 00	    sprite_spaceship6_color115 =	0
   2954  10000 ????		00 00	    sprite_spaceship6_color114 =	0
   2955  10000 ????		00 00	    sprite_spaceship6_color113 =	0
   2956  10000 ????		00 00	    sprite_spaceship6_color112 =	0
   2957  10000 ????		00 00	    sprite_spaceship6_color111 =	0
   2958  10000 ????		00 00	    sprite_spaceship6_color110 =	0
   2959  10000 ????		00 00	    sprite_spaceship6_color109 =	0
   2960  10000 ????		00 00	    sprite_spaceship6_color108 =	0
   2961  10000 ????		00 00	    sprite_spaceship6_color107 =	0
   2962  10000 ????		00 00	    sprite_spaceship6_color106 =	0
   2963  10000 ????		00 00	    sprite_spaceship6_color105 =	0
   2964  10000 ????		00 00	    sprite_spaceship6_color104 =	0
   2965  10000 ????		00 00	    sprite_spaceship6_color103 =	0
   2966  10000 ????		00 00	    sprite_spaceship6_color102 =	0
   2967  10000 ????		00 00	    sprite_spaceship6_color101 =	0
   2968  10000 ????		00 00	    sprite_spaceship6_color100 =	0
   2969  10000 ????		00 00	    sprite_spaceship6_color99 =	0
   2970  10000 ????		00 00	    sprite_spaceship6_color98 =	0
   2971  10000 ????		00 00	    sprite_spaceship6_color97 =	0
   2972  10000 ????		00 00	    sprite_spaceship6_color96 =	0
   2973  10000 ????		00 00	    sprite_spaceship6_color95 =	0
   2974  10000 ????		00 00	    sprite_spaceship6_color94 =	0
   2975  10000 ????		00 00	    sprite_spaceship6_color93 =	0
   2976  10000 ????		00 00	    sprite_spaceship6_color92 =	0
   2977  10000 ????		00 00	    sprite_spaceship6_color91 =	0
   2978  10000 ????		00 00	    sprite_spaceship6_color90 =	0
   2979  10000 ????		00 00	    sprite_spaceship6_color89 =	0
   2980  10000 ????		00 00	    sprite_spaceship6_color88 =	0
   2981  10000 ????		00 00	    sprite_spaceship6_color87 =	0
   2982  10000 ????		00 00	    sprite_spaceship6_color86 =	0
   2983  10000 ????		00 00	    sprite_spaceship6_color85 =	0
   2984  10000 ????		00 00	    sprite_spaceship6_color84 =	0
   2985  10000 ????		00 00	    sprite_spaceship6_color83 =	0
   2986  10000 ????		00 00	    sprite_spaceship6_color82 =	0
   2987  10000 ????		00 00	    sprite_spaceship6_color81 =	0
   2988  10000 ????		00 00	    sprite_spaceship6_color80 =	0
   2989  10000 ????		00 00	    sprite_spaceship6_color79 =	0
   2990  10000 ????		00 00	    sprite_spaceship6_color78 =	0
   2991  10000 ????		00 00	    sprite_spaceship6_color77 =	0
   2992  10000 ????		00 00	    sprite_spaceship6_color76 =	0
   2993  10000 ????		00 00	    sprite_spaceship6_color75 =	0
   2994  10000 ????		00 00	    sprite_spaceship6_color74 =	0
   2995  10000 ????		00 00	    sprite_spaceship6_color73 =	0
   2996  10000 ????		00 00	    sprite_spaceship6_color72 =	0
   2997  10000 ????		00 00	    sprite_spaceship6_color71 =	0
   2998  10000 ????		00 00	    sprite_spaceship6_color70 =	0
   2999  10000 ????		00 00	    sprite_spaceship6_color69 =	0
   3000  10000 ????		00 00	    sprite_spaceship6_color68 =	0
   3001  10000 ????		00 00	    sprite_spaceship6_color67 =	0
   3002  10000 ????		00 00	    sprite_spaceship6_color66 =	0
   3003  10000 ????		00 00	    sprite_spaceship6_color65 =	0
   3004  10000 ????		00 00	    sprite_spaceship6_color64 =	0
   3005  10000 ????		00 00	    sprite_spaceship6_color63 =	0
   3006  10000 ????		00 00	    sprite_spaceship6_color62 =	0
   3007  10000 ????		00 00	    sprite_spaceship6_color61 =	0
   3008  10000 ????		00 00	    sprite_spaceship6_color60 =	0
   3009  10000 ????		00 00	    sprite_spaceship6_color59 =	0
   3010  10000 ????		00 00	    sprite_spaceship6_color58 =	0
   3011  10000 ????		00 00	    sprite_spaceship6_color57 =	0
   3012  10000 ????		00 00	    sprite_spaceship6_color56 =	0
   3013  10000 ????		00 00	    sprite_spaceship6_color55 =	0
   3014  10000 ????		00 00	    sprite_spaceship6_color54 =	0
   3015  10000 ????		00 00	    sprite_spaceship6_color53 =	0
   3016  10000 ????		00 00	    sprite_spaceship6_color52 =	0
   3017  10000 ????		00 00	    sprite_spaceship6_color51 =	0
   3018  10000 ????		00 00	    sprite_spaceship6_color50 =	0
   3019  10000 ????		00 00	    sprite_spaceship6_color49 =	0
   3020  10000 ????		00 00	    sprite_spaceship6_color48 =	0
   3021  10000 ????		00 00	    sprite_spaceship6_color47 =	0
   3022  10000 ????		00 00	    sprite_spaceship6_color46 =	0
   3023  10000 ????		00 00	    sprite_spaceship6_color45 =	0
   3024  10000 ????		00 00	    sprite_spaceship6_color44 =	0
   3025  10000 ????		00 00	    sprite_spaceship6_color43 =	0
   3026  10000 ????		00 00	    sprite_spaceship6_color42 =	0
   3027  10000 ????		00 00	    sprite_spaceship6_color41 =	0
   3028  10000 ????		00 00	    sprite_spaceship6_color40 =	0
   3029  10000 ????		00 00	    sprite_spaceship6_color39 =	0
   3030  10000 ????		00 00	    sprite_spaceship6_color38 =	0
   3031  10000 ????		00 00	    sprite_spaceship6_color37 =	0
   3032  10000 ????		00 00	    sprite_spaceship6_color36 =	0
   3033  10000 ????		00 00	    sprite_spaceship6_color35 =	0
   3034  10000 ????		00 00	    sprite_spaceship6_color34 =	0
   3035  10000 ????		00 00	    sprite_spaceship6_color33 =	0
   3036  10000 ????		00 00	    sprite_spaceship6_color32 =	0
   3037  10000 ????		00 00	    sprite_spaceship6_color31 =	0
   3038  10000 ????		00 00	    sprite_spaceship6_color30 =	0
   3039  10000 ????		00 00	    sprite_spaceship6_color29 =	0
   3040  10000 ????		00 00	    sprite_spaceship6_color28 =	0
   3041  10000 ????		00 00	    sprite_spaceship6_color27 =	0
   3042  10000 ????		00 00	    sprite_spaceship6_color26 =	0
   3043  10000 ????		00 00	    sprite_spaceship6_color25 =	0
   3044  10000 ????		00 00	    sprite_spaceship6_color24 =	0
   3045  10000 ????		00 00	    sprite_spaceship6_color23 =	0
   3046  10000 ????		00 00	    sprite_spaceship6_color22 =	0
   3047  10000 ????		00 00	    sprite_spaceship6_color21 =	0
   3048  10000 ????		00 00	    sprite_spaceship6_color20 =	0
   3049  10000 ????		00 00	    sprite_spaceship6_color19 =	0
   3050  10000 ????		00 00	    sprite_spaceship6_color18 =	0
   3051  10000 ????		00 00	    sprite_spaceship6_color17 =	0
   3052  10000 ????		00 00	    sprite_spaceship6_color16 =	0
   3053  10000 ????		00 00	    sprite_spaceship6_color15 =	0
   3054  10000 ????		00 00	    sprite_spaceship6_color14 =	0
   3055  10000 ????		00 00	    sprite_spaceship6_color13 =	0
   3056  10000 ????		00 00	    sprite_spaceship6_color12 =	0
   3057  10000 ????		00 00	    sprite_spaceship6_color11 =	0
   3058  10000 ????		00 00	    sprite_spaceship6_color10 =	0
   3059  10000 ????		00 00	    sprite_spaceship6_color9 =	0
   3060  10000 ????		00 00	    sprite_spaceship6_color8 =	0
   3061  10000 ????		00 00	    sprite_spaceship6_color7 =	0
   3062  10000 ????		00 00	    sprite_spaceship6_color6 =	0
   3063  10000 ????		00 00	    sprite_spaceship6_color5 =	0
   3064  10000 ????		00 00	    sprite_spaceship6_color4 =	0
   3065  10000 ????		00 1e	    sprite_spaceship6_color3 =	$1e
   3066  10000 ????		00 81	    sprite_spaceship6_color2 =	$81
   3067  10000 ????		00 44	    sprite_spaceship6_color1 =	$44
   3068  10000 ????		00 00	    sprite_spaceship6_color0 =	$00
   3069  10000 ????		00 00	    sprite_spaceship5_color255 =	0
   3070  10000 ????		00 00	    sprite_spaceship5_color254 =	0
   3071  10000 ????		00 00	    sprite_spaceship5_color253 =	0
   3072  10000 ????		00 00	    sprite_spaceship5_color252 =	0
   3073  10000 ????		00 00	    sprite_spaceship5_color251 =	0
   3074  10000 ????		00 00	    sprite_spaceship5_color250 =	0
   3075  10000 ????		00 00	    sprite_spaceship5_color249 =	0
   3076  10000 ????		00 00	    sprite_spaceship5_color248 =	0
   3077  10000 ????		00 00	    sprite_spaceship5_color247 =	0
   3078  10000 ????		00 00	    sprite_spaceship5_color246 =	0
   3079  10000 ????		00 00	    sprite_spaceship5_color245 =	0
   3080  10000 ????		00 00	    sprite_spaceship5_color244 =	0
   3081  10000 ????		00 00	    sprite_spaceship5_color243 =	0
   3082  10000 ????		00 00	    sprite_spaceship5_color242 =	0
   3083  10000 ????		00 00	    sprite_spaceship5_color241 =	0
   3084  10000 ????		00 00	    sprite_spaceship5_color240 =	0
   3085  10000 ????		00 00	    sprite_spaceship5_color239 =	0
   3086  10000 ????		00 00	    sprite_spaceship5_color238 =	0
   3087  10000 ????		00 00	    sprite_spaceship5_color237 =	0
   3088  10000 ????		00 00	    sprite_spaceship5_color236 =	0
   3089  10000 ????		00 00	    sprite_spaceship5_color235 =	0
   3090  10000 ????		00 00	    sprite_spaceship5_color234 =	0
   3091  10000 ????		00 00	    sprite_spaceship5_color233 =	0
   3092  10000 ????		00 00	    sprite_spaceship5_color232 =	0
   3093  10000 ????		00 00	    sprite_spaceship5_color231 =	0
   3094  10000 ????		00 00	    sprite_spaceship5_color230 =	0
   3095  10000 ????		00 00	    sprite_spaceship5_color229 =	0
   3096  10000 ????		00 00	    sprite_spaceship5_color228 =	0
   3097  10000 ????		00 00	    sprite_spaceship5_color227 =	0
   3098  10000 ????		00 00	    sprite_spaceship5_color226 =	0
   3099  10000 ????		00 00	    sprite_spaceship5_color225 =	0
   3100  10000 ????		00 00	    sprite_spaceship5_color224 =	0
   3101  10000 ????		00 00	    sprite_spaceship5_color223 =	0
   3102  10000 ????		00 00	    sprite_spaceship5_color222 =	0
   3103  10000 ????		00 00	    sprite_spaceship5_color221 =	0
   3104  10000 ????		00 00	    sprite_spaceship5_color220 =	0
   3105  10000 ????		00 00	    sprite_spaceship5_color219 =	0
   3106  10000 ????		00 00	    sprite_spaceship5_color218 =	0
   3107  10000 ????		00 00	    sprite_spaceship5_color217 =	0
   3108  10000 ????		00 00	    sprite_spaceship5_color216 =	0
   3109  10000 ????		00 00	    sprite_spaceship5_color215 =	0
   3110  10000 ????		00 00	    sprite_spaceship5_color214 =	0
   3111  10000 ????		00 00	    sprite_spaceship5_color213 =	0
   3112  10000 ????		00 00	    sprite_spaceship5_color212 =	0
   3113  10000 ????		00 00	    sprite_spaceship5_color211 =	0
   3114  10000 ????		00 00	    sprite_spaceship5_color210 =	0
   3115  10000 ????		00 00	    sprite_spaceship5_color209 =	0
   3116  10000 ????		00 00	    sprite_spaceship5_color208 =	0
   3117  10000 ????		00 00	    sprite_spaceship5_color207 =	0
   3118  10000 ????		00 00	    sprite_spaceship5_color206 =	0
   3119  10000 ????		00 00	    sprite_spaceship5_color205 =	0
   3120  10000 ????		00 00	    sprite_spaceship5_color204 =	0
   3121  10000 ????		00 00	    sprite_spaceship5_color203 =	0
   3122  10000 ????		00 00	    sprite_spaceship5_color202 =	0
   3123  10000 ????		00 00	    sprite_spaceship5_color201 =	0
   3124  10000 ????		00 00	    sprite_spaceship5_color200 =	0
   3125  10000 ????		00 00	    sprite_spaceship5_color199 =	0
   3126  10000 ????		00 00	    sprite_spaceship5_color198 =	0
   3127  10000 ????		00 00	    sprite_spaceship5_color197 =	0
   3128  10000 ????		00 00	    sprite_spaceship5_color196 =	0
   3129  10000 ????		00 00	    sprite_spaceship5_color195 =	0
   3130  10000 ????		00 00	    sprite_spaceship5_color194 =	0
   3131  10000 ????		00 00	    sprite_spaceship5_color193 =	0
   3132  10000 ????		00 00	    sprite_spaceship5_color192 =	0
   3133  10000 ????		00 00	    sprite_spaceship5_color191 =	0
   3134  10000 ????		00 00	    sprite_spaceship5_color190 =	0
   3135  10000 ????		00 00	    sprite_spaceship5_color189 =	0
   3136  10000 ????		00 00	    sprite_spaceship5_color188 =	0
   3137  10000 ????		00 00	    sprite_spaceship5_color187 =	0
   3138  10000 ????		00 00	    sprite_spaceship5_color186 =	0
   3139  10000 ????		00 00	    sprite_spaceship5_color185 =	0
   3140  10000 ????		00 00	    sprite_spaceship5_color184 =	0
   3141  10000 ????		00 00	    sprite_spaceship5_color183 =	0
   3142  10000 ????		00 00	    sprite_spaceship5_color182 =	0
   3143  10000 ????		00 00	    sprite_spaceship5_color181 =	0
   3144  10000 ????		00 00	    sprite_spaceship5_color180 =	0
   3145  10000 ????		00 00	    sprite_spaceship5_color179 =	0
   3146  10000 ????		00 00	    sprite_spaceship5_color178 =	0
   3147  10000 ????		00 00	    sprite_spaceship5_color177 =	0
   3148  10000 ????		00 00	    sprite_spaceship5_color176 =	0
   3149  10000 ????		00 00	    sprite_spaceship5_color175 =	0
   3150  10000 ????		00 00	    sprite_spaceship5_color174 =	0
   3151  10000 ????		00 00	    sprite_spaceship5_color173 =	0
   3152  10000 ????		00 00	    sprite_spaceship5_color172 =	0
   3153  10000 ????		00 00	    sprite_spaceship5_color171 =	0
   3154  10000 ????		00 00	    sprite_spaceship5_color170 =	0
   3155  10000 ????		00 00	    sprite_spaceship5_color169 =	0
   3156  10000 ????		00 00	    sprite_spaceship5_color168 =	0
   3157  10000 ????		00 00	    sprite_spaceship5_color167 =	0
   3158  10000 ????		00 00	    sprite_spaceship5_color166 =	0
   3159  10000 ????		00 00	    sprite_spaceship5_color165 =	0
   3160  10000 ????		00 00	    sprite_spaceship5_color164 =	0
   3161  10000 ????		00 00	    sprite_spaceship5_color163 =	0
   3162  10000 ????		00 00	    sprite_spaceship5_color162 =	0
   3163  10000 ????		00 00	    sprite_spaceship5_color161 =	0
   3164  10000 ????		00 00	    sprite_spaceship5_color160 =	0
   3165  10000 ????		00 00	    sprite_spaceship5_color159 =	0
   3166  10000 ????		00 00	    sprite_spaceship5_color158 =	0
   3167  10000 ????		00 00	    sprite_spaceship5_color157 =	0
   3168  10000 ????		00 00	    sprite_spaceship5_color156 =	0
   3169  10000 ????		00 00	    sprite_spaceship5_color155 =	0
   3170  10000 ????		00 00	    sprite_spaceship5_color154 =	0
   3171  10000 ????		00 00	    sprite_spaceship5_color153 =	0
   3172  10000 ????		00 00	    sprite_spaceship5_color152 =	0
   3173  10000 ????		00 00	    sprite_spaceship5_color151 =	0
   3174  10000 ????		00 00	    sprite_spaceship5_color150 =	0
   3175  10000 ????		00 00	    sprite_spaceship5_color149 =	0
   3176  10000 ????		00 00	    sprite_spaceship5_color148 =	0
   3177  10000 ????		00 00	    sprite_spaceship5_color147 =	0
   3178  10000 ????		00 00	    sprite_spaceship5_color146 =	0
   3179  10000 ????		00 00	    sprite_spaceship5_color145 =	0
   3180  10000 ????		00 00	    sprite_spaceship5_color144 =	0
   3181  10000 ????		00 00	    sprite_spaceship5_color143 =	0
   3182  10000 ????		00 00	    sprite_spaceship5_color142 =	0
   3183  10000 ????		00 00	    sprite_spaceship5_color141 =	0
   3184  10000 ????		00 00	    sprite_spaceship5_color140 =	0
   3185  10000 ????		00 00	    sprite_spaceship5_color139 =	0
   3186  10000 ????		00 00	    sprite_spaceship5_color138 =	0
   3187  10000 ????		00 00	    sprite_spaceship5_color137 =	0
   3188  10000 ????		00 00	    sprite_spaceship5_color136 =	0
   3189  10000 ????		00 00	    sprite_spaceship5_color135 =	0
   3190  10000 ????		00 00	    sprite_spaceship5_color134 =	0
   3191  10000 ????		00 00	    sprite_spaceship5_color133 =	0
   3192  10000 ????		00 00	    sprite_spaceship5_color132 =	0
   3193  10000 ????		00 00	    sprite_spaceship5_color131 =	0
   3194  10000 ????		00 00	    sprite_spaceship5_color130 =	0
   3195  10000 ????		00 00	    sprite_spaceship5_color129 =	0
   3196  10000 ????		00 00	    sprite_spaceship5_color128 =	0
   3197  10000 ????		00 00	    sprite_spaceship5_color127 =	0
   3198  10000 ????		00 00	    sprite_spaceship5_color126 =	0
   3199  10000 ????		00 00	    sprite_spaceship5_color125 =	0
   3200  10000 ????		00 00	    sprite_spaceship5_color124 =	0
   3201  10000 ????		00 00	    sprite_spaceship5_color123 =	0
   3202  10000 ????		00 00	    sprite_spaceship5_color122 =	0
   3203  10000 ????		00 00	    sprite_spaceship5_color121 =	0
   3204  10000 ????		00 00	    sprite_spaceship5_color120 =	0
   3205  10000 ????		00 00	    sprite_spaceship5_color119 =	0
   3206  10000 ????		00 00	    sprite_spaceship5_color118 =	0
   3207  10000 ????		00 00	    sprite_spaceship5_color117 =	0
   3208  10000 ????		00 00	    sprite_spaceship5_color116 =	0
   3209  10000 ????		00 00	    sprite_spaceship5_color115 =	0
   3210  10000 ????		00 00	    sprite_spaceship5_color114 =	0
   3211  10000 ????		00 00	    sprite_spaceship5_color113 =	0
   3212  10000 ????		00 00	    sprite_spaceship5_color112 =	0
   3213  10000 ????		00 00	    sprite_spaceship5_color111 =	0
   3214  10000 ????		00 00	    sprite_spaceship5_color110 =	0
   3215  10000 ????		00 00	    sprite_spaceship5_color109 =	0
   3216  10000 ????		00 00	    sprite_spaceship5_color108 =	0
   3217  10000 ????		00 00	    sprite_spaceship5_color107 =	0
   3218  10000 ????		00 00	    sprite_spaceship5_color106 =	0
   3219  10000 ????		00 00	    sprite_spaceship5_color105 =	0
   3220  10000 ????		00 00	    sprite_spaceship5_color104 =	0
   3221  10000 ????		00 00	    sprite_spaceship5_color103 =	0
   3222  10000 ????		00 00	    sprite_spaceship5_color102 =	0
   3223  10000 ????		00 00	    sprite_spaceship5_color101 =	0
   3224  10000 ????		00 00	    sprite_spaceship5_color100 =	0
   3225  10000 ????		00 00	    sprite_spaceship5_color99 =	0
   3226  10000 ????		00 00	    sprite_spaceship5_color98 =	0
   3227  10000 ????		00 00	    sprite_spaceship5_color97 =	0
   3228  10000 ????		00 00	    sprite_spaceship5_color96 =	0
   3229  10000 ????		00 00	    sprite_spaceship5_color95 =	0
   3230  10000 ????		00 00	    sprite_spaceship5_color94 =	0
   3231  10000 ????		00 00	    sprite_spaceship5_color93 =	0
   3232  10000 ????		00 00	    sprite_spaceship5_color92 =	0
   3233  10000 ????		00 00	    sprite_spaceship5_color91 =	0
   3234  10000 ????		00 00	    sprite_spaceship5_color90 =	0
   3235  10000 ????		00 00	    sprite_spaceship5_color89 =	0
   3236  10000 ????		00 00	    sprite_spaceship5_color88 =	0
   3237  10000 ????		00 00	    sprite_spaceship5_color87 =	0
   3238  10000 ????		00 00	    sprite_spaceship5_color86 =	0
   3239  10000 ????		00 00	    sprite_spaceship5_color85 =	0
   3240  10000 ????		00 00	    sprite_spaceship5_color84 =	0
   3241  10000 ????		00 00	    sprite_spaceship5_color83 =	0
   3242  10000 ????		00 00	    sprite_spaceship5_color82 =	0
   3243  10000 ????		00 00	    sprite_spaceship5_color81 =	0
   3244  10000 ????		00 00	    sprite_spaceship5_color80 =	0
   3245  10000 ????		00 00	    sprite_spaceship5_color79 =	0
   3246  10000 ????		00 00	    sprite_spaceship5_color78 =	0
   3247  10000 ????		00 00	    sprite_spaceship5_color77 =	0
   3248  10000 ????		00 00	    sprite_spaceship5_color76 =	0
   3249  10000 ????		00 00	    sprite_spaceship5_color75 =	0
   3250  10000 ????		00 00	    sprite_spaceship5_color74 =	0
   3251  10000 ????		00 00	    sprite_spaceship5_color73 =	0
   3252  10000 ????		00 00	    sprite_spaceship5_color72 =	0
   3253  10000 ????		00 00	    sprite_spaceship5_color71 =	0
   3254  10000 ????		00 00	    sprite_spaceship5_color70 =	0
   3255  10000 ????		00 00	    sprite_spaceship5_color69 =	0
   3256  10000 ????		00 00	    sprite_spaceship5_color68 =	0
   3257  10000 ????		00 00	    sprite_spaceship5_color67 =	0
   3258  10000 ????		00 00	    sprite_spaceship5_color66 =	0
   3259  10000 ????		00 00	    sprite_spaceship5_color65 =	0
   3260  10000 ????		00 00	    sprite_spaceship5_color64 =	0
   3261  10000 ????		00 00	    sprite_spaceship5_color63 =	0
   3262  10000 ????		00 00	    sprite_spaceship5_color62 =	0
   3263  10000 ????		00 00	    sprite_spaceship5_color61 =	0
   3264  10000 ????		00 00	    sprite_spaceship5_color60 =	0
   3265  10000 ????		00 00	    sprite_spaceship5_color59 =	0
   3266  10000 ????		00 00	    sprite_spaceship5_color58 =	0
   3267  10000 ????		00 00	    sprite_spaceship5_color57 =	0
   3268  10000 ????		00 00	    sprite_spaceship5_color56 =	0
   3269  10000 ????		00 00	    sprite_spaceship5_color55 =	0
   3270  10000 ????		00 00	    sprite_spaceship5_color54 =	0
   3271  10000 ????		00 00	    sprite_spaceship5_color53 =	0
   3272  10000 ????		00 00	    sprite_spaceship5_color52 =	0
   3273  10000 ????		00 00	    sprite_spaceship5_color51 =	0
   3274  10000 ????		00 00	    sprite_spaceship5_color50 =	0
   3275  10000 ????		00 00	    sprite_spaceship5_color49 =	0
   3276  10000 ????		00 00	    sprite_spaceship5_color48 =	0
   3277  10000 ????		00 00	    sprite_spaceship5_color47 =	0
   3278  10000 ????		00 00	    sprite_spaceship5_color46 =	0
   3279  10000 ????		00 00	    sprite_spaceship5_color45 =	0
   3280  10000 ????		00 00	    sprite_spaceship5_color44 =	0
   3281  10000 ????		00 00	    sprite_spaceship5_color43 =	0
   3282  10000 ????		00 00	    sprite_spaceship5_color42 =	0
   3283  10000 ????		00 00	    sprite_spaceship5_color41 =	0
   3284  10000 ????		00 00	    sprite_spaceship5_color40 =	0
   3285  10000 ????		00 00	    sprite_spaceship5_color39 =	0
   3286  10000 ????		00 00	    sprite_spaceship5_color38 =	0
   3287  10000 ????		00 00	    sprite_spaceship5_color37 =	0
   3288  10000 ????		00 00	    sprite_spaceship5_color36 =	0
   3289  10000 ????		00 00	    sprite_spaceship5_color35 =	0
   3290  10000 ????		00 00	    sprite_spaceship5_color34 =	0
   3291  10000 ????		00 00	    sprite_spaceship5_color33 =	0
   3292  10000 ????		00 00	    sprite_spaceship5_color32 =	0
   3293  10000 ????		00 00	    sprite_spaceship5_color31 =	0
   3294  10000 ????		00 00	    sprite_spaceship5_color30 =	0
   3295  10000 ????		00 00	    sprite_spaceship5_color29 =	0
   3296  10000 ????		00 00	    sprite_spaceship5_color28 =	0
   3297  10000 ????		00 00	    sprite_spaceship5_color27 =	0
   3298  10000 ????		00 00	    sprite_spaceship5_color26 =	0
   3299  10000 ????		00 00	    sprite_spaceship5_color25 =	0
   3300  10000 ????		00 00	    sprite_spaceship5_color24 =	0
   3301  10000 ????		00 00	    sprite_spaceship5_color23 =	0
   3302  10000 ????		00 00	    sprite_spaceship5_color22 =	0
   3303  10000 ????		00 00	    sprite_spaceship5_color21 =	0
   3304  10000 ????		00 00	    sprite_spaceship5_color20 =	0
   3305  10000 ????		00 00	    sprite_spaceship5_color19 =	0
   3306  10000 ????		00 00	    sprite_spaceship5_color18 =	0
   3307  10000 ????		00 00	    sprite_spaceship5_color17 =	0
   3308  10000 ????		00 00	    sprite_spaceship5_color16 =	0
   3309  10000 ????		00 00	    sprite_spaceship5_color15 =	0
   3310  10000 ????		00 00	    sprite_spaceship5_color14 =	0
   3311  10000 ????		00 00	    sprite_spaceship5_color13 =	0
   3312  10000 ????		00 00	    sprite_spaceship5_color12 =	0
   3313  10000 ????		00 00	    sprite_spaceship5_color11 =	0
   3314  10000 ????		00 00	    sprite_spaceship5_color10 =	0
   3315  10000 ????		00 00	    sprite_spaceship5_color9 =	0
   3316  10000 ????		00 00	    sprite_spaceship5_color8 =	0
   3317  10000 ????		00 00	    sprite_spaceship5_color7 =	0
   3318  10000 ????		00 00	    sprite_spaceship5_color6 =	0
   3319  10000 ????		00 00	    sprite_spaceship5_color5 =	0
   3320  10000 ????		00 00	    sprite_spaceship5_color4 =	0
   3321  10000 ????		00 1e	    sprite_spaceship5_color3 =	$1e
   3322  10000 ????		00 81	    sprite_spaceship5_color2 =	$81
   3323  10000 ????		00 44	    sprite_spaceship5_color1 =	$44
   3324  10000 ????		00 00	    sprite_spaceship5_color0 =	$00
   3325  10000 ????		00 00	    sprite_spaceship4_color255 =	0
   3326  10000 ????		00 00	    sprite_spaceship4_color254 =	0
   3327  10000 ????		00 00	    sprite_spaceship4_color253 =	0
   3328  10000 ????		00 00	    sprite_spaceship4_color252 =	0
   3329  10000 ????		00 00	    sprite_spaceship4_color251 =	0
   3330  10000 ????		00 00	    sprite_spaceship4_color250 =	0
   3331  10000 ????		00 00	    sprite_spaceship4_color249 =	0
   3332  10000 ????		00 00	    sprite_spaceship4_color248 =	0
   3333  10000 ????		00 00	    sprite_spaceship4_color247 =	0
   3334  10000 ????		00 00	    sprite_spaceship4_color246 =	0
   3335  10000 ????		00 00	    sprite_spaceship4_color245 =	0
   3336  10000 ????		00 00	    sprite_spaceship4_color244 =	0
   3337  10000 ????		00 00	    sprite_spaceship4_color243 =	0
   3338  10000 ????		00 00	    sprite_spaceship4_color242 =	0
   3339  10000 ????		00 00	    sprite_spaceship4_color241 =	0
   3340  10000 ????		00 00	    sprite_spaceship4_color240 =	0
   3341  10000 ????		00 00	    sprite_spaceship4_color239 =	0
   3342  10000 ????		00 00	    sprite_spaceship4_color238 =	0
   3343  10000 ????		00 00	    sprite_spaceship4_color237 =	0
   3344  10000 ????		00 00	    sprite_spaceship4_color236 =	0
   3345  10000 ????		00 00	    sprite_spaceship4_color235 =	0
   3346  10000 ????		00 00	    sprite_spaceship4_color234 =	0
   3347  10000 ????		00 00	    sprite_spaceship4_color233 =	0
   3348  10000 ????		00 00	    sprite_spaceship4_color232 =	0
   3349  10000 ????		00 00	    sprite_spaceship4_color231 =	0
   3350  10000 ????		00 00	    sprite_spaceship4_color230 =	0
   3351  10000 ????		00 00	    sprite_spaceship4_color229 =	0
   3352  10000 ????		00 00	    sprite_spaceship4_color228 =	0
   3353  10000 ????		00 00	    sprite_spaceship4_color227 =	0
   3354  10000 ????		00 00	    sprite_spaceship4_color226 =	0
   3355  10000 ????		00 00	    sprite_spaceship4_color225 =	0
   3356  10000 ????		00 00	    sprite_spaceship4_color224 =	0
   3357  10000 ????		00 00	    sprite_spaceship4_color223 =	0
   3358  10000 ????		00 00	    sprite_spaceship4_color222 =	0
   3359  10000 ????		00 00	    sprite_spaceship4_color221 =	0
   3360  10000 ????		00 00	    sprite_spaceship4_color220 =	0
   3361  10000 ????		00 00	    sprite_spaceship4_color219 =	0
   3362  10000 ????		00 00	    sprite_spaceship4_color218 =	0
   3363  10000 ????		00 00	    sprite_spaceship4_color217 =	0
   3364  10000 ????		00 00	    sprite_spaceship4_color216 =	0
   3365  10000 ????		00 00	    sprite_spaceship4_color215 =	0
   3366  10000 ????		00 00	    sprite_spaceship4_color214 =	0
   3367  10000 ????		00 00	    sprite_spaceship4_color213 =	0
   3368  10000 ????		00 00	    sprite_spaceship4_color212 =	0
   3369  10000 ????		00 00	    sprite_spaceship4_color211 =	0
   3370  10000 ????		00 00	    sprite_spaceship4_color210 =	0
   3371  10000 ????		00 00	    sprite_spaceship4_color209 =	0
   3372  10000 ????		00 00	    sprite_spaceship4_color208 =	0
   3373  10000 ????		00 00	    sprite_spaceship4_color207 =	0
   3374  10000 ????		00 00	    sprite_spaceship4_color206 =	0
   3375  10000 ????		00 00	    sprite_spaceship4_color205 =	0
   3376  10000 ????		00 00	    sprite_spaceship4_color204 =	0
   3377  10000 ????		00 00	    sprite_spaceship4_color203 =	0
   3378  10000 ????		00 00	    sprite_spaceship4_color202 =	0
   3379  10000 ????		00 00	    sprite_spaceship4_color201 =	0
   3380  10000 ????		00 00	    sprite_spaceship4_color200 =	0
   3381  10000 ????		00 00	    sprite_spaceship4_color199 =	0
   3382  10000 ????		00 00	    sprite_spaceship4_color198 =	0
   3383  10000 ????		00 00	    sprite_spaceship4_color197 =	0
   3384  10000 ????		00 00	    sprite_spaceship4_color196 =	0
   3385  10000 ????		00 00	    sprite_spaceship4_color195 =	0
   3386  10000 ????		00 00	    sprite_spaceship4_color194 =	0
   3387  10000 ????		00 00	    sprite_spaceship4_color193 =	0
   3388  10000 ????		00 00	    sprite_spaceship4_color192 =	0
   3389  10000 ????		00 00	    sprite_spaceship4_color191 =	0
   3390  10000 ????		00 00	    sprite_spaceship4_color190 =	0
   3391  10000 ????		00 00	    sprite_spaceship4_color189 =	0
   3392  10000 ????		00 00	    sprite_spaceship4_color188 =	0
   3393  10000 ????		00 00	    sprite_spaceship4_color187 =	0
   3394  10000 ????		00 00	    sprite_spaceship4_color186 =	0
   3395  10000 ????		00 00	    sprite_spaceship4_color185 =	0
   3396  10000 ????		00 00	    sprite_spaceship4_color184 =	0
   3397  10000 ????		00 00	    sprite_spaceship4_color183 =	0
   3398  10000 ????		00 00	    sprite_spaceship4_color182 =	0
   3399  10000 ????		00 00	    sprite_spaceship4_color181 =	0
   3400  10000 ????		00 00	    sprite_spaceship4_color180 =	0
   3401  10000 ????		00 00	    sprite_spaceship4_color179 =	0
   3402  10000 ????		00 00	    sprite_spaceship4_color178 =	0
   3403  10000 ????		00 00	    sprite_spaceship4_color177 =	0
   3404  10000 ????		00 00	    sprite_spaceship4_color176 =	0
   3405  10000 ????		00 00	    sprite_spaceship4_color175 =	0
   3406  10000 ????		00 00	    sprite_spaceship4_color174 =	0
   3407  10000 ????		00 00	    sprite_spaceship4_color173 =	0
   3408  10000 ????		00 00	    sprite_spaceship4_color172 =	0
   3409  10000 ????		00 00	    sprite_spaceship4_color171 =	0
   3410  10000 ????		00 00	    sprite_spaceship4_color170 =	0
   3411  10000 ????		00 00	    sprite_spaceship4_color169 =	0
   3412  10000 ????		00 00	    sprite_spaceship4_color168 =	0
   3413  10000 ????		00 00	    sprite_spaceship4_color167 =	0
   3414  10000 ????		00 00	    sprite_spaceship4_color166 =	0
   3415  10000 ????		00 00	    sprite_spaceship4_color165 =	0
   3416  10000 ????		00 00	    sprite_spaceship4_color164 =	0
   3417  10000 ????		00 00	    sprite_spaceship4_color163 =	0
   3418  10000 ????		00 00	    sprite_spaceship4_color162 =	0
   3419  10000 ????		00 00	    sprite_spaceship4_color161 =	0
   3420  10000 ????		00 00	    sprite_spaceship4_color160 =	0
   3421  10000 ????		00 00	    sprite_spaceship4_color159 =	0
   3422  10000 ????		00 00	    sprite_spaceship4_color158 =	0
   3423  10000 ????		00 00	    sprite_spaceship4_color157 =	0
   3424  10000 ????		00 00	    sprite_spaceship4_color156 =	0
   3425  10000 ????		00 00	    sprite_spaceship4_color155 =	0
   3426  10000 ????		00 00	    sprite_spaceship4_color154 =	0
   3427  10000 ????		00 00	    sprite_spaceship4_color153 =	0
   3428  10000 ????		00 00	    sprite_spaceship4_color152 =	0
   3429  10000 ????		00 00	    sprite_spaceship4_color151 =	0
   3430  10000 ????		00 00	    sprite_spaceship4_color150 =	0
   3431  10000 ????		00 00	    sprite_spaceship4_color149 =	0
   3432  10000 ????		00 00	    sprite_spaceship4_color148 =	0
   3433  10000 ????		00 00	    sprite_spaceship4_color147 =	0
   3434  10000 ????		00 00	    sprite_spaceship4_color146 =	0
   3435  10000 ????		00 00	    sprite_spaceship4_color145 =	0
   3436  10000 ????		00 00	    sprite_spaceship4_color144 =	0
   3437  10000 ????		00 00	    sprite_spaceship4_color143 =	0
   3438  10000 ????		00 00	    sprite_spaceship4_color142 =	0
   3439  10000 ????		00 00	    sprite_spaceship4_color141 =	0
   3440  10000 ????		00 00	    sprite_spaceship4_color140 =	0
   3441  10000 ????		00 00	    sprite_spaceship4_color139 =	0
   3442  10000 ????		00 00	    sprite_spaceship4_color138 =	0
   3443  10000 ????		00 00	    sprite_spaceship4_color137 =	0
   3444  10000 ????		00 00	    sprite_spaceship4_color136 =	0
   3445  10000 ????		00 00	    sprite_spaceship4_color135 =	0
   3446  10000 ????		00 00	    sprite_spaceship4_color134 =	0
   3447  10000 ????		00 00	    sprite_spaceship4_color133 =	0
   3448  10000 ????		00 00	    sprite_spaceship4_color132 =	0
   3449  10000 ????		00 00	    sprite_spaceship4_color131 =	0
   3450  10000 ????		00 00	    sprite_spaceship4_color130 =	0
   3451  10000 ????		00 00	    sprite_spaceship4_color129 =	0
   3452  10000 ????		00 00	    sprite_spaceship4_color128 =	0
   3453  10000 ????		00 00	    sprite_spaceship4_color127 =	0
   3454  10000 ????		00 00	    sprite_spaceship4_color126 =	0
   3455  10000 ????		00 00	    sprite_spaceship4_color125 =	0
   3456  10000 ????		00 00	    sprite_spaceship4_color124 =	0
   3457  10000 ????		00 00	    sprite_spaceship4_color123 =	0
   3458  10000 ????		00 00	    sprite_spaceship4_color122 =	0
   3459  10000 ????		00 00	    sprite_spaceship4_color121 =	0
   3460  10000 ????		00 00	    sprite_spaceship4_color120 =	0
   3461  10000 ????		00 00	    sprite_spaceship4_color119 =	0
   3462  10000 ????		00 00	    sprite_spaceship4_color118 =	0
   3463  10000 ????		00 00	    sprite_spaceship4_color117 =	0
   3464  10000 ????		00 00	    sprite_spaceship4_color116 =	0
   3465  10000 ????		00 00	    sprite_spaceship4_color115 =	0
   3466  10000 ????		00 00	    sprite_spaceship4_color114 =	0
   3467  10000 ????		00 00	    sprite_spaceship4_color113 =	0
   3468  10000 ????		00 00	    sprite_spaceship4_color112 =	0
   3469  10000 ????		00 00	    sprite_spaceship4_color111 =	0
   3470  10000 ????		00 00	    sprite_spaceship4_color110 =	0
   3471  10000 ????		00 00	    sprite_spaceship4_color109 =	0
   3472  10000 ????		00 00	    sprite_spaceship4_color108 =	0
   3473  10000 ????		00 00	    sprite_spaceship4_color107 =	0
   3474  10000 ????		00 00	    sprite_spaceship4_color106 =	0
   3475  10000 ????		00 00	    sprite_spaceship4_color105 =	0
   3476  10000 ????		00 00	    sprite_spaceship4_color104 =	0
   3477  10000 ????		00 00	    sprite_spaceship4_color103 =	0
   3478  10000 ????		00 00	    sprite_spaceship4_color102 =	0
   3479  10000 ????		00 00	    sprite_spaceship4_color101 =	0
   3480  10000 ????		00 00	    sprite_spaceship4_color100 =	0
   3481  10000 ????		00 00	    sprite_spaceship4_color99 =	0
   3482  10000 ????		00 00	    sprite_spaceship4_color98 =	0
   3483  10000 ????		00 00	    sprite_spaceship4_color97 =	0
   3484  10000 ????		00 00	    sprite_spaceship4_color96 =	0
   3485  10000 ????		00 00	    sprite_spaceship4_color95 =	0
   3486  10000 ????		00 00	    sprite_spaceship4_color94 =	0
   3487  10000 ????		00 00	    sprite_spaceship4_color93 =	0
   3488  10000 ????		00 00	    sprite_spaceship4_color92 =	0
   3489  10000 ????		00 00	    sprite_spaceship4_color91 =	0
   3490  10000 ????		00 00	    sprite_spaceship4_color90 =	0
   3491  10000 ????		00 00	    sprite_spaceship4_color89 =	0
   3492  10000 ????		00 00	    sprite_spaceship4_color88 =	0
   3493  10000 ????		00 00	    sprite_spaceship4_color87 =	0
   3494  10000 ????		00 00	    sprite_spaceship4_color86 =	0
   3495  10000 ????		00 00	    sprite_spaceship4_color85 =	0
   3496  10000 ????		00 00	    sprite_spaceship4_color84 =	0
   3497  10000 ????		00 00	    sprite_spaceship4_color83 =	0
   3498  10000 ????		00 00	    sprite_spaceship4_color82 =	0
   3499  10000 ????		00 00	    sprite_spaceship4_color81 =	0
   3500  10000 ????		00 00	    sprite_spaceship4_color80 =	0
   3501  10000 ????		00 00	    sprite_spaceship4_color79 =	0
   3502  10000 ????		00 00	    sprite_spaceship4_color78 =	0
   3503  10000 ????		00 00	    sprite_spaceship4_color77 =	0
   3504  10000 ????		00 00	    sprite_spaceship4_color76 =	0
   3505  10000 ????		00 00	    sprite_spaceship4_color75 =	0
   3506  10000 ????		00 00	    sprite_spaceship4_color74 =	0
   3507  10000 ????		00 00	    sprite_spaceship4_color73 =	0
   3508  10000 ????		00 00	    sprite_spaceship4_color72 =	0
   3509  10000 ????		00 00	    sprite_spaceship4_color71 =	0
   3510  10000 ????		00 00	    sprite_spaceship4_color70 =	0
   3511  10000 ????		00 00	    sprite_spaceship4_color69 =	0
   3512  10000 ????		00 00	    sprite_spaceship4_color68 =	0
   3513  10000 ????		00 00	    sprite_spaceship4_color67 =	0
   3514  10000 ????		00 00	    sprite_spaceship4_color66 =	0
   3515  10000 ????		00 00	    sprite_spaceship4_color65 =	0
   3516  10000 ????		00 00	    sprite_spaceship4_color64 =	0
   3517  10000 ????		00 00	    sprite_spaceship4_color63 =	0
   3518  10000 ????		00 00	    sprite_spaceship4_color62 =	0
   3519  10000 ????		00 00	    sprite_spaceship4_color61 =	0
   3520  10000 ????		00 00	    sprite_spaceship4_color60 =	0
   3521  10000 ????		00 00	    sprite_spaceship4_color59 =	0
   3522  10000 ????		00 00	    sprite_spaceship4_color58 =	0
   3523  10000 ????		00 00	    sprite_spaceship4_color57 =	0
   3524  10000 ????		00 00	    sprite_spaceship4_color56 =	0
   3525  10000 ????		00 00	    sprite_spaceship4_color55 =	0
   3526  10000 ????		00 00	    sprite_spaceship4_color54 =	0
   3527  10000 ????		00 00	    sprite_spaceship4_color53 =	0
   3528  10000 ????		00 00	    sprite_spaceship4_color52 =	0
   3529  10000 ????		00 00	    sprite_spaceship4_color51 =	0
   3530  10000 ????		00 00	    sprite_spaceship4_color50 =	0
   3531  10000 ????		00 00	    sprite_spaceship4_color49 =	0
   3532  10000 ????		00 00	    sprite_spaceship4_color48 =	0
   3533  10000 ????		00 00	    sprite_spaceship4_color47 =	0
   3534  10000 ????		00 00	    sprite_spaceship4_color46 =	0
   3535  10000 ????		00 00	    sprite_spaceship4_color45 =	0
   3536  10000 ????		00 00	    sprite_spaceship4_color44 =	0
   3537  10000 ????		00 00	    sprite_spaceship4_color43 =	0
   3538  10000 ????		00 00	    sprite_spaceship4_color42 =	0
   3539  10000 ????		00 00	    sprite_spaceship4_color41 =	0
   3540  10000 ????		00 00	    sprite_spaceship4_color40 =	0
   3541  10000 ????		00 00	    sprite_spaceship4_color39 =	0
   3542  10000 ????		00 00	    sprite_spaceship4_color38 =	0
   3543  10000 ????		00 00	    sprite_spaceship4_color37 =	0
   3544  10000 ????		00 00	    sprite_spaceship4_color36 =	0
   3545  10000 ????		00 00	    sprite_spaceship4_color35 =	0
   3546  10000 ????		00 00	    sprite_spaceship4_color34 =	0
   3547  10000 ????		00 00	    sprite_spaceship4_color33 =	0
   3548  10000 ????		00 00	    sprite_spaceship4_color32 =	0
   3549  10000 ????		00 00	    sprite_spaceship4_color31 =	0
   3550  10000 ????		00 00	    sprite_spaceship4_color30 =	0
   3551  10000 ????		00 00	    sprite_spaceship4_color29 =	0
   3552  10000 ????		00 00	    sprite_spaceship4_color28 =	0
   3553  10000 ????		00 00	    sprite_spaceship4_color27 =	0
   3554  10000 ????		00 00	    sprite_spaceship4_color26 =	0
   3555  10000 ????		00 00	    sprite_spaceship4_color25 =	0
   3556  10000 ????		00 00	    sprite_spaceship4_color24 =	0
   3557  10000 ????		00 00	    sprite_spaceship4_color23 =	0
   3558  10000 ????		00 00	    sprite_spaceship4_color22 =	0
   3559  10000 ????		00 00	    sprite_spaceship4_color21 =	0
   3560  10000 ????		00 00	    sprite_spaceship4_color20 =	0
   3561  10000 ????		00 00	    sprite_spaceship4_color19 =	0
   3562  10000 ????		00 00	    sprite_spaceship4_color18 =	0
   3563  10000 ????		00 00	    sprite_spaceship4_color17 =	0
   3564  10000 ????		00 00	    sprite_spaceship4_color16 =	0
   3565  10000 ????		00 00	    sprite_spaceship4_color15 =	0
   3566  10000 ????		00 00	    sprite_spaceship4_color14 =	0
   3567  10000 ????		00 00	    sprite_spaceship4_color13 =	0
   3568  10000 ????		00 00	    sprite_spaceship4_color12 =	0
   3569  10000 ????		00 00	    sprite_spaceship4_color11 =	0
   3570  10000 ????		00 00	    sprite_spaceship4_color10 =	0
   3571  10000 ????		00 00	    sprite_spaceship4_color9 =	0
   3572  10000 ????		00 00	    sprite_spaceship4_color8 =	0
   3573  10000 ????		00 00	    sprite_spaceship4_color7 =	0
   3574  10000 ????		00 00	    sprite_spaceship4_color6 =	0
   3575  10000 ????		00 00	    sprite_spaceship4_color5 =	0
   3576  10000 ????		00 00	    sprite_spaceship4_color4 =	0
   3577  10000 ????		00 1e	    sprite_spaceship4_color3 =	$1e
   3578  10000 ????		00 81	    sprite_spaceship4_color2 =	$81
   3579  10000 ????		00 44	    sprite_spaceship4_color1 =	$44
   3580  10000 ????		00 00	    sprite_spaceship4_color0 =	$00
   3581  10000 ????		00 00	    sprite_spaceship3_color255 =	0
   3582  10000 ????		00 00	    sprite_spaceship3_color254 =	0
   3583  10000 ????		00 00	    sprite_spaceship3_color253 =	0
   3584  10000 ????		00 00	    sprite_spaceship3_color252 =	0
   3585  10000 ????		00 00	    sprite_spaceship3_color251 =	0
   3586  10000 ????		00 00	    sprite_spaceship3_color250 =	0
   3587  10000 ????		00 00	    sprite_spaceship3_color249 =	0
   3588  10000 ????		00 00	    sprite_spaceship3_color248 =	0
   3589  10000 ????		00 00	    sprite_spaceship3_color247 =	0
   3590  10000 ????		00 00	    sprite_spaceship3_color246 =	0
   3591  10000 ????		00 00	    sprite_spaceship3_color245 =	0
   3592  10000 ????		00 00	    sprite_spaceship3_color244 =	0
   3593  10000 ????		00 00	    sprite_spaceship3_color243 =	0
   3594  10000 ????		00 00	    sprite_spaceship3_color242 =	0
   3595  10000 ????		00 00	    sprite_spaceship3_color241 =	0
   3596  10000 ????		00 00	    sprite_spaceship3_color240 =	0
   3597  10000 ????		00 00	    sprite_spaceship3_color239 =	0
   3598  10000 ????		00 00	    sprite_spaceship3_color238 =	0
   3599  10000 ????		00 00	    sprite_spaceship3_color237 =	0
   3600  10000 ????		00 00	    sprite_spaceship3_color236 =	0
   3601  10000 ????		00 00	    sprite_spaceship3_color235 =	0
   3602  10000 ????		00 00	    sprite_spaceship3_color234 =	0
   3603  10000 ????		00 00	    sprite_spaceship3_color233 =	0
   3604  10000 ????		00 00	    sprite_spaceship3_color232 =	0
   3605  10000 ????		00 00	    sprite_spaceship3_color231 =	0
   3606  10000 ????		00 00	    sprite_spaceship3_color230 =	0
   3607  10000 ????		00 00	    sprite_spaceship3_color229 =	0
   3608  10000 ????		00 00	    sprite_spaceship3_color228 =	0
   3609  10000 ????		00 00	    sprite_spaceship3_color227 =	0
   3610  10000 ????		00 00	    sprite_spaceship3_color226 =	0
   3611  10000 ????		00 00	    sprite_spaceship3_color225 =	0
   3612  10000 ????		00 00	    sprite_spaceship3_color224 =	0
   3613  10000 ????		00 00	    sprite_spaceship3_color223 =	0
   3614  10000 ????		00 00	    sprite_spaceship3_color222 =	0
   3615  10000 ????		00 00	    sprite_spaceship3_color221 =	0
   3616  10000 ????		00 00	    sprite_spaceship3_color220 =	0
   3617  10000 ????		00 00	    sprite_spaceship3_color219 =	0
   3618  10000 ????		00 00	    sprite_spaceship3_color218 =	0
   3619  10000 ????		00 00	    sprite_spaceship3_color217 =	0
   3620  10000 ????		00 00	    sprite_spaceship3_color216 =	0
   3621  10000 ????		00 00	    sprite_spaceship3_color215 =	0
   3622  10000 ????		00 00	    sprite_spaceship3_color214 =	0
   3623  10000 ????		00 00	    sprite_spaceship3_color213 =	0
   3624  10000 ????		00 00	    sprite_spaceship3_color212 =	0
   3625  10000 ????		00 00	    sprite_spaceship3_color211 =	0
   3626  10000 ????		00 00	    sprite_spaceship3_color210 =	0
   3627  10000 ????		00 00	    sprite_spaceship3_color209 =	0
   3628  10000 ????		00 00	    sprite_spaceship3_color208 =	0
   3629  10000 ????		00 00	    sprite_spaceship3_color207 =	0
   3630  10000 ????		00 00	    sprite_spaceship3_color206 =	0
   3631  10000 ????		00 00	    sprite_spaceship3_color205 =	0
   3632  10000 ????		00 00	    sprite_spaceship3_color204 =	0
   3633  10000 ????		00 00	    sprite_spaceship3_color203 =	0
   3634  10000 ????		00 00	    sprite_spaceship3_color202 =	0
   3635  10000 ????		00 00	    sprite_spaceship3_color201 =	0
   3636  10000 ????		00 00	    sprite_spaceship3_color200 =	0
   3637  10000 ????		00 00	    sprite_spaceship3_color199 =	0
   3638  10000 ????		00 00	    sprite_spaceship3_color198 =	0
   3639  10000 ????		00 00	    sprite_spaceship3_color197 =	0
   3640  10000 ????		00 00	    sprite_spaceship3_color196 =	0
   3641  10000 ????		00 00	    sprite_spaceship3_color195 =	0
   3642  10000 ????		00 00	    sprite_spaceship3_color194 =	0
   3643  10000 ????		00 00	    sprite_spaceship3_color193 =	0
   3644  10000 ????		00 00	    sprite_spaceship3_color192 =	0
   3645  10000 ????		00 00	    sprite_spaceship3_color191 =	0
   3646  10000 ????		00 00	    sprite_spaceship3_color190 =	0
   3647  10000 ????		00 00	    sprite_spaceship3_color189 =	0
   3648  10000 ????		00 00	    sprite_spaceship3_color188 =	0
   3649  10000 ????		00 00	    sprite_spaceship3_color187 =	0
   3650  10000 ????		00 00	    sprite_spaceship3_color186 =	0
   3651  10000 ????		00 00	    sprite_spaceship3_color185 =	0
   3652  10000 ????		00 00	    sprite_spaceship3_color184 =	0
   3653  10000 ????		00 00	    sprite_spaceship3_color183 =	0
   3654  10000 ????		00 00	    sprite_spaceship3_color182 =	0
   3655  10000 ????		00 00	    sprite_spaceship3_color181 =	0
   3656  10000 ????		00 00	    sprite_spaceship3_color180 =	0
   3657  10000 ????		00 00	    sprite_spaceship3_color179 =	0
   3658  10000 ????		00 00	    sprite_spaceship3_color178 =	0
   3659  10000 ????		00 00	    sprite_spaceship3_color177 =	0
   3660  10000 ????		00 00	    sprite_spaceship3_color176 =	0
   3661  10000 ????		00 00	    sprite_spaceship3_color175 =	0
   3662  10000 ????		00 00	    sprite_spaceship3_color174 =	0
   3663  10000 ????		00 00	    sprite_spaceship3_color173 =	0
   3664  10000 ????		00 00	    sprite_spaceship3_color172 =	0
   3665  10000 ????		00 00	    sprite_spaceship3_color171 =	0
   3666  10000 ????		00 00	    sprite_spaceship3_color170 =	0
   3667  10000 ????		00 00	    sprite_spaceship3_color169 =	0
   3668  10000 ????		00 00	    sprite_spaceship3_color168 =	0
   3669  10000 ????		00 00	    sprite_spaceship3_color167 =	0
   3670  10000 ????		00 00	    sprite_spaceship3_color166 =	0
   3671  10000 ????		00 00	    sprite_spaceship3_color165 =	0
   3672  10000 ????		00 00	    sprite_spaceship3_color164 =	0
   3673  10000 ????		00 00	    sprite_spaceship3_color163 =	0
   3674  10000 ????		00 00	    sprite_spaceship3_color162 =	0
   3675  10000 ????		00 00	    sprite_spaceship3_color161 =	0
   3676  10000 ????		00 00	    sprite_spaceship3_color160 =	0
   3677  10000 ????		00 00	    sprite_spaceship3_color159 =	0
   3678  10000 ????		00 00	    sprite_spaceship3_color158 =	0
   3679  10000 ????		00 00	    sprite_spaceship3_color157 =	0
   3680  10000 ????		00 00	    sprite_spaceship3_color156 =	0
   3681  10000 ????		00 00	    sprite_spaceship3_color155 =	0
   3682  10000 ????		00 00	    sprite_spaceship3_color154 =	0
   3683  10000 ????		00 00	    sprite_spaceship3_color153 =	0
   3684  10000 ????		00 00	    sprite_spaceship3_color152 =	0
   3685  10000 ????		00 00	    sprite_spaceship3_color151 =	0
   3686  10000 ????		00 00	    sprite_spaceship3_color150 =	0
   3687  10000 ????		00 00	    sprite_spaceship3_color149 =	0
   3688  10000 ????		00 00	    sprite_spaceship3_color148 =	0
   3689  10000 ????		00 00	    sprite_spaceship3_color147 =	0
   3690  10000 ????		00 00	    sprite_spaceship3_color146 =	0
   3691  10000 ????		00 00	    sprite_spaceship3_color145 =	0
   3692  10000 ????		00 00	    sprite_spaceship3_color144 =	0
   3693  10000 ????		00 00	    sprite_spaceship3_color143 =	0
   3694  10000 ????		00 00	    sprite_spaceship3_color142 =	0
   3695  10000 ????		00 00	    sprite_spaceship3_color141 =	0
   3696  10000 ????		00 00	    sprite_spaceship3_color140 =	0
   3697  10000 ????		00 00	    sprite_spaceship3_color139 =	0
   3698  10000 ????		00 00	    sprite_spaceship3_color138 =	0
   3699  10000 ????		00 00	    sprite_spaceship3_color137 =	0
   3700  10000 ????		00 00	    sprite_spaceship3_color136 =	0
   3701  10000 ????		00 00	    sprite_spaceship3_color135 =	0
   3702  10000 ????		00 00	    sprite_spaceship3_color134 =	0
   3703  10000 ????		00 00	    sprite_spaceship3_color133 =	0
   3704  10000 ????		00 00	    sprite_spaceship3_color132 =	0
   3705  10000 ????		00 00	    sprite_spaceship3_color131 =	0
   3706  10000 ????		00 00	    sprite_spaceship3_color130 =	0
   3707  10000 ????		00 00	    sprite_spaceship3_color129 =	0
   3708  10000 ????		00 00	    sprite_spaceship3_color128 =	0
   3709  10000 ????		00 00	    sprite_spaceship3_color127 =	0
   3710  10000 ????		00 00	    sprite_spaceship3_color126 =	0
   3711  10000 ????		00 00	    sprite_spaceship3_color125 =	0
   3712  10000 ????		00 00	    sprite_spaceship3_color124 =	0
   3713  10000 ????		00 00	    sprite_spaceship3_color123 =	0
   3714  10000 ????		00 00	    sprite_spaceship3_color122 =	0
   3715  10000 ????		00 00	    sprite_spaceship3_color121 =	0
   3716  10000 ????		00 00	    sprite_spaceship3_color120 =	0
   3717  10000 ????		00 00	    sprite_spaceship3_color119 =	0
   3718  10000 ????		00 00	    sprite_spaceship3_color118 =	0
   3719  10000 ????		00 00	    sprite_spaceship3_color117 =	0
   3720  10000 ????		00 00	    sprite_spaceship3_color116 =	0
   3721  10000 ????		00 00	    sprite_spaceship3_color115 =	0
   3722  10000 ????		00 00	    sprite_spaceship3_color114 =	0
   3723  10000 ????		00 00	    sprite_spaceship3_color113 =	0
   3724  10000 ????		00 00	    sprite_spaceship3_color112 =	0
   3725  10000 ????		00 00	    sprite_spaceship3_color111 =	0
   3726  10000 ????		00 00	    sprite_spaceship3_color110 =	0
   3727  10000 ????		00 00	    sprite_spaceship3_color109 =	0
   3728  10000 ????		00 00	    sprite_spaceship3_color108 =	0
   3729  10000 ????		00 00	    sprite_spaceship3_color107 =	0
   3730  10000 ????		00 00	    sprite_spaceship3_color106 =	0
   3731  10000 ????		00 00	    sprite_spaceship3_color105 =	0
   3732  10000 ????		00 00	    sprite_spaceship3_color104 =	0
   3733  10000 ????		00 00	    sprite_spaceship3_color103 =	0
   3734  10000 ????		00 00	    sprite_spaceship3_color102 =	0
   3735  10000 ????		00 00	    sprite_spaceship3_color101 =	0
   3736  10000 ????		00 00	    sprite_spaceship3_color100 =	0
   3737  10000 ????		00 00	    sprite_spaceship3_color99 =	0
   3738  10000 ????		00 00	    sprite_spaceship3_color98 =	0
   3739  10000 ????		00 00	    sprite_spaceship3_color97 =	0
   3740  10000 ????		00 00	    sprite_spaceship3_color96 =	0
   3741  10000 ????		00 00	    sprite_spaceship3_color95 =	0
   3742  10000 ????		00 00	    sprite_spaceship3_color94 =	0
   3743  10000 ????		00 00	    sprite_spaceship3_color93 =	0
   3744  10000 ????		00 00	    sprite_spaceship3_color92 =	0
   3745  10000 ????		00 00	    sprite_spaceship3_color91 =	0
   3746  10000 ????		00 00	    sprite_spaceship3_color90 =	0
   3747  10000 ????		00 00	    sprite_spaceship3_color89 =	0
   3748  10000 ????		00 00	    sprite_spaceship3_color88 =	0
   3749  10000 ????		00 00	    sprite_spaceship3_color87 =	0
   3750  10000 ????		00 00	    sprite_spaceship3_color86 =	0
   3751  10000 ????		00 00	    sprite_spaceship3_color85 =	0
   3752  10000 ????		00 00	    sprite_spaceship3_color84 =	0
   3753  10000 ????		00 00	    sprite_spaceship3_color83 =	0
   3754  10000 ????		00 00	    sprite_spaceship3_color82 =	0
   3755  10000 ????		00 00	    sprite_spaceship3_color81 =	0
   3756  10000 ????		00 00	    sprite_spaceship3_color80 =	0
   3757  10000 ????		00 00	    sprite_spaceship3_color79 =	0
   3758  10000 ????		00 00	    sprite_spaceship3_color78 =	0
   3759  10000 ????		00 00	    sprite_spaceship3_color77 =	0
   3760  10000 ????		00 00	    sprite_spaceship3_color76 =	0
   3761  10000 ????		00 00	    sprite_spaceship3_color75 =	0
   3762  10000 ????		00 00	    sprite_spaceship3_color74 =	0
   3763  10000 ????		00 00	    sprite_spaceship3_color73 =	0
   3764  10000 ????		00 00	    sprite_spaceship3_color72 =	0
   3765  10000 ????		00 00	    sprite_spaceship3_color71 =	0
   3766  10000 ????		00 00	    sprite_spaceship3_color70 =	0
   3767  10000 ????		00 00	    sprite_spaceship3_color69 =	0
   3768  10000 ????		00 00	    sprite_spaceship3_color68 =	0
   3769  10000 ????		00 00	    sprite_spaceship3_color67 =	0
   3770  10000 ????		00 00	    sprite_spaceship3_color66 =	0
   3771  10000 ????		00 00	    sprite_spaceship3_color65 =	0
   3772  10000 ????		00 00	    sprite_spaceship3_color64 =	0
   3773  10000 ????		00 00	    sprite_spaceship3_color63 =	0
   3774  10000 ????		00 00	    sprite_spaceship3_color62 =	0
   3775  10000 ????		00 00	    sprite_spaceship3_color61 =	0
   3776  10000 ????		00 00	    sprite_spaceship3_color60 =	0
   3777  10000 ????		00 00	    sprite_spaceship3_color59 =	0
   3778  10000 ????		00 00	    sprite_spaceship3_color58 =	0
   3779  10000 ????		00 00	    sprite_spaceship3_color57 =	0
   3780  10000 ????		00 00	    sprite_spaceship3_color56 =	0
   3781  10000 ????		00 00	    sprite_spaceship3_color55 =	0
   3782  10000 ????		00 00	    sprite_spaceship3_color54 =	0
   3783  10000 ????		00 00	    sprite_spaceship3_color53 =	0
   3784  10000 ????		00 00	    sprite_spaceship3_color52 =	0
   3785  10000 ????		00 00	    sprite_spaceship3_color51 =	0
   3786  10000 ????		00 00	    sprite_spaceship3_color50 =	0
   3787  10000 ????		00 00	    sprite_spaceship3_color49 =	0
   3788  10000 ????		00 00	    sprite_spaceship3_color48 =	0
   3789  10000 ????		00 00	    sprite_spaceship3_color47 =	0
   3790  10000 ????		00 00	    sprite_spaceship3_color46 =	0
   3791  10000 ????		00 00	    sprite_spaceship3_color45 =	0
   3792  10000 ????		00 00	    sprite_spaceship3_color44 =	0
   3793  10000 ????		00 00	    sprite_spaceship3_color43 =	0
   3794  10000 ????		00 00	    sprite_spaceship3_color42 =	0
   3795  10000 ????		00 00	    sprite_spaceship3_color41 =	0
   3796  10000 ????		00 00	    sprite_spaceship3_color40 =	0
   3797  10000 ????		00 00	    sprite_spaceship3_color39 =	0
   3798  10000 ????		00 00	    sprite_spaceship3_color38 =	0
   3799  10000 ????		00 00	    sprite_spaceship3_color37 =	0
   3800  10000 ????		00 00	    sprite_spaceship3_color36 =	0
   3801  10000 ????		00 00	    sprite_spaceship3_color35 =	0
   3802  10000 ????		00 00	    sprite_spaceship3_color34 =	0
   3803  10000 ????		00 00	    sprite_spaceship3_color33 =	0
   3804  10000 ????		00 00	    sprite_spaceship3_color32 =	0
   3805  10000 ????		00 00	    sprite_spaceship3_color31 =	0
   3806  10000 ????		00 00	    sprite_spaceship3_color30 =	0
   3807  10000 ????		00 00	    sprite_spaceship3_color29 =	0
   3808  10000 ????		00 00	    sprite_spaceship3_color28 =	0
   3809  10000 ????		00 00	    sprite_spaceship3_color27 =	0
   3810  10000 ????		00 00	    sprite_spaceship3_color26 =	0
   3811  10000 ????		00 00	    sprite_spaceship3_color25 =	0
   3812  10000 ????		00 00	    sprite_spaceship3_color24 =	0
   3813  10000 ????		00 00	    sprite_spaceship3_color23 =	0
   3814  10000 ????		00 00	    sprite_spaceship3_color22 =	0
   3815  10000 ????		00 00	    sprite_spaceship3_color21 =	0
   3816  10000 ????		00 00	    sprite_spaceship3_color20 =	0
   3817  10000 ????		00 00	    sprite_spaceship3_color19 =	0
   3818  10000 ????		00 00	    sprite_spaceship3_color18 =	0
   3819  10000 ????		00 00	    sprite_spaceship3_color17 =	0
   3820  10000 ????		00 00	    sprite_spaceship3_color16 =	0
   3821  10000 ????		00 00	    sprite_spaceship3_color15 =	0
   3822  10000 ????		00 00	    sprite_spaceship3_color14 =	0
   3823  10000 ????		00 00	    sprite_spaceship3_color13 =	0
   3824  10000 ????		00 00	    sprite_spaceship3_color12 =	0
   3825  10000 ????		00 00	    sprite_spaceship3_color11 =	0
   3826  10000 ????		00 00	    sprite_spaceship3_color10 =	0
   3827  10000 ????		00 00	    sprite_spaceship3_color9 =	0
   3828  10000 ????		00 00	    sprite_spaceship3_color8 =	0
   3829  10000 ????		00 00	    sprite_spaceship3_color7 =	0
   3830  10000 ????		00 00	    sprite_spaceship3_color6 =	0
   3831  10000 ????		00 00	    sprite_spaceship3_color5 =	0
   3832  10000 ????		00 00	    sprite_spaceship3_color4 =	0
   3833  10000 ????		00 1e	    sprite_spaceship3_color3 =	$1e
   3834  10000 ????		00 81	    sprite_spaceship3_color2 =	$81
   3835  10000 ????		00 44	    sprite_spaceship3_color1 =	$44
   3836  10000 ????		00 00	    sprite_spaceship3_color0 =	$00
   3837  10000 ????		00 00	    sprite_spaceship2_color255 =	0
   3838  10000 ????		00 00	    sprite_spaceship2_color254 =	0
   3839  10000 ????		00 00	    sprite_spaceship2_color253 =	0
   3840  10000 ????		00 00	    sprite_spaceship2_color252 =	0
   3841  10000 ????		00 00	    sprite_spaceship2_color251 =	0
   3842  10000 ????		00 00	    sprite_spaceship2_color250 =	0
   3843  10000 ????		00 00	    sprite_spaceship2_color249 =	0
   3844  10000 ????		00 00	    sprite_spaceship2_color248 =	0
   3845  10000 ????		00 00	    sprite_spaceship2_color247 =	0
   3846  10000 ????		00 00	    sprite_spaceship2_color246 =	0
   3847  10000 ????		00 00	    sprite_spaceship2_color245 =	0
   3848  10000 ????		00 00	    sprite_spaceship2_color244 =	0
   3849  10000 ????		00 00	    sprite_spaceship2_color243 =	0
   3850  10000 ????		00 00	    sprite_spaceship2_color242 =	0
   3851  10000 ????		00 00	    sprite_spaceship2_color241 =	0
   3852  10000 ????		00 00	    sprite_spaceship2_color240 =	0
   3853  10000 ????		00 00	    sprite_spaceship2_color239 =	0
   3854  10000 ????		00 00	    sprite_spaceship2_color238 =	0
   3855  10000 ????		00 00	    sprite_spaceship2_color237 =	0
   3856  10000 ????		00 00	    sprite_spaceship2_color236 =	0
   3857  10000 ????		00 00	    sprite_spaceship2_color235 =	0
   3858  10000 ????		00 00	    sprite_spaceship2_color234 =	0
   3859  10000 ????		00 00	    sprite_spaceship2_color233 =	0
   3860  10000 ????		00 00	    sprite_spaceship2_color232 =	0
   3861  10000 ????		00 00	    sprite_spaceship2_color231 =	0
   3862  10000 ????		00 00	    sprite_spaceship2_color230 =	0
   3863  10000 ????		00 00	    sprite_spaceship2_color229 =	0
   3864  10000 ????		00 00	    sprite_spaceship2_color228 =	0
   3865  10000 ????		00 00	    sprite_spaceship2_color227 =	0
   3866  10000 ????		00 00	    sprite_spaceship2_color226 =	0
   3867  10000 ????		00 00	    sprite_spaceship2_color225 =	0
   3868  10000 ????		00 00	    sprite_spaceship2_color224 =	0
   3869  10000 ????		00 00	    sprite_spaceship2_color223 =	0
   3870  10000 ????		00 00	    sprite_spaceship2_color222 =	0
   3871  10000 ????		00 00	    sprite_spaceship2_color221 =	0
   3872  10000 ????		00 00	    sprite_spaceship2_color220 =	0
   3873  10000 ????		00 00	    sprite_spaceship2_color219 =	0
   3874  10000 ????		00 00	    sprite_spaceship2_color218 =	0
   3875  10000 ????		00 00	    sprite_spaceship2_color217 =	0
   3876  10000 ????		00 00	    sprite_spaceship2_color216 =	0
   3877  10000 ????		00 00	    sprite_spaceship2_color215 =	0
   3878  10000 ????		00 00	    sprite_spaceship2_color214 =	0
   3879  10000 ????		00 00	    sprite_spaceship2_color213 =	0
   3880  10000 ????		00 00	    sprite_spaceship2_color212 =	0
   3881  10000 ????		00 00	    sprite_spaceship2_color211 =	0
   3882  10000 ????		00 00	    sprite_spaceship2_color210 =	0
   3883  10000 ????		00 00	    sprite_spaceship2_color209 =	0
   3884  10000 ????		00 00	    sprite_spaceship2_color208 =	0
   3885  10000 ????		00 00	    sprite_spaceship2_color207 =	0
   3886  10000 ????		00 00	    sprite_spaceship2_color206 =	0
   3887  10000 ????		00 00	    sprite_spaceship2_color205 =	0
   3888  10000 ????		00 00	    sprite_spaceship2_color204 =	0
   3889  10000 ????		00 00	    sprite_spaceship2_color203 =	0
   3890  10000 ????		00 00	    sprite_spaceship2_color202 =	0
   3891  10000 ????		00 00	    sprite_spaceship2_color201 =	0
   3892  10000 ????		00 00	    sprite_spaceship2_color200 =	0
   3893  10000 ????		00 00	    sprite_spaceship2_color199 =	0
   3894  10000 ????		00 00	    sprite_spaceship2_color198 =	0
   3895  10000 ????		00 00	    sprite_spaceship2_color197 =	0
   3896  10000 ????		00 00	    sprite_spaceship2_color196 =	0
   3897  10000 ????		00 00	    sprite_spaceship2_color195 =	0
   3898  10000 ????		00 00	    sprite_spaceship2_color194 =	0
   3899  10000 ????		00 00	    sprite_spaceship2_color193 =	0
   3900  10000 ????		00 00	    sprite_spaceship2_color192 =	0
   3901  10000 ????		00 00	    sprite_spaceship2_color191 =	0
   3902  10000 ????		00 00	    sprite_spaceship2_color190 =	0
   3903  10000 ????		00 00	    sprite_spaceship2_color189 =	0
   3904  10000 ????		00 00	    sprite_spaceship2_color188 =	0
   3905  10000 ????		00 00	    sprite_spaceship2_color187 =	0
   3906  10000 ????		00 00	    sprite_spaceship2_color186 =	0
   3907  10000 ????		00 00	    sprite_spaceship2_color185 =	0
   3908  10000 ????		00 00	    sprite_spaceship2_color184 =	0
   3909  10000 ????		00 00	    sprite_spaceship2_color183 =	0
   3910  10000 ????		00 00	    sprite_spaceship2_color182 =	0
   3911  10000 ????		00 00	    sprite_spaceship2_color181 =	0
   3912  10000 ????		00 00	    sprite_spaceship2_color180 =	0
   3913  10000 ????		00 00	    sprite_spaceship2_color179 =	0
   3914  10000 ????		00 00	    sprite_spaceship2_color178 =	0
   3915  10000 ????		00 00	    sprite_spaceship2_color177 =	0
   3916  10000 ????		00 00	    sprite_spaceship2_color176 =	0
   3917  10000 ????		00 00	    sprite_spaceship2_color175 =	0
   3918  10000 ????		00 00	    sprite_spaceship2_color174 =	0
   3919  10000 ????		00 00	    sprite_spaceship2_color173 =	0
   3920  10000 ????		00 00	    sprite_spaceship2_color172 =	0
   3921  10000 ????		00 00	    sprite_spaceship2_color171 =	0
   3922  10000 ????		00 00	    sprite_spaceship2_color170 =	0
   3923  10000 ????		00 00	    sprite_spaceship2_color169 =	0
   3924  10000 ????		00 00	    sprite_spaceship2_color168 =	0
   3925  10000 ????		00 00	    sprite_spaceship2_color167 =	0
   3926  10000 ????		00 00	    sprite_spaceship2_color166 =	0
   3927  10000 ????		00 00	    sprite_spaceship2_color165 =	0
   3928  10000 ????		00 00	    sprite_spaceship2_color164 =	0
   3929  10000 ????		00 00	    sprite_spaceship2_color163 =	0
   3930  10000 ????		00 00	    sprite_spaceship2_color162 =	0
   3931  10000 ????		00 00	    sprite_spaceship2_color161 =	0
   3932  10000 ????		00 00	    sprite_spaceship2_color160 =	0
   3933  10000 ????		00 00	    sprite_spaceship2_color159 =	0
   3934  10000 ????		00 00	    sprite_spaceship2_color158 =	0
   3935  10000 ????		00 00	    sprite_spaceship2_color157 =	0
   3936  10000 ????		00 00	    sprite_spaceship2_color156 =	0
   3937  10000 ????		00 00	    sprite_spaceship2_color155 =	0
   3938  10000 ????		00 00	    sprite_spaceship2_color154 =	0
   3939  10000 ????		00 00	    sprite_spaceship2_color153 =	0
   3940  10000 ????		00 00	    sprite_spaceship2_color152 =	0
   3941  10000 ????		00 00	    sprite_spaceship2_color151 =	0
   3942  10000 ????		00 00	    sprite_spaceship2_color150 =	0
   3943  10000 ????		00 00	    sprite_spaceship2_color149 =	0
   3944  10000 ????		00 00	    sprite_spaceship2_color148 =	0
   3945  10000 ????		00 00	    sprite_spaceship2_color147 =	0
   3946  10000 ????		00 00	    sprite_spaceship2_color146 =	0
   3947  10000 ????		00 00	    sprite_spaceship2_color145 =	0
   3948  10000 ????		00 00	    sprite_spaceship2_color144 =	0
   3949  10000 ????		00 00	    sprite_spaceship2_color143 =	0
   3950  10000 ????		00 00	    sprite_spaceship2_color142 =	0
   3951  10000 ????		00 00	    sprite_spaceship2_color141 =	0
   3952  10000 ????		00 00	    sprite_spaceship2_color140 =	0
   3953  10000 ????		00 00	    sprite_spaceship2_color139 =	0
   3954  10000 ????		00 00	    sprite_spaceship2_color138 =	0
   3955  10000 ????		00 00	    sprite_spaceship2_color137 =	0
   3956  10000 ????		00 00	    sprite_spaceship2_color136 =	0
   3957  10000 ????		00 00	    sprite_spaceship2_color135 =	0
   3958  10000 ????		00 00	    sprite_spaceship2_color134 =	0
   3959  10000 ????		00 00	    sprite_spaceship2_color133 =	0
   3960  10000 ????		00 00	    sprite_spaceship2_color132 =	0
   3961  10000 ????		00 00	    sprite_spaceship2_color131 =	0
   3962  10000 ????		00 00	    sprite_spaceship2_color130 =	0
   3963  10000 ????		00 00	    sprite_spaceship2_color129 =	0
   3964  10000 ????		00 00	    sprite_spaceship2_color128 =	0
   3965  10000 ????		00 00	    sprite_spaceship2_color127 =	0
   3966  10000 ????		00 00	    sprite_spaceship2_color126 =	0
   3967  10000 ????		00 00	    sprite_spaceship2_color125 =	0
   3968  10000 ????		00 00	    sprite_spaceship2_color124 =	0
   3969  10000 ????		00 00	    sprite_spaceship2_color123 =	0
   3970  10000 ????		00 00	    sprite_spaceship2_color122 =	0
   3971  10000 ????		00 00	    sprite_spaceship2_color121 =	0
   3972  10000 ????		00 00	    sprite_spaceship2_color120 =	0
   3973  10000 ????		00 00	    sprite_spaceship2_color119 =	0
   3974  10000 ????		00 00	    sprite_spaceship2_color118 =	0
   3975  10000 ????		00 00	    sprite_spaceship2_color117 =	0
   3976  10000 ????		00 00	    sprite_spaceship2_color116 =	0
   3977  10000 ????		00 00	    sprite_spaceship2_color115 =	0
   3978  10000 ????		00 00	    sprite_spaceship2_color114 =	0
   3979  10000 ????		00 00	    sprite_spaceship2_color113 =	0
   3980  10000 ????		00 00	    sprite_spaceship2_color112 =	0
   3981  10000 ????		00 00	    sprite_spaceship2_color111 =	0
   3982  10000 ????		00 00	    sprite_spaceship2_color110 =	0
   3983  10000 ????		00 00	    sprite_spaceship2_color109 =	0
   3984  10000 ????		00 00	    sprite_spaceship2_color108 =	0
   3985  10000 ????		00 00	    sprite_spaceship2_color107 =	0
   3986  10000 ????		00 00	    sprite_spaceship2_color106 =	0
   3987  10000 ????		00 00	    sprite_spaceship2_color105 =	0
   3988  10000 ????		00 00	    sprite_spaceship2_color104 =	0
   3989  10000 ????		00 00	    sprite_spaceship2_color103 =	0
   3990  10000 ????		00 00	    sprite_spaceship2_color102 =	0
   3991  10000 ????		00 00	    sprite_spaceship2_color101 =	0
   3992  10000 ????		00 00	    sprite_spaceship2_color100 =	0
   3993  10000 ????		00 00	    sprite_spaceship2_color99 =	0
   3994  10000 ????		00 00	    sprite_spaceship2_color98 =	0
   3995  10000 ????		00 00	    sprite_spaceship2_color97 =	0
   3996  10000 ????		00 00	    sprite_spaceship2_color96 =	0
   3997  10000 ????		00 00	    sprite_spaceship2_color95 =	0
   3998  10000 ????		00 00	    sprite_spaceship2_color94 =	0
   3999  10000 ????		00 00	    sprite_spaceship2_color93 =	0
   4000  10000 ????		00 00	    sprite_spaceship2_color92 =	0
   4001  10000 ????		00 00	    sprite_spaceship2_color91 =	0
   4002  10000 ????		00 00	    sprite_spaceship2_color90 =	0
   4003  10000 ????		00 00	    sprite_spaceship2_color89 =	0
   4004  10000 ????		00 00	    sprite_spaceship2_color88 =	0
   4005  10000 ????		00 00	    sprite_spaceship2_color87 =	0
   4006  10000 ????		00 00	    sprite_spaceship2_color86 =	0
   4007  10000 ????		00 00	    sprite_spaceship2_color85 =	0
   4008  10000 ????		00 00	    sprite_spaceship2_color84 =	0
   4009  10000 ????		00 00	    sprite_spaceship2_color83 =	0
   4010  10000 ????		00 00	    sprite_spaceship2_color82 =	0
   4011  10000 ????		00 00	    sprite_spaceship2_color81 =	0
   4012  10000 ????		00 00	    sprite_spaceship2_color80 =	0
   4013  10000 ????		00 00	    sprite_spaceship2_color79 =	0
   4014  10000 ????		00 00	    sprite_spaceship2_color78 =	0
   4015  10000 ????		00 00	    sprite_spaceship2_color77 =	0
   4016  10000 ????		00 00	    sprite_spaceship2_color76 =	0
   4017  10000 ????		00 00	    sprite_spaceship2_color75 =	0
   4018  10000 ????		00 00	    sprite_spaceship2_color74 =	0
   4019  10000 ????		00 00	    sprite_spaceship2_color73 =	0
   4020  10000 ????		00 00	    sprite_spaceship2_color72 =	0
   4021  10000 ????		00 00	    sprite_spaceship2_color71 =	0
   4022  10000 ????		00 00	    sprite_spaceship2_color70 =	0
   4023  10000 ????		00 00	    sprite_spaceship2_color69 =	0
   4024  10000 ????		00 00	    sprite_spaceship2_color68 =	0
   4025  10000 ????		00 00	    sprite_spaceship2_color67 =	0
   4026  10000 ????		00 00	    sprite_spaceship2_color66 =	0
   4027  10000 ????		00 00	    sprite_spaceship2_color65 =	0
   4028  10000 ????		00 00	    sprite_spaceship2_color64 =	0
   4029  10000 ????		00 00	    sprite_spaceship2_color63 =	0
   4030  10000 ????		00 00	    sprite_spaceship2_color62 =	0
   4031  10000 ????		00 00	    sprite_spaceship2_color61 =	0
   4032  10000 ????		00 00	    sprite_spaceship2_color60 =	0
   4033  10000 ????		00 00	    sprite_spaceship2_color59 =	0
   4034  10000 ????		00 00	    sprite_spaceship2_color58 =	0
   4035  10000 ????		00 00	    sprite_spaceship2_color57 =	0
   4036  10000 ????		00 00	    sprite_spaceship2_color56 =	0
   4037  10000 ????		00 00	    sprite_spaceship2_color55 =	0
   4038  10000 ????		00 00	    sprite_spaceship2_color54 =	0
   4039  10000 ????		00 00	    sprite_spaceship2_color53 =	0
   4040  10000 ????		00 00	    sprite_spaceship2_color52 =	0
   4041  10000 ????		00 00	    sprite_spaceship2_color51 =	0
   4042  10000 ????		00 00	    sprite_spaceship2_color50 =	0
   4043  10000 ????		00 00	    sprite_spaceship2_color49 =	0
   4044  10000 ????		00 00	    sprite_spaceship2_color48 =	0
   4045  10000 ????		00 00	    sprite_spaceship2_color47 =	0
   4046  10000 ????		00 00	    sprite_spaceship2_color46 =	0
   4047  10000 ????		00 00	    sprite_spaceship2_color45 =	0
   4048  10000 ????		00 00	    sprite_spaceship2_color44 =	0
   4049  10000 ????		00 00	    sprite_spaceship2_color43 =	0
   4050  10000 ????		00 00	    sprite_spaceship2_color42 =	0
   4051  10000 ????		00 00	    sprite_spaceship2_color41 =	0
   4052  10000 ????		00 00	    sprite_spaceship2_color40 =	0
   4053  10000 ????		00 00	    sprite_spaceship2_color39 =	0
   4054  10000 ????		00 00	    sprite_spaceship2_color38 =	0
   4055  10000 ????		00 00	    sprite_spaceship2_color37 =	0
   4056  10000 ????		00 00	    sprite_spaceship2_color36 =	0
   4057  10000 ????		00 00	    sprite_spaceship2_color35 =	0
   4058  10000 ????		00 00	    sprite_spaceship2_color34 =	0
   4059  10000 ????		00 00	    sprite_spaceship2_color33 =	0
   4060  10000 ????		00 00	    sprite_spaceship2_color32 =	0
   4061  10000 ????		00 00	    sprite_spaceship2_color31 =	0
   4062  10000 ????		00 00	    sprite_spaceship2_color30 =	0
   4063  10000 ????		00 00	    sprite_spaceship2_color29 =	0
   4064  10000 ????		00 00	    sprite_spaceship2_color28 =	0
   4065  10000 ????		00 00	    sprite_spaceship2_color27 =	0
   4066  10000 ????		00 00	    sprite_spaceship2_color26 =	0
   4067  10000 ????		00 00	    sprite_spaceship2_color25 =	0
   4068  10000 ????		00 00	    sprite_spaceship2_color24 =	0
   4069  10000 ????		00 00	    sprite_spaceship2_color23 =	0
   4070  10000 ????		00 00	    sprite_spaceship2_color22 =	0
   4071  10000 ????		00 00	    sprite_spaceship2_color21 =	0
   4072  10000 ????		00 00	    sprite_spaceship2_color20 =	0
   4073  10000 ????		00 00	    sprite_spaceship2_color19 =	0
   4074  10000 ????		00 00	    sprite_spaceship2_color18 =	0
   4075  10000 ????		00 00	    sprite_spaceship2_color17 =	0
   4076  10000 ????		00 00	    sprite_spaceship2_color16 =	0
   4077  10000 ????		00 00	    sprite_spaceship2_color15 =	0
   4078  10000 ????		00 00	    sprite_spaceship2_color14 =	0
   4079  10000 ????		00 00	    sprite_spaceship2_color13 =	0
   4080  10000 ????		00 00	    sprite_spaceship2_color12 =	0
   4081  10000 ????		00 00	    sprite_spaceship2_color11 =	0
   4082  10000 ????		00 00	    sprite_spaceship2_color10 =	0
   4083  10000 ????		00 00	    sprite_spaceship2_color9 =	0
   4084  10000 ????		00 00	    sprite_spaceship2_color8 =	0
   4085  10000 ????		00 00	    sprite_spaceship2_color7 =	0
   4086  10000 ????		00 00	    sprite_spaceship2_color6 =	0
   4087  10000 ????		00 00	    sprite_spaceship2_color5 =	0
   4088  10000 ????		00 00	    sprite_spaceship2_color4 =	0
   4089  10000 ????		00 1e	    sprite_spaceship2_color3 =	$1e
   4090  10000 ????		00 81	    sprite_spaceship2_color2 =	$81
   4091  10000 ????		00 44	    sprite_spaceship2_color1 =	$44
   4092  10000 ????		00 00	    sprite_spaceship2_color0 =	$00
   4093  10000 ????		00 00	    sprite_spaceship1_color255 =	0
   4094  10000 ????		00 00	    sprite_spaceship1_color254 =	0
   4095  10000 ????		00 00	    sprite_spaceship1_color253 =	0
   4096  10000 ????		00 00	    sprite_spaceship1_color252 =	0
   4097  10000 ????		00 00	    sprite_spaceship1_color251 =	0
   4098  10000 ????		00 00	    sprite_spaceship1_color250 =	0
   4099  10000 ????		00 00	    sprite_spaceship1_color249 =	0
   4100  10000 ????		00 00	    sprite_spaceship1_color248 =	0
   4101  10000 ????		00 00	    sprite_spaceship1_color247 =	0
   4102  10000 ????		00 00	    sprite_spaceship1_color246 =	0
   4103  10000 ????		00 00	    sprite_spaceship1_color245 =	0
   4104  10000 ????		00 00	    sprite_spaceship1_color244 =	0
   4105  10000 ????		00 00	    sprite_spaceship1_color243 =	0
   4106  10000 ????		00 00	    sprite_spaceship1_color242 =	0
   4107  10000 ????		00 00	    sprite_spaceship1_color241 =	0
   4108  10000 ????		00 00	    sprite_spaceship1_color240 =	0
   4109  10000 ????		00 00	    sprite_spaceship1_color239 =	0
   4110  10000 ????		00 00	    sprite_spaceship1_color238 =	0
   4111  10000 ????		00 00	    sprite_spaceship1_color237 =	0
   4112  10000 ????		00 00	    sprite_spaceship1_color236 =	0
   4113  10000 ????		00 00	    sprite_spaceship1_color235 =	0
   4114  10000 ????		00 00	    sprite_spaceship1_color234 =	0
   4115  10000 ????		00 00	    sprite_spaceship1_color233 =	0
   4116  10000 ????		00 00	    sprite_spaceship1_color232 =	0
   4117  10000 ????		00 00	    sprite_spaceship1_color231 =	0
   4118  10000 ????		00 00	    sprite_spaceship1_color230 =	0
   4119  10000 ????		00 00	    sprite_spaceship1_color229 =	0
   4120  10000 ????		00 00	    sprite_spaceship1_color228 =	0
   4121  10000 ????		00 00	    sprite_spaceship1_color227 =	0
   4122  10000 ????		00 00	    sprite_spaceship1_color226 =	0
   4123  10000 ????		00 00	    sprite_spaceship1_color225 =	0
   4124  10000 ????		00 00	    sprite_spaceship1_color224 =	0
   4125  10000 ????		00 00	    sprite_spaceship1_color223 =	0
   4126  10000 ????		00 00	    sprite_spaceship1_color222 =	0
   4127  10000 ????		00 00	    sprite_spaceship1_color221 =	0
   4128  10000 ????		00 00	    sprite_spaceship1_color220 =	0
   4129  10000 ????		00 00	    sprite_spaceship1_color219 =	0
   4130  10000 ????		00 00	    sprite_spaceship1_color218 =	0
   4131  10000 ????		00 00	    sprite_spaceship1_color217 =	0
   4132  10000 ????		00 00	    sprite_spaceship1_color216 =	0
   4133  10000 ????		00 00	    sprite_spaceship1_color215 =	0
   4134  10000 ????		00 00	    sprite_spaceship1_color214 =	0
   4135  10000 ????		00 00	    sprite_spaceship1_color213 =	0
   4136  10000 ????		00 00	    sprite_spaceship1_color212 =	0
   4137  10000 ????		00 00	    sprite_spaceship1_color211 =	0
   4138  10000 ????		00 00	    sprite_spaceship1_color210 =	0
   4139  10000 ????		00 00	    sprite_spaceship1_color209 =	0
   4140  10000 ????		00 00	    sprite_spaceship1_color208 =	0
   4141  10000 ????		00 00	    sprite_spaceship1_color207 =	0
   4142  10000 ????		00 00	    sprite_spaceship1_color206 =	0
   4143  10000 ????		00 00	    sprite_spaceship1_color205 =	0
   4144  10000 ????		00 00	    sprite_spaceship1_color204 =	0
   4145  10000 ????		00 00	    sprite_spaceship1_color203 =	0
   4146  10000 ????		00 00	    sprite_spaceship1_color202 =	0
   4147  10000 ????		00 00	    sprite_spaceship1_color201 =	0
   4148  10000 ????		00 00	    sprite_spaceship1_color200 =	0
   4149  10000 ????		00 00	    sprite_spaceship1_color199 =	0
   4150  10000 ????		00 00	    sprite_spaceship1_color198 =	0
   4151  10000 ????		00 00	    sprite_spaceship1_color197 =	0
   4152  10000 ????		00 00	    sprite_spaceship1_color196 =	0
   4153  10000 ????		00 00	    sprite_spaceship1_color195 =	0
   4154  10000 ????		00 00	    sprite_spaceship1_color194 =	0
   4155  10000 ????		00 00	    sprite_spaceship1_color193 =	0
   4156  10000 ????		00 00	    sprite_spaceship1_color192 =	0
   4157  10000 ????		00 00	    sprite_spaceship1_color191 =	0
   4158  10000 ????		00 00	    sprite_spaceship1_color190 =	0
   4159  10000 ????		00 00	    sprite_spaceship1_color189 =	0
   4160  10000 ????		00 00	    sprite_spaceship1_color188 =	0
   4161  10000 ????		00 00	    sprite_spaceship1_color187 =	0
   4162  10000 ????		00 00	    sprite_spaceship1_color186 =	0
   4163  10000 ????		00 00	    sprite_spaceship1_color185 =	0
   4164  10000 ????		00 00	    sprite_spaceship1_color184 =	0
   4165  10000 ????		00 00	    sprite_spaceship1_color183 =	0
   4166  10000 ????		00 00	    sprite_spaceship1_color182 =	0
   4167  10000 ????		00 00	    sprite_spaceship1_color181 =	0
   4168  10000 ????		00 00	    sprite_spaceship1_color180 =	0
   4169  10000 ????		00 00	    sprite_spaceship1_color179 =	0
   4170  10000 ????		00 00	    sprite_spaceship1_color178 =	0
   4171  10000 ????		00 00	    sprite_spaceship1_color177 =	0
   4172  10000 ????		00 00	    sprite_spaceship1_color176 =	0
   4173  10000 ????		00 00	    sprite_spaceship1_color175 =	0
   4174  10000 ????		00 00	    sprite_spaceship1_color174 =	0
   4175  10000 ????		00 00	    sprite_spaceship1_color173 =	0
   4176  10000 ????		00 00	    sprite_spaceship1_color172 =	0
   4177  10000 ????		00 00	    sprite_spaceship1_color171 =	0
   4178  10000 ????		00 00	    sprite_spaceship1_color170 =	0
   4179  10000 ????		00 00	    sprite_spaceship1_color169 =	0
   4180  10000 ????		00 00	    sprite_spaceship1_color168 =	0
   4181  10000 ????		00 00	    sprite_spaceship1_color167 =	0
   4182  10000 ????		00 00	    sprite_spaceship1_color166 =	0
   4183  10000 ????		00 00	    sprite_spaceship1_color165 =	0
   4184  10000 ????		00 00	    sprite_spaceship1_color164 =	0
   4185  10000 ????		00 00	    sprite_spaceship1_color163 =	0
   4186  10000 ????		00 00	    sprite_spaceship1_color162 =	0
   4187  10000 ????		00 00	    sprite_spaceship1_color161 =	0
   4188  10000 ????		00 00	    sprite_spaceship1_color160 =	0
   4189  10000 ????		00 00	    sprite_spaceship1_color159 =	0
   4190  10000 ????		00 00	    sprite_spaceship1_color158 =	0
   4191  10000 ????		00 00	    sprite_spaceship1_color157 =	0
   4192  10000 ????		00 00	    sprite_spaceship1_color156 =	0
   4193  10000 ????		00 00	    sprite_spaceship1_color155 =	0
   4194  10000 ????		00 00	    sprite_spaceship1_color154 =	0
   4195  10000 ????		00 00	    sprite_spaceship1_color153 =	0
   4196  10000 ????		00 00	    sprite_spaceship1_color152 =	0
   4197  10000 ????		00 00	    sprite_spaceship1_color151 =	0
   4198  10000 ????		00 00	    sprite_spaceship1_color150 =	0
   4199  10000 ????		00 00	    sprite_spaceship1_color149 =	0
   4200  10000 ????		00 00	    sprite_spaceship1_color148 =	0
   4201  10000 ????		00 00	    sprite_spaceship1_color147 =	0
   4202  10000 ????		00 00	    sprite_spaceship1_color146 =	0
   4203  10000 ????		00 00	    sprite_spaceship1_color145 =	0
   4204  10000 ????		00 00	    sprite_spaceship1_color144 =	0
   4205  10000 ????		00 00	    sprite_spaceship1_color143 =	0
   4206  10000 ????		00 00	    sprite_spaceship1_color142 =	0
   4207  10000 ????		00 00	    sprite_spaceship1_color141 =	0
   4208  10000 ????		00 00	    sprite_spaceship1_color140 =	0
   4209  10000 ????		00 00	    sprite_spaceship1_color139 =	0
   4210  10000 ????		00 00	    sprite_spaceship1_color138 =	0
   4211  10000 ????		00 00	    sprite_spaceship1_color137 =	0
   4212  10000 ????		00 00	    sprite_spaceship1_color136 =	0
   4213  10000 ????		00 00	    sprite_spaceship1_color135 =	0
   4214  10000 ????		00 00	    sprite_spaceship1_color134 =	0
   4215  10000 ????		00 00	    sprite_spaceship1_color133 =	0
   4216  10000 ????		00 00	    sprite_spaceship1_color132 =	0
   4217  10000 ????		00 00	    sprite_spaceship1_color131 =	0
   4218  10000 ????		00 00	    sprite_spaceship1_color130 =	0
   4219  10000 ????		00 00	    sprite_spaceship1_color129 =	0
   4220  10000 ????		00 00	    sprite_spaceship1_color128 =	0
   4221  10000 ????		00 00	    sprite_spaceship1_color127 =	0
   4222  10000 ????		00 00	    sprite_spaceship1_color126 =	0
   4223  10000 ????		00 00	    sprite_spaceship1_color125 =	0
   4224  10000 ????		00 00	    sprite_spaceship1_color124 =	0
   4225  10000 ????		00 00	    sprite_spaceship1_color123 =	0
   4226  10000 ????		00 00	    sprite_spaceship1_color122 =	0
   4227  10000 ????		00 00	    sprite_spaceship1_color121 =	0
   4228  10000 ????		00 00	    sprite_spaceship1_color120 =	0
   4229  10000 ????		00 00	    sprite_spaceship1_color119 =	0
   4230  10000 ????		00 00	    sprite_spaceship1_color118 =	0
   4231  10000 ????		00 00	    sprite_spaceship1_color117 =	0
   4232  10000 ????		00 00	    sprite_spaceship1_color116 =	0
   4233  10000 ????		00 00	    sprite_spaceship1_color115 =	0
   4234  10000 ????		00 00	    sprite_spaceship1_color114 =	0
   4235  10000 ????		00 00	    sprite_spaceship1_color113 =	0
   4236  10000 ????		00 00	    sprite_spaceship1_color112 =	0
   4237  10000 ????		00 00	    sprite_spaceship1_color111 =	0
   4238  10000 ????		00 00	    sprite_spaceship1_color110 =	0
   4239  10000 ????		00 00	    sprite_spaceship1_color109 =	0
   4240  10000 ????		00 00	    sprite_spaceship1_color108 =	0
   4241  10000 ????		00 00	    sprite_spaceship1_color107 =	0
   4242  10000 ????		00 00	    sprite_spaceship1_color106 =	0
   4243  10000 ????		00 00	    sprite_spaceship1_color105 =	0
   4244  10000 ????		00 00	    sprite_spaceship1_color104 =	0
   4245  10000 ????		00 00	    sprite_spaceship1_color103 =	0
   4246  10000 ????		00 00	    sprite_spaceship1_color102 =	0
   4247  10000 ????		00 00	    sprite_spaceship1_color101 =	0
   4248  10000 ????		00 00	    sprite_spaceship1_color100 =	0
   4249  10000 ????		00 00	    sprite_spaceship1_color99 =	0
   4250  10000 ????		00 00	    sprite_spaceship1_color98 =	0
   4251  10000 ????		00 00	    sprite_spaceship1_color97 =	0
   4252  10000 ????		00 00	    sprite_spaceship1_color96 =	0
   4253  10000 ????		00 00	    sprite_spaceship1_color95 =	0
   4254  10000 ????		00 00	    sprite_spaceship1_color94 =	0
   4255  10000 ????		00 00	    sprite_spaceship1_color93 =	0
   4256  10000 ????		00 00	    sprite_spaceship1_color92 =	0
   4257  10000 ????		00 00	    sprite_spaceship1_color91 =	0
   4258  10000 ????		00 00	    sprite_spaceship1_color90 =	0
   4259  10000 ????		00 00	    sprite_spaceship1_color89 =	0
   4260  10000 ????		00 00	    sprite_spaceship1_color88 =	0
   4261  10000 ????		00 00	    sprite_spaceship1_color87 =	0
   4262  10000 ????		00 00	    sprite_spaceship1_color86 =	0
   4263  10000 ????		00 00	    sprite_spaceship1_color85 =	0
   4264  10000 ????		00 00	    sprite_spaceship1_color84 =	0
   4265  10000 ????		00 00	    sprite_spaceship1_color83 =	0
   4266  10000 ????		00 00	    sprite_spaceship1_color82 =	0
   4267  10000 ????		00 00	    sprite_spaceship1_color81 =	0
   4268  10000 ????		00 00	    sprite_spaceship1_color80 =	0
   4269  10000 ????		00 00	    sprite_spaceship1_color79 =	0
   4270  10000 ????		00 00	    sprite_spaceship1_color78 =	0
   4271  10000 ????		00 00	    sprite_spaceship1_color77 =	0
   4272  10000 ????		00 00	    sprite_spaceship1_color76 =	0
   4273  10000 ????		00 00	    sprite_spaceship1_color75 =	0
   4274  10000 ????		00 00	    sprite_spaceship1_color74 =	0
   4275  10000 ????		00 00	    sprite_spaceship1_color73 =	0
   4276  10000 ????		00 00	    sprite_spaceship1_color72 =	0
   4277  10000 ????		00 00	    sprite_spaceship1_color71 =	0
   4278  10000 ????		00 00	    sprite_spaceship1_color70 =	0
   4279  10000 ????		00 00	    sprite_spaceship1_color69 =	0
   4280  10000 ????		00 00	    sprite_spaceship1_color68 =	0
   4281  10000 ????		00 00	    sprite_spaceship1_color67 =	0
   4282  10000 ????		00 00	    sprite_spaceship1_color66 =	0
   4283  10000 ????		00 00	    sprite_spaceship1_color65 =	0
   4284  10000 ????		00 00	    sprite_spaceship1_color64 =	0
   4285  10000 ????		00 00	    sprite_spaceship1_color63 =	0
   4286  10000 ????		00 00	    sprite_spaceship1_color62 =	0
   4287  10000 ????		00 00	    sprite_spaceship1_color61 =	0
   4288  10000 ????		00 00	    sprite_spaceship1_color60 =	0
   4289  10000 ????		00 00	    sprite_spaceship1_color59 =	0
   4290  10000 ????		00 00	    sprite_spaceship1_color58 =	0
   4291  10000 ????		00 00	    sprite_spaceship1_color57 =	0
   4292  10000 ????		00 00	    sprite_spaceship1_color56 =	0
   4293  10000 ????		00 00	    sprite_spaceship1_color55 =	0
   4294  10000 ????		00 00	    sprite_spaceship1_color54 =	0
   4295  10000 ????		00 00	    sprite_spaceship1_color53 =	0
   4296  10000 ????		00 00	    sprite_spaceship1_color52 =	0
   4297  10000 ????		00 00	    sprite_spaceship1_color51 =	0
   4298  10000 ????		00 00	    sprite_spaceship1_color50 =	0
   4299  10000 ????		00 00	    sprite_spaceship1_color49 =	0
   4300  10000 ????		00 00	    sprite_spaceship1_color48 =	0
   4301  10000 ????		00 00	    sprite_spaceship1_color47 =	0
   4302  10000 ????		00 00	    sprite_spaceship1_color46 =	0
   4303  10000 ????		00 00	    sprite_spaceship1_color45 =	0
   4304  10000 ????		00 00	    sprite_spaceship1_color44 =	0
   4305  10000 ????		00 00	    sprite_spaceship1_color43 =	0
   4306  10000 ????		00 00	    sprite_spaceship1_color42 =	0
   4307  10000 ????		00 00	    sprite_spaceship1_color41 =	0
   4308  10000 ????		00 00	    sprite_spaceship1_color40 =	0
   4309  10000 ????		00 00	    sprite_spaceship1_color39 =	0
   4310  10000 ????		00 00	    sprite_spaceship1_color38 =	0
   4311  10000 ????		00 00	    sprite_spaceship1_color37 =	0
   4312  10000 ????		00 00	    sprite_spaceship1_color36 =	0
   4313  10000 ????		00 00	    sprite_spaceship1_color35 =	0
   4314  10000 ????		00 00	    sprite_spaceship1_color34 =	0
   4315  10000 ????		00 00	    sprite_spaceship1_color33 =	0
   4316  10000 ????		00 00	    sprite_spaceship1_color32 =	0
   4317  10000 ????		00 00	    sprite_spaceship1_color31 =	0
   4318  10000 ????		00 00	    sprite_spaceship1_color30 =	0
   4319  10000 ????		00 00	    sprite_spaceship1_color29 =	0
   4320  10000 ????		00 00	    sprite_spaceship1_color28 =	0
   4321  10000 ????		00 00	    sprite_spaceship1_color27 =	0
   4322  10000 ????		00 00	    sprite_spaceship1_color26 =	0
   4323  10000 ????		00 00	    sprite_spaceship1_color25 =	0
   4324  10000 ????		00 00	    sprite_spaceship1_color24 =	0
   4325  10000 ????		00 00	    sprite_spaceship1_color23 =	0
   4326  10000 ????		00 00	    sprite_spaceship1_color22 =	0
   4327  10000 ????		00 00	    sprite_spaceship1_color21 =	0
   4328  10000 ????		00 00	    sprite_spaceship1_color20 =	0
   4329  10000 ????		00 00	    sprite_spaceship1_color19 =	0
   4330  10000 ????		00 00	    sprite_spaceship1_color18 =	0
   4331  10000 ????		00 00	    sprite_spaceship1_color17 =	0
   4332  10000 ????		00 00	    sprite_spaceship1_color16 =	0
   4333  10000 ????		00 00	    sprite_spaceship1_color15 =	0
   4334  10000 ????		00 00	    sprite_spaceship1_color14 =	0
   4335  10000 ????		00 00	    sprite_spaceship1_color13 =	0
   4336  10000 ????		00 00	    sprite_spaceship1_color12 =	0
   4337  10000 ????		00 00	    sprite_spaceship1_color11 =	0
   4338  10000 ????		00 00	    sprite_spaceship1_color10 =	0
   4339  10000 ????		00 00	    sprite_spaceship1_color9 =	0
   4340  10000 ????		00 00	    sprite_spaceship1_color8 =	0
   4341  10000 ????		00 00	    sprite_spaceship1_color7 =	0
   4342  10000 ????		00 00	    sprite_spaceship1_color6 =	0
   4343  10000 ????		00 00	    sprite_spaceship1_color5 =	0
   4344  10000 ????		00 00	    sprite_spaceship1_color4 =	0
   4345  10000 ????		00 1e	    sprite_spaceship1_color3 =	$1e
   4346  10000 ????		00 81	    sprite_spaceship1_color2 =	$81
   4347  10000 ????		00 44	    sprite_spaceship1_color1 =	$44
   4348  10000 ????		00 00	    sprite_spaceship1_color0 =	$00
   4349  10000 ????		00 10	    ZONEHEIGHT =	16
   4350  10000 ????		00 01	    collisionwrap =	1
------- FILE 7800basic.h
      6  10000 ????
      7  10000 ????						;************ 7800 overall RAM map **************
      8  10000 ????
      9  10000 ????						;	   40-FF	 zero page RAM
     10  10000 ????						;	  140-1FF	 RAM (stack)
     11  10000 ????						;	 1800-203F	 RAM
     12  10000 ????						;	 2100-213F	 RAM
     13  10000 ????						;	 2200-27FF	 RAM
     14  10000 ????
     15  10000 ????						;************ 7800basic RAM usage map **************
     16  10000 ????
     17  10000 ????						;	   40-FF	 numerous defines, listed below
     18  10000 ????						;	  140-1FF	 RAM (stack)
     19  10000 ????
     20  10000 ????						;	 1800-187F	 DLL  (1800-18DF with page flipping enabled)
     21  10000 ????						;	 1880-1FFF	 DLs  (18E0-1FFF with page flipping enabled)
     22  10000 ????
     23  10000 ????						;	 2000-203F	 Reserved
     24  10000 ????						;	 2100-213F	 Reserved
     25  10000 ????						;	 2200-27FF	 Free
     26  10000 ????
     27  10000 ????		1f e0	    eeprombuffer =	$1FE0
     28  10000 ????		18 00	    DLLMEM     =	$1800
     29  10000 ????		00 70	    DBOFFSET   =	$70	; $E0 length DL is /2 for double-buffering
     30  10000 ????
     31  10000 ????			   -	       ifconst	PLOTVALUEPAGE
     32  10000 ????			   -VALBUFFER  =	(PLOTVALUEPAGE*256)
     33  10000 ????				       else
     34  10000 ????		20 00	    VALBUFFER  =	$2000	; to $203F  ** never let VALBUFFER straddle pages
     35  10000 ????				       endif
     36  10000 ????
     37  10000 ????
     38  10000 ????		21 00	    pausestate =	$2100
     39  10000 ????		21 01	    dlzero     =	$2101	; zero to force end of $2100 DL, which we use in vblank and overscan
     40  10000 ????		21 02	    sINPT1     =	$2102	; save register for joy button joy0
     41  10000 ????		21 03	    sINPT3     =	$2103	; save register for joy button joy1
     42  10000 ????		21 04	    currentbank =	$2104
     43  10000 ????
     44  10000 ????		21 05	    currentrambank =	$2105
     45  10000 ????		21 06	    charactermode =	$2106
     46  10000 ????		21 07	    sCTRL      =	$2107
     47  10000 ????		21 08	    pokeydetected =	$2108
     48  10000 ????		21 09	    paldetected =	$2109
     49  10000 ????		21 0a	    avoxdetected =	$210A
     50  10000 ????		21 0b	    sCHARBASE  =	$210B	; save register for CHARBASE
     51  10000 ????
     52  10000 ????		21 0c	    hsdevice   =	$210C
     53  10000 ????		21 0d	    hsdifficulty =	$210D
     54  10000 ????		21 0e	    hserror    =	$210E
     55  10000 ????		21 0f	    hsgameslot =	$210F
     56  10000 ????		21 10	    hsnewscoreline =	$2110
     57  10000 ????		21 11	    hsnewscorerank =	$2111
     58  10000 ????		21 12	    HSRAMTable =	$2112	; to $212F (30 bytes) Format: III*5, SSS*5
     59  10000 ????		21 12	    HSRAMInitials =	$2112	; see above
     60  10000 ????		21 21	    HSRAMScores =	$2121	; see above
     61  10000 ????
     62  10000 ????		21 31	    sSWCHA     =	$2131
     63  10000 ????						; reserved	 = $2132
     64  10000 ????
     65  10000 ????		21 33	    hsdisplaymode =	$2133
     66  10000 ????		21 34	    gamedifficulty =	$2134
     67  10000 ????		21 35	    hsinitialpos =	$2135
     68  10000 ????		21 36	    hsinitialhold =	$2136
     69  10000 ????		21 37	    hscursorx  =	$2137
     70  10000 ????		21 38	    hsjoydebounce =	$2138
     71  10000 ????		21 39	    hsswcha    =	$2139
     72  10000 ????		21 3a	    hsinpt1    =	$213A
     73  10000 ????		21 3b	    hscolorchaseindex =	$213B
     74  10000 ????		21 3c	    visibleDLLstart =	$213C
     75  10000 ????		21 3d	    overscanDLLstart =	$213D
     76  10000 ????		21 3e	    frameslost =	$213E
     77  10000 ????		21 3f	    hsreturn   =	$213F
     78  10000 ????
     79  10000 ????
     80  10000 ????		00 40	    rand       =	$40
     81  10000 ????		00 41	    rand16     =	$41
     82  10000 ????		00 42	    temp1      =	$42
     83  10000 ????		00 43	    temp2      =	$43
     84  10000 ????		00 44	    temp3      =	$44
     85  10000 ????		00 45	    temp4      =	$45
     86  10000 ????		00 46	    temp5      =	$46
     87  10000 ????		00 47	    temp6      =	$47
     88  10000 ????		00 48	    temp7      =	$48
     89  10000 ????		00 49	    temp8      =	$49
     90  10000 ????		00 4a	    temp9      =	$4a
     91  10000 ????
     92  10000 ????		00 4b	    pokeybase  =	$4b
     93  10000 ????		00 4b	    pokeybaselo =	$4b
     94  10000 ????		00 4c	    pokeybasehi =	$4c
     95  10000 ????
     96  10000 ????		00 4d	    visibleover =	$4d
     97  10000 ????
     98  10000 ????		00 4e	    sfx1pointlo =	$4e
     99  10000 ????		00 4f	    sfx2pointlo =	$4f
    100  10000 ????		00 50	    sfx1pointhi =	$50
    101  10000 ????		00 51	    sfx2pointhi =	$51
    102  10000 ????
    103  10000 ????		00 52	    sfx1priority =	$52
    104  10000 ????		00 53	    sfx2priority =	$53
    105  10000 ????		00 54	    sfx1poffset =	$54
    106  10000 ????		00 55	    sfx2poffset =	$55
    107  10000 ????
    108  10000 ????		00 56	    sfx1frames =	$56
    109  10000 ????		00 57	    sfx2frames =	$57
    110  10000 ????		00 58	    sfx1tick   =	$58
    111  10000 ????		00 59	    sfx2tick   =	$59
    112  10000 ????
    113  10000 ????		00 5a	    tempmath   =	$5a
    114  10000 ????
    115  10000 ????		00 5b	    pokey1pointlo =	$5b
    116  10000 ????		00 5c	    pokey1pointhi =	$5c
    117  10000 ????		00 5d	    pokey2pointlo =	$5d
    118  10000 ????		00 5e	    pokey2pointhi =	$5e
    119  10000 ????		00 5f	    pokey3pointlo =	$5f
    120  10000 ????		00 60	    pokey3pointhi =	$60
    121  10000 ????		00 61	    pokey4pointlo =	$61
    122  10000 ????		00 62	    pokey4pointhi =	$62
    123  10000 ????
    124  10000 ????		00 63	    dlpnt      =	$63	; to $64
    125  10000 ????		00 65	    dlend      =	$65	; to $81 - for 29 possible visible dll entries
    126  10000 ????		00 82	    dlendsave  =	$82	; to $9e - for 29 possible visible dll entries
    127  10000 ????
    128  10000 ????		00 9f	    speech_addr =	$9f
    129  10000 ????		00 a0	    speech_addr_hi =	$a0
    130  10000 ????
    131  10000 ????		00 a1	    HSGameTableLo =	$a1
    132  10000 ????		00 a2	    HSGameTableHi =	$a2
    133  10000 ????		00 a3	    HSVoxHi    =	$a3
    134  10000 ????		00 a4	    HSVoxLo    =	$a4
    135  10000 ????
    136  10000 ????						;channel pointers
    137  10000 ????
    138  10000 ????		00 a5	    songchannel1layer1lo =	$a5
    139  10000 ????		00 a6	    songchannel2layer1lo =	$a6
    140  10000 ????		00 a7	    songchannel3layer1lo =	$a7
    141  10000 ????		00 a8	    songchannel4layer1lo =	$a8
    142  10000 ????
    143  10000 ????		00 a9	    songchannel1layer2lo =	$a9
    144  10000 ????		00 aa	    songchannel2layer2lo =	$aA
    145  10000 ????		00 ab	    songchannel3layer2lo =	$aB
    146  10000 ????		00 ac	    songchannel4layer2lo =	$aC
    147  10000 ????
    148  10000 ????		00 ad	    songchannel1layer3lo =	$aD
    149  10000 ????		00 ae	    songchannel2layer3lo =	$aE
    150  10000 ????		00 af	    songchannel3layer3lo =	$aF
    151  10000 ????		00 b0	    songchannel4layer3lo =	$b0
    152  10000 ????
    153  10000 ????		00 b1	    songchannel1layer1hi =	$b1
    154  10000 ????		00 b2	    songchannel2layer1hi =	$b2
    155  10000 ????		00 b3	    songchannel3layer1hi =	$b3
    156  10000 ????		00 b4	    songchannel4layer1hi =	$b4
    157  10000 ????
    158  10000 ????		00 b5	    songchannel1layer2hi =	$b5
    159  10000 ????		00 b6	    songchannel2layer2hi =	$b6
    160  10000 ????		00 b7	    songchannel3layer2hi =	$b7
    161  10000 ????		00 b8	    songchannel4layer2hi =	$b8
    162  10000 ????
    163  10000 ????		00 b9	    songchannel1layer3hi =	$b9
    164  10000 ????		00 ba	    songchannel2layer3hi =	$bA
    165  10000 ????		00 bb	    songchannel3layer3hi =	$bB
    166  10000 ????		00 bc	    songchannel4layer3hi =	$bC
    167  10000 ????
    168  10000 ????		00 bd	    songdatalo =	$bd
    169  10000 ????		00 be	    songdatahi =	$be
    170  10000 ????
    171  10000 ????		00 bf	    inactivechannelcount =	$bf
    172  10000 ????
    173  10000 ????		00 c0	    songchannel1transpose =	$c0
    174  10000 ????		00 c1	    songchannel2transpose =	$c1
    175  10000 ????		00 c2	    songchannel3transpose =	$c2
    176  10000 ????		00 c3	    songchannel4transpose =	$c3
    177  10000 ????
    178  10000 ????		00 c4	    songstackindex =	$c4
    179  10000 ????
    180  10000 ????		00 c5	    songchannel1instrumentlo =	$c5
    181  10000 ????		00 c6	    songchannel2instrumentlo =	$c6
    182  10000 ????		00 c7	    songchannel3instrumentlo =	$c7
    183  10000 ????		00 c8	    songchannel4instrumentlo =	$c8
    184  10000 ????
    185  10000 ????		00 c9	    songchannel1instrumenthi =	$c9
    186  10000 ????		00 ca	    songchannel2instrumenthi =	$ca
    187  10000 ????		00 cb	    songchannel3instrumenthi =	$cb
    188  10000 ????		00 cc	    songchannel4instrumenthi =	$cc
    189  10000 ????
    190  10000 ????		00 cd	    sfx1notedata =	$cd
    191  10000 ????		00 ce	    sfx2notedata =	$ce
    192  10000 ????
    193  10000 ????		00 cf	    songloops  =	$cf
    194  10000 ????
    195  10000 ????		00 d0	    songpointerlo =	$D0
    196  10000 ????		00 d1	    songpointerhi =	$D1
    197  10000 ????
    198  10000 ????		00 d2	    voxlock    =	$D2
    199  10000 ????		00 d3	    voxqueuesize =	$D3
    200  10000 ????
    201  10000 ????		00 d4	    vblankroutines =	$D4
    202  10000 ????
    203  10000 ????		00 d5	    doublebufferstate =	$D5
    204  10000 ????		00 d6	    doublebufferdloffset =	$D6
    205  10000 ????		00 d7	    doublebufferbufferdirty =	$D7
    206  10000 ????
    207  10000 ????		00 d8	    inttemp1   =	$D8
    208  10000 ????		00 d9	    inttemp2   =	$D9
    209  10000 ????		00 da	    inttemp3   =	$DA
    210  10000 ????		00 db	    inttemp4   =	$DB
    211  10000 ????		00 dc	    inttemp5   =	$DC
    212  10000 ????		00 dd	    inttemp6   =	$DD
    213  10000 ????
    214  10000 ????		00 de	    sfxschedulelock =	$DE
    215  10000 ????		00 df	    sfxschedulemissed =	$DF
    216  10000 ????		00 e0	    sfxinstrumentlo =	$E0
    217  10000 ????		00 e1	    sfxinstrumenthi =	$E1
    218  10000 ????		00 e2	    sfxpitchoffset =	$E2
    219  10000 ????		00 e3	    sfxnoteindex =	$E3
    220  10000 ????
    221  10000 ????						; reserved = $E4
    222  10000 ????						; reserved = $E5
    223  10000 ????
    224  10000 ????		00 e6	    A	       =	$e6
    225  10000 ????		00 e6	    a	       =	$e6
    226  10000 ????		00 e7	    B	       =	$e7
    227  10000 ????		00 e7	    b	       =	$e7
    228  10000 ????		00 e8	    C	       =	$e8
    229  10000 ????		00 e8	    c	       =	$e8
    230  10000 ????		00 e9	    D	       =	$e9
    231  10000 ????		00 e9	    d	       =	$e9
    232  10000 ????		00 ea	    E	       =	$ea
    233  10000 ????		00 ea	    e	       =	$ea
    234  10000 ????		00 eb	    F	       =	$eb
    235  10000 ????		00 eb	    f	       =	$eb
    236  10000 ????		00 ec	    G	       =	$ec
    237  10000 ????		00 ec	    g	       =	$ec
    238  10000 ????		00 ed	    H	       =	$ed
    239  10000 ????		00 ed	    h	       =	$ed
    240  10000 ????		00 ee	    I	       =	$ee
    241  10000 ????		00 ee	    i	       =	$ee
    242  10000 ????		00 ef	    J	       =	$ef
    243  10000 ????		00 ef	    j	       =	$ef
    244  10000 ????		00 f0	    K	       =	$f0
    245  10000 ????		00 f0	    k	       =	$f0
    246  10000 ????		00 f1	    L	       =	$f1
    247  10000 ????		00 f1	    l	       =	$f1
    248  10000 ????		00 f2	    M	       =	$f2
    249  10000 ????		00 f2	    m	       =	$f2
    250  10000 ????		00 f3	    N	       =	$f3
    251  10000 ????		00 f3	    n	       =	$f3
    252  10000 ????		00 f4	    O	       =	$f4
    253  10000 ????		00 f4	    o	       =	$f4
    254  10000 ????		00 f5	    P	       =	$f5
    255  10000 ????		00 f5	    p	       =	$f5
    256  10000 ????		00 f6	    Q	       =	$f6
    257  10000 ????		00 f6	    q	       =	$f6
    258  10000 ????		00 f7	    R	       =	$f7
    259  10000 ????		00 f7	    r	       =	$f7
    260  10000 ????		00 f8	    S	       =	$f8
    261  10000 ????		00 f8	    s	       =	$f8
    262  10000 ????		00 f9	    T	       =	$f9
    263  10000 ????		00 f9	    t	       =	$f9
    264  10000 ????		00 fa	    U	       =	$fa
    265  10000 ????		00 fa	    u	       =	$fa
    266  10000 ????		00 fb	    V	       =	$fb
    267  10000 ????		00 fb	    v	       =	$fb
    268  10000 ????		00 fc	    W	       =	$fc
    269  10000 ????		00 fc	    w	       =	$fc
    270  10000 ????		00 fd	    X	       =	$fd
    271  10000 ????		00 fd	    x	       =	$fd
    272  10000 ????		00 fe	    Y	       =	$fe
    273  10000 ????		00 fe	    y	       =	$fe
    274  10000 ????		00 ff	    Z	       =	$ff
    275  10000 ????		00 ff	    z	       =	$ff
    276  10000 ????
    277  10000 ????						; var0-var99 variables use the top of the stack
    278  10000 ????		01 40	    var0       =	$140
    279  10000 ????		01 41	    var1       =	$141
    280  10000 ????		01 42	    var2       =	$142
    281  10000 ????		01 43	    var3       =	$143
    282  10000 ????		01 44	    var4       =	$144
    283  10000 ????		01 45	    var5       =	$145
    284  10000 ????		01 46	    var6       =	$146
    285  10000 ????		01 47	    var7       =	$147
    286  10000 ????		01 48	    var8       =	$148
    287  10000 ????		01 49	    var9       =	$149
    288  10000 ????		01 4a	    var10      =	$14a
    289  10000 ????		01 4b	    var11      =	$14b
    290  10000 ????		01 4c	    var12      =	$14c
    291  10000 ????		01 4d	    var13      =	$14d
    292  10000 ????		01 4e	    var14      =	$14e
    293  10000 ????		01 4f	    var15      =	$14f
    294  10000 ????		01 50	    var16      =	$150
    295  10000 ????		01 51	    var17      =	$151
    296  10000 ????		01 52	    var18      =	$152
    297  10000 ????		01 53	    var19      =	$153
    298  10000 ????		01 54	    var20      =	$154
    299  10000 ????		01 55	    var21      =	$155
    300  10000 ????		01 56	    var22      =	$156
    301  10000 ????		01 57	    var23      =	$157
    302  10000 ????		01 58	    var24      =	$158
    303  10000 ????		01 59	    var25      =	$159
    304  10000 ????		01 5a	    var26      =	$15a
    305  10000 ????		01 5b	    var27      =	$15b
    306  10000 ????		01 5c	    var28      =	$15c
    307  10000 ????		01 5d	    var29      =	$15d
    308  10000 ????		01 5e	    var30      =	$15e
    309  10000 ????		01 5f	    var31      =	$15f
    310  10000 ????		01 60	    var32      =	$160
    311  10000 ????		01 61	    var33      =	$161
    312  10000 ????		01 62	    var34      =	$162
    313  10000 ????		01 63	    var35      =	$163
    314  10000 ????		01 64	    var36      =	$164
    315  10000 ????		01 65	    var37      =	$165
    316  10000 ????		01 66	    var38      =	$166
    317  10000 ????		01 67	    var39      =	$167
    318  10000 ????		01 68	    var40      =	$168
    319  10000 ????		01 69	    var41      =	$169
    320  10000 ????		01 6a	    var42      =	$16a
    321  10000 ????		01 6b	    var43      =	$16b
    322  10000 ????		01 6c	    var44      =	$16c
    323  10000 ????		01 6d	    var45      =	$16d
    324  10000 ????		01 6e	    var46      =	$16e
    325  10000 ????		01 6f	    var47      =	$16f
    326  10000 ????		01 70	    var48      =	$170
    327  10000 ????		01 71	    var49      =	$171
    328  10000 ????		01 72	    var50      =	$172
    329  10000 ????		01 73	    var51      =	$173
    330  10000 ????		01 74	    var52      =	$174
    331  10000 ????		01 75	    var53      =	$175
    332  10000 ????		01 76	    var54      =	$176
    333  10000 ????		01 77	    var55      =	$177
    334  10000 ????		01 78	    var56      =	$178
    335  10000 ????		01 79	    var57      =	$179
    336  10000 ????		01 7a	    var58      =	$17a
    337  10000 ????		01 7b	    var59      =	$17b
    338  10000 ????		01 7c	    var60      =	$17c
    339  10000 ????		01 7d	    var61      =	$17d
    340  10000 ????		01 7e	    var62      =	$17e
    341  10000 ????		01 7f	    var63      =	$17f
    342  10000 ????		01 80	    var64      =	$180
    343  10000 ????		01 81	    var65      =	$181
    344  10000 ????		01 82	    var66      =	$182
    345  10000 ????		01 83	    var67      =	$183
    346  10000 ????		01 84	    var68      =	$184
    347  10000 ????		01 85	    var69      =	$185
    348  10000 ????		01 86	    var70      =	$186
    349  10000 ????		01 87	    var71      =	$187
    350  10000 ????		01 88	    var72      =	$188
    351  10000 ????		01 89	    var73      =	$189
    352  10000 ????		01 8a	    var74      =	$18a
    353  10000 ????		01 8b	    var75      =	$18b
    354  10000 ????		01 8c	    var76      =	$18c
    355  10000 ????		01 8d	    var77      =	$18d
    356  10000 ????		01 8e	    var78      =	$18e
    357  10000 ????		01 8f	    var79      =	$18f
    358  10000 ????		01 90	    var80      =	$190
    359  10000 ????		01 91	    var81      =	$191
    360  10000 ????		01 92	    var82      =	$192
    361  10000 ????		01 93	    var83      =	$193
    362  10000 ????		01 94	    var84      =	$194
    363  10000 ????		01 95	    var85      =	$195
    364  10000 ????		01 96	    var86      =	$196
    365  10000 ????		01 97	    var87      =	$197
    366  10000 ????		01 98	    var88      =	$198
    367  10000 ????		01 99	    var89      =	$199
    368  10000 ????		01 9a	    var90      =	$19a
    369  10000 ????		01 9b	    var91      =	$19b
    370  10000 ????		01 9c	    var92      =	$19c
    371  10000 ????		01 9d	    var93      =	$19d
    372  10000 ????		01 9e	    var94      =	$19e
    373  10000 ????		01 9f	    var95      =	$19f
    374  10000 ????		01 a0	    var96      =	$1a0
    375  10000 ????		01 a1	    var97      =	$1a1
    376  10000 ????		01 a2	    var98      =	$1a2
    377  10000 ????		01 a3	    var99      =	$1a3
    378  10000 ????
    379 U01c3 ????				      SEG.U	"7800basicRAM"
    380 U01a4					      ORG	$1A4
    381 U01a4
    382 U01a4							; MAX allocation locations are in comments...
    383 U01a4		       00	   framecounter DS	1	; $1A4
    384 U01a5		       00	   countdownseconds DS	1	; $1A5
    385 U01a6		       00 00 00    score0     DS	3	; $1A6 $1A7 $1A8
    386 U01a9		       00 00 00    score1     DS	3	; $1A9 $1AA $1AB
    387 U01ac		       00	   pausebuttonflag DS	1	; $1AC
    388 U01ad		       00	   valbufend  DS	1	; $1AD
    389 U01ae		       00	   valbufendsave DS	1	; $1AE
    390 U01af		       00	   finescrollx DS	1	; $1AF
    391 U01b0		       00	   finescrolly DS	1	; $1B0
    392 U01b1		       00	   joybuttonmode DS	1	; $1B1 ; track joysticks that were changed to one-button mode
    393 U01b2		       00	   interruptindex DS	1	; $1B2
    394 U01b3
    395 U01b3				  -	      ifconst	DOUBLEBUFFER
    396 U01b3				  -doublebufferminimumframetarget DS	1	; $1B3
    397 U01b3				  -doublebufferminimumframeindex DS	1	; $1B4
    398 U01b3					      endif
    399 U01b3
    400 U01b3		       00	   pausedisable DS	1	; $1B5
    401 U01b4		       00	   XCTRL1s    DS	1	; $1B6
    402 U01b5
    403 U01b5				  -	      ifconst	AVOXVOICE
    404 U01b5				  -avoxenable DS	1	; $1B7
    405 U01b5				  -tempavox   DS	1	; $1B8
    406 U01b5					      endif
    407 U01b5
    408 U01b5				  -	      ifconst	MUSICTRACKER
    409 U01b5				  -songtempo  DS	1	; $1B9
    410 U01b5				  -songtick   DS	1	; $1BA
    411 U01b5				  -
    412 U01b5				  -songchannel1layer1loops DS	1	; $1BB
    413 U01b5				  -songchannel2layer1loops DS	1	; $1BC
    414 U01b5				  -songchannel3layer1loops DS	1	; $1BD
    415 U01b5				  -songchannel4layer1loops DS	1	; $1BE
    416 U01b5				  -
    417 U01b5				  -songchannel1layer2loops DS	1	; $1BF
    418 U01b5				  -songchannel2layer2loops DS	1	; $1C0
    419 U01b5				  -songchannel3layer2loops DS	1	; $1C1
    420 U01b5				  -songchannel4layer2loops DS	1	; $1C2
    421 U01b5				  -
    422 U01b5				  -songchannel1layer3loops DS	1	; $1C3
    423 U01b5				  -songchannel2layer3loops DS	1	; $1C4
    424 U01b5				  -songchannel3layer3loops DS	1	; $1C5
    425 U01b5				  -songchannel4layer3loops DS	1	; $1C6
    426 U01b5				  -
    427 U01b5				  -songchannel1busywait DS	1	; $1C7
    428 U01b5				  -songchannel2busywait DS	1	; $1C8
    429 U01b5				  -songchannel3busywait DS	1	; $1C9
    430 U01b5				  -songchannel4busywait DS	1	; $1CA
    431 U01b5				  -
    432 U01b5				  -songchannel1stackdepth DS	1	; $1CB
    433 U01b5				  -songchannel2stackdepth DS	1	; $1CC
    434 U01b5				  -songchannel3stackdepth DS	1	; $1CD
    435 U01b5				  -songchannel4stackdepth DS	1	; $1CE
    436 U01b5					      endif
    437 U01b5
    438 U01b5		       00	   palframes  DS	1
    439 U01b6		       00	   ntscslowframe DS	1
    440 U01b7		       00	   palfastframe DS	1
    441 U01b8
    442 U01b8				  -	      ifconst	MOUSESUPPORT
    443 U01b8				  -port0resolution DS	1
    444 U01b8				  -port1resolution DS	1
    445 U01b8					      else
    446 U01b8				  -	      ifconst	TRAKBALLSUPPORT
    447 U01b8				  -port0resolution DS	1
    448 U01b8				  -port1resolution DS	1
    449 U01b8					      endif
    450 U01b8					      endif
    451 U01b8
    452 U01b8		       00	   port0control DS	1
    453 U01b9		       00	   port1control DS	1
    454 U01ba
    455 U01ba							; port#control values...
    456 U01ba							;	1 = proline
    457 U01ba							;	2 = lightgun
    458 U01ba							;	3 = paddle
    459 U01ba							;	4 = trakball
    460 U01ba							;	5 = vcs joystick
    461 U01ba							;	6 = driving
    462 U01ba							;	7 = keypad
    463 U01ba							;	8 = st mouse/cx80
    464 U01ba							;	9 = amiga mouse
    465 U01ba							;     10 = atarivox
    466 U01ba
    467 U01ba							; controller 0 data...
    468 U01ba		       00	   paddleposition0 DS	1
    469 U01ba		       01 ba	   keypadmatrix0a =	paddleposition0
    470 U01ba		       01 ba	   drivingposition0 =	paddleposition0
    471 U01ba		       01 ba	   trakballx0 =	paddleposition0
    472 U01ba		       01 ba	   mousex0    =	paddleposition0
    473 U01ba		       01 ba	   lighttgunx0 =	paddleposition0
    474 U01ba		       01 ba	   snes2atari0lo =	paddleposition0
    475 U01ba		       01 ba	   mega7800data0 =	paddleposition0
    476 U01bb
    477 U01bb							; controller 1 data...
    478 U01bb		       00	   paddleposition2 DS	1
    479 U01bb		       01 bb	   keypadmatrix1a =	paddleposition2
    480 U01bb		       01 bb	   drivingposition1 =	paddleposition2
    481 U01bb		       01 bb	   trakballx1 =	paddleposition2
    482 U01bb		       01 bb	   mousex1    =	paddleposition2
    483 U01bb		       01 bb	   lightgunx1 =	paddleposition2
    484 U01bb		       01 bb	   snes2atari1lo =	paddleposition2
    485 U01bb		       01 bb	   mega7800data1 =	paddleposition2
    486 U01bc
    487 U01bc							; controller 0 altdata...
    488 U01bc		       00	   paddleposition1 DS	1
    489 U01bc		       01 bc	   keypadmatrix0b =	paddleposition1
    490 U01bc		       01 bc	   trakbally0 =	paddleposition1
    491 U01bc		       01 bc	   mousey0    =	paddleposition1
    492 U01bc		       01 bc	   lightguny0 =	paddleposition1
    493 U01bc		       01 bc	   snes2atari0hi =	paddleposition1
    494 U01bc		       01 bc	   mega7800state0 =	paddleposition1
    495 U01bd
    496 U01bd							; controller 1 altdata...
    497 U01bd		       00	   paddleposition3 DS	1
    498 U01bd		       01 bd	   keypadmatrix1b =	paddleposition3
    499 U01bd		       01 bd	   trakbally1 =	paddleposition3
    500 U01bd		       01 bd	   mousey1    =	paddleposition3
    501 U01bd		       01 bd	   lightguny1 =	paddleposition3
    502 U01bd		       01 bd	   snes2atari1hi =	paddleposition3
    503 U01bd		       01 bd	   mega7800state1 =	paddleposition3
    504 U01be
    505 U01be							; controller state save. for trakball state+dir codes, rotary position codes
    506 U01be		       00	   controller0statesave DS	1
    507 U01be		       01 be	   paddleprevious0 =	controller0statesave
    508 U01be		       01 be	   mousecodex0 =	controller0statesave
    509 U01be		       01 be	   trakballcodex0 =	controller0statesave
    510 U01be		       01 be	   keypadmatrix0c =	controller0statesave
    511 U01be		       01 be	   snesdetected0 =	controller0statesave
    512 U01bf
    513 U01bf		       00	   controller1statesave DS	1
    514 U01bf		       01 bf	   paddleprevious2 =	controller1statesave
    515 U01bf		       01 bf	   mousecodex1 =	controller1statesave
    516 U01bf		       01 bf	   trakballcodex1 =	controller1statesave
    517 U01bf		       01 bf	   keypadmatrix1c =	controller1statesave
    518 U01bf		       01 bf	   snesdetected1 =	controller1statesave
    519 U01c0
    520 U01c0		       00	   paddleprevious1 DS	1
    521 U01c0		       01 c0	   keypadmatrix0d =	paddleprevious1
    522 U01c0		       01 c0	   mousecodey0 =	paddleprevious1
    523 U01c0		       01 c0	   trakballcodey0 =	paddleprevious1
    524 U01c1
    525 U01c1		       00	   paddleprevious3 DS	1
    526 U01c1		       01 c1	   keypadmatrix1d =	paddleprevious3
    527 U01c1		       01 c1	   mousecodey1 =	paddleprevious3
    528 U01c1		       01 c1	   trakballcodey1 =	paddleprevious3
    529 U01c2
    530 U01c2				  -	      ifconst	pokeysupport
    531 U01c2				  -pokey1frames DS	1
    532 U01c2				  -pokey1tick DS	1
    533 U01c2				  -pokey2frames DS	1
    534 U01c2				  -pokey2tick DS	1
    535 U01c2				  -pokey3frames DS	1
    536 U01c2				  -pokey3tick DS	1
    537 U01c2				  -pokey4frames DS	1
    538 U01c2				  -pokey4tick DS	1
    539 U01c2				  -pokey1priority DS	1
    540 U01c2				  -pokey1offset DS	1
    541 U01c2				  -pokey2priority DS	1
    542 U01c2				  -pokey2offset DS	1
    543 U01c2				  -pokey3priority DS	1
    544 U01c2				  -pokey3offset DS	1
    545 U01c2				  -pokey4priority DS	1
    546 U01c2				  -pokey4offset DS	1
    547 U01c2					      endif
    548 U01c2
    549 U01c2				  -	      ifconst	pokeykeysupport
    550 U01c2				  -pokeylastkeycode DS	1
    551 U01c2				  -pokeykeycode DS	1
    552 U01c2				  -pokeykeydebounce DS	1
    553 U01c2					      endif
    554 U01c2
    555 U01c2				  -	      ifconst	RMT
    556 U01c2				  -rasterpause DS	1
    557 U01c2					      endif		; RMT
    558 U01c2				  -	      ifconst	RMTVOLUME
    559 U01c2				  -rmtvolume  DS	1
    560 U01c2					      endif		; RMTVOLUME
    561 U01c2				  -	      ifconst	TIAVOLUME
    562 U01c2				  -tiavolume  DS	1
    563 U01c2					      endif		; TIAVOLUME
    564 U01c2
    565 U01c2				  -	      ifconst	FOURBITFADE
    566 U01c2				  -fourbittemp1 DS	1
    567 U01c2				  -fourbitfadevalue DS	1
    568 U01c2				  -fourbittemp1int DS	1
    569 U01c2				  -fourbitfadevalueint DS	1
    570 U01c2					      endif		; FOURBITFADE
    571 U01c2
    572 U01c2				  -	      ifconst	SNES2ATARISUPPORT
    573 U01c2				  -snesport   DS	1
    574 U01c2					      endif		; SNES2ATARISUPPORT
    575 U01c2
    576 U01c2				  -	      ifconst	KEYPADSUPPORT
    577 U01c2				  -keypadcounter DS	1
    578 U01c2					      endif
    579 U01c2
    580 U01c2				  -	      ifconst	MULTIBUTTON
    581 U01c2				  -multibuttoncount0 DS	1
    582 U01c2				  -multibuttoncount1 DS	1
    583 U01c2					      endif
    584 U01c2
    585 U01c2							; see if we need an interrupthold byte...
    586 U01c2				   INTERRUPTNEEDED SET	0
    587 U01c2				  -	      ifconst	.topscreenroutine
    588 U01c2				  -INTERRUPTNEEDED SET	1
    589 U01c2					      endif
    590 U01c2				  -	      ifconst	.bottomscreenroutine
    591 U01c2				  -INTERRUPTNEEDED SET	1
    592 U01c2					      endif
    593 U01c2				  -	      ifconst	.userinterrupt
    594 U01c2				  -INTERRUPTNEEDED SET	1
    595 U01c2					      endif
    596 U01c2				  -	      if	INTERRUPTNEEDED = 1
    597 U01c2				  -interrupthold DS	1
    598 U01c2					      endif
    599 U01c2
    600 U01c2					      ifnconst	CANARYOFF
    601 U01c2		       00	   canary     DS	1
    602 U01c3					      endif
    603 U01c3
    604 U01c3					      ifnconst	bankswitchmode
   stack allowance: 30 nested subroutines.
    605 U01c3					      echo	"  stack allowance:",[($1FF - .)/2]d,"nested subroutines."
    606 U01c3				  -	      else
    607 U01c3				  -	      echo	"  stack allowance:",[($1FF - .)/3]d,"nested subroutines."
    608 U01c3					      endif
    609 U01c3					      ifnconst	CANARYOFF
   the canary is situated at: $1c2
    610 U01c3					      echo	"  the canary is situated at:",[canary]
    611 U01c3				  -	      else
    612 U01c3				  -	      echo	"  the canary is disabled."
    613 U01c3					      endif
    614 U01c3
    615 U01c3							; $1EE - $1FF reserved for stack
    616 U01c3
    617  10000 ????				       SEG	"GAME"
    618  10000 ????
------- FILE rpmegafighter.bas.asm
------- FILE 7800_extravars.h LEVEL 2 PASS 3
      0  10000 ????				       include	"7800_extravars.h"
      1  10000 ????		22 00	    var100     =	$2200
      2  10000 ????		22 01	    var101     =	$2201
      3  10000 ????		22 02	    var102     =	$2202
      4  10000 ????		22 03	    var103     =	$2203
      5  10000 ????		22 04	    var104     =	$2204
      6  10000 ????		22 05	    var105     =	$2205
      7  10000 ????		22 06	    var106     =	$2206
      8  10000 ????		22 07	    var107     =	$2207
      9  10000 ????		22 08	    var108     =	$2208
     10  10000 ????		22 09	    var109     =	$2209
     11  10000 ????		22 0a	    var110     =	$220A
     12  10000 ????		22 0b	    var111     =	$220B
     13  10000 ????		22 0c	    var112     =	$220C
     14  10000 ????		22 0d	    var113     =	$220D
     15  10000 ????		22 0e	    var114     =	$220E
     16  10000 ????		22 0f	    var115     =	$220F
     17  10000 ????		22 10	    var116     =	$2210
     18  10000 ????		22 11	    var117     =	$2211
     19  10000 ????		22 12	    var118     =	$2212
     20  10000 ????		22 13	    var119     =	$2213
     21  10000 ????		22 14	    var120     =	$2214
     22  10000 ????		22 15	    var121     =	$2215
     23  10000 ????		22 16	    var122     =	$2216
     24  10000 ????		22 17	    var123     =	$2217
     25  10000 ????		22 18	    var124     =	$2218
     26  10000 ????		22 19	    var125     =	$2219
     27  10000 ????		22 1a	    var126     =	$221A
     28  10000 ????		22 1b	    var127     =	$221B
     29  10000 ????		22 1c	    var128     =	$221C
     30  10000 ????		22 1d	    var129     =	$221D
     31  10000 ????		22 1e	    var130     =	$221E
     32  10000 ????		22 1f	    var131     =	$221F
     33  10000 ????		22 20	    var132     =	$2220
     34  10000 ????		22 21	    var133     =	$2221
     35  10000 ????		22 22	    var134     =	$2222
     36  10000 ????		22 23	    var135     =	$2223
     37  10000 ????		22 24	    var136     =	$2224
     38  10000 ????		22 25	    var137     =	$2225
     39  10000 ????		22 26	    var138     =	$2226
     40  10000 ????		22 27	    var139     =	$2227
     41  10000 ????		22 28	    var140     =	$2228
     42  10000 ????		22 29	    var141     =	$2229
     43  10000 ????		22 2a	    var142     =	$222A
     44  10000 ????		22 2b	    var143     =	$222B
     45  10000 ????		22 2c	    var144     =	$222C
     46  10000 ????		22 2d	    var145     =	$222D
     47  10000 ????		22 2e	    var146     =	$222E
     48  10000 ????		22 2f	    var147     =	$222F
     49  10000 ????		22 30	    var148     =	$2230
     50  10000 ????		22 31	    var149     =	$2231
     51  10000 ????		22 32	    var150     =	$2232
     52  10000 ????		22 33	    var151     =	$2233
     53  10000 ????		22 34	    var152     =	$2234
     54  10000 ????		22 35	    var153     =	$2235
     55  10000 ????		22 36	    var154     =	$2236
     56  10000 ????		22 37	    var155     =	$2237
     57  10000 ????		22 38	    var156     =	$2238
     58  10000 ????		22 39	    var157     =	$2239
     59  10000 ????		22 3a	    var158     =	$223A
     60  10000 ????		22 3b	    var159     =	$223B
     61  10000 ????		22 3c	    var160     =	$223C
     62  10000 ????		22 3d	    var161     =	$223D
     63  10000 ????		22 3e	    var162     =	$223E
     64  10000 ????		22 3f	    var163     =	$223F
     65  10000 ????		22 40	    var164     =	$2240
     66  10000 ????		22 41	    var165     =	$2241
     67  10000 ????		22 42	    var166     =	$2242
     68  10000 ????		22 43	    var167     =	$2243
     69  10000 ????		22 44	    var168     =	$2244
     70  10000 ????		22 45	    var169     =	$2245
     71  10000 ????		22 46	    var170     =	$2246
     72  10000 ????		22 47	    var171     =	$2247
     73  10000 ????		22 48	    var172     =	$2248
     74  10000 ????		22 49	    var173     =	$2249
     75  10000 ????		22 4a	    var174     =	$224A
     76  10000 ????		22 4b	    var175     =	$224B
     77  10000 ????		22 4c	    var176     =	$224C
     78  10000 ????		22 4d	    var177     =	$224D
     79  10000 ????		22 4e	    var178     =	$224E
     80  10000 ????		22 4f	    var179     =	$224F
     81  10000 ????		22 50	    var180     =	$2250
     82  10000 ????		22 51	    var181     =	$2251
     83  10000 ????		22 52	    var182     =	$2252
     84  10000 ????		22 53	    var183     =	$2253
     85  10000 ????		22 54	    var184     =	$2254
     86  10000 ????		22 55	    var185     =	$2255
     87  10000 ????		22 56	    var186     =	$2256
     88  10000 ????		22 57	    var187     =	$2257
     89  10000 ????		22 58	    var188     =	$2258
     90  10000 ????		22 59	    var189     =	$2259
     91  10000 ????		22 5a	    var190     =	$225A
     92  10000 ????		22 5b	    var191     =	$225B
     93  10000 ????		22 5c	    var192     =	$225C
     94  10000 ????		22 5d	    var193     =	$225D
     95  10000 ????		22 5e	    var194     =	$225E
     96  10000 ????		22 5f	    var195     =	$225F
     97  10000 ????		22 60	    var196     =	$2260
     98  10000 ????		22 61	    var197     =	$2261
     99  10000 ????		22 62	    var198     =	$2262
    100  10000 ????		22 63	    var199     =	$2263
    101  10000 ????		22 64	    var200     =	$2264
    102  10000 ????		22 65	    var201     =	$2265
    103  10000 ????		22 66	    var202     =	$2266
    104  10000 ????		22 67	    var203     =	$2267
    105  10000 ????		22 68	    var204     =	$2268
    106  10000 ????		22 69	    var205     =	$2269
    107  10000 ????		22 6a	    var206     =	$226A
    108  10000 ????		22 6b	    var207     =	$226B
    109  10000 ????		22 6c	    var208     =	$226C
    110  10000 ????		22 6d	    var209     =	$226D
    111  10000 ????		22 6e	    var210     =	$226E
    112  10000 ????		22 6f	    var211     =	$226F
    113  10000 ????		22 70	    var212     =	$2270
    114  10000 ????		22 71	    var213     =	$2271
    115  10000 ????		22 72	    var214     =	$2272
    116  10000 ????		22 73	    var215     =	$2273
    117  10000 ????		22 74	    var216     =	$2274
    118  10000 ????		22 75	    var217     =	$2275
    119  10000 ????		22 76	    var218     =	$2276
    120  10000 ????		22 77	    var219     =	$2277
    121  10000 ????		22 78	    var220     =	$2278
    122  10000 ????		22 79	    var221     =	$2279
    123  10000 ????		22 7a	    var222     =	$227A
    124  10000 ????		22 7b	    var223     =	$227B
    125  10000 ????		22 7c	    var224     =	$227C
    126  10000 ????		22 7d	    var225     =	$227D
    127  10000 ????		22 7e	    var226     =	$227E
    128  10000 ????		22 7f	    var227     =	$227F
    129  10000 ????		22 80	    var228     =	$2280
    130  10000 ????		22 81	    var229     =	$2281
    131  10000 ????		22 82	    var230     =	$2282
    132  10000 ????		22 83	    var231     =	$2283
    133  10000 ????		22 84	    var232     =	$2284
    134  10000 ????		22 85	    var233     =	$2285
    135  10000 ????		22 86	    var234     =	$2286
    136  10000 ????		22 87	    var235     =	$2287
    137  10000 ????		22 88	    var236     =	$2288
    138  10000 ????		22 89	    var237     =	$2289
    139  10000 ????		22 8a	    var238     =	$228A
    140  10000 ????		22 8b	    var239     =	$228B
    141  10000 ????		22 8c	    var240     =	$228C
    142  10000 ????		22 8d	    var241     =	$228D
    143  10000 ????		22 8e	    var242     =	$228E
    144  10000 ????		22 8f	    var243     =	$228F
    145  10000 ????		22 90	    var244     =	$2290
    146  10000 ????		22 91	    var245     =	$2291
    147  10000 ????		22 92	    var246     =	$2292
    148  10000 ????		22 93	    var247     =	$2293
    149  10000 ????		22 94	    var248     =	$2294
    150  10000 ????		22 95	    var249     =	$2295
    151  10000 ????		22 96	    var250     =	$2296
    152  10000 ????		22 97	    var251     =	$2297
    153  10000 ????		22 98	    var252     =	$2298
    154  10000 ????		22 99	    var253     =	$2299
    155  10000 ????		22 9a	    var254     =	$229A
    156  10000 ????		22 9b	    var255     =	$229B
    157  10000 ????		22 9c	    var256     =	$229C
    158  10000 ????		22 9d	    var257     =	$229D
    159  10000 ????		22 9e	    var258     =	$229E
    160  10000 ????		22 9f	    var259     =	$229F
    161  10000 ????		22 a0	    var260     =	$22A0
    162  10000 ????		22 a1	    var261     =	$22A1
    163  10000 ????		22 a2	    var262     =	$22A2
    164  10000 ????		22 a3	    var263     =	$22A3
    165  10000 ????		22 a4	    var264     =	$22A4
    166  10000 ????		22 a5	    var265     =	$22A5
    167  10000 ????		22 a6	    var266     =	$22A6
    168  10000 ????		22 a7	    var267     =	$22A7
    169  10000 ????		22 a8	    var268     =	$22A8
    170  10000 ????		22 a9	    var269     =	$22A9
    171  10000 ????		22 aa	    var270     =	$22AA
    172  10000 ????		22 ab	    var271     =	$22AB
    173  10000 ????		22 ac	    var272     =	$22AC
    174  10000 ????		22 ad	    var273     =	$22AD
    175  10000 ????		22 ae	    var274     =	$22AE
    176  10000 ????		22 af	    var275     =	$22AF
    177  10000 ????		22 b0	    var276     =	$22B0
    178  10000 ????		22 b1	    var277     =	$22B1
    179  10000 ????		22 b2	    var278     =	$22B2
    180  10000 ????		22 b3	    var279     =	$22B3
    181  10000 ????		22 b4	    var280     =	$22B4
    182  10000 ????		22 b5	    var281     =	$22B5
    183  10000 ????		22 b6	    var282     =	$22B6
    184  10000 ????		22 b7	    var283     =	$22B7
    185  10000 ????		22 b8	    var284     =	$22B8
    186  10000 ????		22 b9	    var285     =	$22B9
    187  10000 ????		22 ba	    var286     =	$22BA
    188  10000 ????		22 bb	    var287     =	$22BB
    189  10000 ????		22 bc	    var288     =	$22BC
    190  10000 ????		22 bd	    var289     =	$22BD
    191  10000 ????		22 be	    var290     =	$22BE
    192  10000 ????		22 bf	    var291     =	$22BF
    193  10000 ????		22 c0	    var292     =	$22C0
    194  10000 ????		22 c1	    var293     =	$22C1
    195  10000 ????		22 c2	    var294     =	$22C2
    196  10000 ????		22 c3	    var295     =	$22C3
    197  10000 ????		22 c4	    var296     =	$22C4
    198  10000 ????		22 c5	    var297     =	$22C5
    199  10000 ????		22 c6	    var298     =	$22C6
    200  10000 ????		22 c7	    var299     =	$22C7
    201  10000 ????		22 c8	    var300     =	$22C8
    202  10000 ????		22 c9	    var301     =	$22C9
    203  10000 ????		22 ca	    var302     =	$22CA
    204  10000 ????		22 cb	    var303     =	$22CB
    205  10000 ????		22 cc	    var304     =	$22CC
    206  10000 ????		22 cd	    var305     =	$22CD
    207  10000 ????		22 ce	    var306     =	$22CE
    208  10000 ????		22 cf	    var307     =	$22CF
    209  10000 ????		22 d0	    var308     =	$22D0
    210  10000 ????		22 d1	    var309     =	$22D1
    211  10000 ????		22 d2	    var310     =	$22D2
    212  10000 ????		22 d3	    var311     =	$22D3
    213  10000 ????		22 d4	    var312     =	$22D4
    214  10000 ????		22 d5	    var313     =	$22D5
    215  10000 ????		22 d6	    var314     =	$22D6
    216  10000 ????		22 d7	    var315     =	$22D7
    217  10000 ????		22 d8	    var316     =	$22D8
    218  10000 ????		22 d9	    var317     =	$22D9
    219  10000 ????		22 da	    var318     =	$22DA
    220  10000 ????		22 db	    var319     =	$22DB
    221  10000 ????		22 dc	    var320     =	$22DC
    222  10000 ????		22 dd	    var321     =	$22DD
    223  10000 ????		22 de	    var322     =	$22DE
    224  10000 ????		22 df	    var323     =	$22DF
    225  10000 ????		22 e0	    var324     =	$22E0
    226  10000 ????		22 e1	    var325     =	$22E1
    227  10000 ????		22 e2	    var326     =	$22E2
    228  10000 ????		22 e3	    var327     =	$22E3
    229  10000 ????		22 e4	    var328     =	$22E4
    230  10000 ????		22 e5	    var329     =	$22E5
    231  10000 ????		22 e6	    var330     =	$22E6
    232  10000 ????		22 e7	    var331     =	$22E7
    233  10000 ????		22 e8	    var332     =	$22E8
    234  10000 ????		22 e9	    var333     =	$22E9
    235  10000 ????		22 ea	    var334     =	$22EA
    236  10000 ????		22 eb	    var335     =	$22EB
    237  10000 ????		22 ec	    var336     =	$22EC
    238  10000 ????		22 ed	    var337     =	$22ED
    239  10000 ????		22 ee	    var338     =	$22EE
    240  10000 ????		22 ef	    var339     =	$22EF
    241  10000 ????		22 f0	    var340     =	$22F0
    242  10000 ????		22 f1	    var341     =	$22F1
    243  10000 ????		22 f2	    var342     =	$22F2
    244  10000 ????		22 f3	    var343     =	$22F3
    245  10000 ????		22 f4	    var344     =	$22F4
    246  10000 ????		22 f5	    var345     =	$22F5
    247  10000 ????		22 f6	    var346     =	$22F6
    248  10000 ????		22 f7	    var347     =	$22F7
    249  10000 ????		22 f8	    var348     =	$22F8
    250  10000 ????		22 f9	    var349     =	$22F9
    251  10000 ????		22 fa	    var350     =	$22FA
    252  10000 ????		22 fb	    var351     =	$22FB
    253  10000 ????		22 fc	    var352     =	$22FC
    254  10000 ????		22 fd	    var353     =	$22FD
    255  10000 ????		22 fe	    var354     =	$22FE
    256  10000 ????		22 ff	    var355     =	$22FF
    257  10000 ????		23 00	    var356     =	$2300
    258  10000 ????		23 01	    var357     =	$2301
    259  10000 ????		23 02	    var358     =	$2302
    260  10000 ????		23 03	    var359     =	$2303
    261  10000 ????		23 04	    var360     =	$2304
    262  10000 ????		23 05	    var361     =	$2305
    263  10000 ????		23 06	    var362     =	$2306
    264  10000 ????		23 07	    var363     =	$2307
    265  10000 ????		23 08	    var364     =	$2308
    266  10000 ????		23 09	    var365     =	$2309
    267  10000 ????		23 0a	    var366     =	$230A
    268  10000 ????		23 0b	    var367     =	$230B
    269  10000 ????		23 0c	    var368     =	$230C
    270  10000 ????		23 0d	    var369     =	$230D
    271  10000 ????		23 0e	    var370     =	$230E
    272  10000 ????		23 0f	    var371     =	$230F
    273  10000 ????		23 10	    var372     =	$2310
    274  10000 ????		23 11	    var373     =	$2311
    275  10000 ????		23 12	    var374     =	$2312
    276  10000 ????		23 13	    var375     =	$2313
    277  10000 ????		23 14	    var376     =	$2314
    278  10000 ????		23 15	    var377     =	$2315
    279  10000 ????		23 16	    var378     =	$2316
    280  10000 ????		23 17	    var379     =	$2317
    281  10000 ????		23 18	    var380     =	$2318
    282  10000 ????		23 19	    var381     =	$2319
    283  10000 ????		23 1a	    var382     =	$231A
    284  10000 ????		23 1b	    var383     =	$231B
    285  10000 ????		23 1c	    var384     =	$231C
    286  10000 ????		23 1d	    var385     =	$231D
    287  10000 ????		23 1e	    var386     =	$231E
    288  10000 ????		23 1f	    var387     =	$231F
    289  10000 ????		23 20	    var388     =	$2320
    290  10000 ????		23 21	    var389     =	$2321
    291  10000 ????		23 22	    var390     =	$2322
    292  10000 ????		23 23	    var391     =	$2323
    293  10000 ????		23 24	    var392     =	$2324
    294  10000 ????		23 25	    var393     =	$2325
    295  10000 ????		23 26	    var394     =	$2326
    296  10000 ????		23 27	    var395     =	$2327
    297  10000 ????		23 28	    var396     =	$2328
    298  10000 ????		23 29	    var397     =	$2329
    299  10000 ????		23 2a	    var398     =	$232A
    300  10000 ????		23 2b	    var399     =	$232B
    301  10000 ????		23 2c	    var400     =	$232C
    302  10000 ????		23 2d	    var401     =	$232D
    303  10000 ????		23 2e	    var402     =	$232E
    304  10000 ????		23 2f	    var403     =	$232F
    305  10000 ????		23 30	    var404     =	$2330
    306  10000 ????		23 31	    var405     =	$2331
    307  10000 ????		23 32	    var406     =	$2332
    308  10000 ????		23 33	    var407     =	$2333
    309  10000 ????		23 34	    var408     =	$2334
    310  10000 ????		23 35	    var409     =	$2335
    311  10000 ????		23 36	    var410     =	$2336
    312  10000 ????		23 37	    var411     =	$2337
    313  10000 ????		23 38	    var412     =	$2338
    314  10000 ????		23 39	    var413     =	$2339
    315  10000 ????		23 3a	    var414     =	$233A
    316  10000 ????		23 3b	    var415     =	$233B
    317  10000 ????		23 3c	    var416     =	$233C
    318  10000 ????		23 3d	    var417     =	$233D
    319  10000 ????		23 3e	    var418     =	$233E
    320  10000 ????		23 3f	    var419     =	$233F
    321  10000 ????		23 40	    var420     =	$2340
    322  10000 ????		23 41	    var421     =	$2341
    323  10000 ????		23 42	    var422     =	$2342
    324  10000 ????		23 43	    var423     =	$2343
    325  10000 ????		23 44	    var424     =	$2344
    326  10000 ????		23 45	    var425     =	$2345
    327  10000 ????		23 46	    var426     =	$2346
    328  10000 ????		23 47	    var427     =	$2347
    329  10000 ????		23 48	    var428     =	$2348
    330  10000 ????		23 49	    var429     =	$2349
    331  10000 ????		23 4a	    var430     =	$234A
    332  10000 ????		23 4b	    var431     =	$234B
    333  10000 ????		23 4c	    var432     =	$234C
    334  10000 ????		23 4d	    var433     =	$234D
    335  10000 ????		23 4e	    var434     =	$234E
    336  10000 ????		23 4f	    var435     =	$234F
    337  10000 ????		23 50	    var436     =	$2350
    338  10000 ????		23 51	    var437     =	$2351
    339  10000 ????		23 52	    var438     =	$2352
    340  10000 ????		23 53	    var439     =	$2353
    341  10000 ????		23 54	    var440     =	$2354
    342  10000 ????		23 55	    var441     =	$2355
    343  10000 ????		23 56	    var442     =	$2356
    344  10000 ????		23 57	    var443     =	$2357
    345  10000 ????		23 58	    var444     =	$2358
    346  10000 ????		23 59	    var445     =	$2359
    347  10000 ????		23 5a	    var446     =	$235A
    348  10000 ????		23 5b	    var447     =	$235B
    349  10000 ????		23 5c	    var448     =	$235C
    350  10000 ????		23 5d	    var449     =	$235D
    351  10000 ????		23 5e	    var450     =	$235E
    352  10000 ????		23 5f	    var451     =	$235F
    353  10000 ????		23 60	    var452     =	$2360
    354  10000 ????		23 61	    var453     =	$2361
    355  10000 ????		23 62	    var454     =	$2362
    356  10000 ????		23 63	    var455     =	$2363
    357  10000 ????		23 64	    var456     =	$2364
    358  10000 ????		23 65	    var457     =	$2365
    359  10000 ????		23 66	    var458     =	$2366
    360  10000 ????		23 67	    var459     =	$2367
    361  10000 ????		23 68	    var460     =	$2368
    362  10000 ????		23 69	    var461     =	$2369
    363  10000 ????		23 6a	    var462     =	$236A
    364  10000 ????		23 6b	    var463     =	$236B
    365  10000 ????		23 6c	    var464     =	$236C
    366  10000 ????		23 6d	    var465     =	$236D
    367  10000 ????		23 6e	    var466     =	$236E
    368  10000 ????		23 6f	    var467     =	$236F
    369  10000 ????		23 70	    var468     =	$2370
    370  10000 ????		23 71	    var469     =	$2371
    371  10000 ????		23 72	    var470     =	$2372
    372  10000 ????		23 73	    var471     =	$2373
    373  10000 ????		23 74	    var472     =	$2374
    374  10000 ????		23 75	    var473     =	$2375
    375  10000 ????		23 76	    var474     =	$2376
    376  10000 ????		23 77	    var475     =	$2377
    377  10000 ????		23 78	    var476     =	$2378
    378  10000 ????		23 79	    var477     =	$2379
    379  10000 ????		23 7a	    var478     =	$237A
    380  10000 ????		23 7b	    var479     =	$237B
    381  10000 ????		23 7c	    var480     =	$237C
    382  10000 ????		23 7d	    var481     =	$237D
    383  10000 ????		23 7e	    var482     =	$237E
    384  10000 ????		23 7f	    var483     =	$237F
    385  10000 ????		23 80	    var484     =	$2380
    386  10000 ????		23 81	    var485     =	$2381
    387  10000 ????		23 82	    var486     =	$2382
    388  10000 ????		23 83	    var487     =	$2383
    389  10000 ????		23 84	    var488     =	$2384
    390  10000 ????		23 85	    var489     =	$2385
    391  10000 ????		23 86	    var490     =	$2386
    392  10000 ????		23 87	    var491     =	$2387
    393  10000 ????		23 88	    var492     =	$2388
    394  10000 ????		23 89	    var493     =	$2389
    395  10000 ????		23 8a	    var494     =	$238A
    396  10000 ????		23 8b	    var495     =	$238B
    397  10000 ????		23 8c	    var496     =	$238C
    398  10000 ????		23 8d	    var497     =	$238D
    399  10000 ????		23 8e	    var498     =	$238E
    400  10000 ????		23 8f	    var499     =	$238F
    401  10000 ????		23 90	    var500     =	$2390
    402  10000 ????		23 91	    var501     =	$2391
    403  10000 ????		23 92	    var502     =	$2392
    404  10000 ????		23 93	    var503     =	$2393
    405  10000 ????		23 94	    var504     =	$2394
    406  10000 ????		23 95	    var505     =	$2395
    407  10000 ????		23 96	    var506     =	$2396
    408  10000 ????		23 97	    var507     =	$2397
    409  10000 ????		23 98	    var508     =	$2398
    410  10000 ????		23 99	    var509     =	$2399
    411  10000 ????		23 9a	    var510     =	$239A
    412  10000 ????		23 9b	    var511     =	$239B
    413  10000 ????		23 9c	    var512     =	$239C
    414  10000 ????		23 9d	    var513     =	$239D
    415  10000 ????		23 9e	    var514     =	$239E
    416  10000 ????		23 9f	    var515     =	$239F
    417  10000 ????		23 a0	    var516     =	$23A0
    418  10000 ????		23 a1	    var517     =	$23A1
    419  10000 ????		23 a2	    var518     =	$23A2
    420  10000 ????		23 a3	    var519     =	$23A3
    421  10000 ????		23 a4	    var520     =	$23A4
    422  10000 ????		23 a5	    var521     =	$23A5
    423  10000 ????		23 a6	    var522     =	$23A6
    424  10000 ????		23 a7	    var523     =	$23A7
    425  10000 ????		23 a8	    var524     =	$23A8
    426  10000 ????		23 a9	    var525     =	$23A9
    427  10000 ????		23 aa	    var526     =	$23AA
    428  10000 ????		23 ab	    var527     =	$23AB
    429  10000 ????		23 ac	    var528     =	$23AC
    430  10000 ????		23 ad	    var529     =	$23AD
    431  10000 ????		23 ae	    var530     =	$23AE
    432  10000 ????		23 af	    var531     =	$23AF
    433  10000 ????		23 b0	    var532     =	$23B0
    434  10000 ????		23 b1	    var533     =	$23B1
    435  10000 ????		23 b2	    var534     =	$23B2
    436  10000 ????		23 b3	    var535     =	$23B3
    437  10000 ????		23 b4	    var536     =	$23B4
    438  10000 ????		23 b5	    var537     =	$23B5
    439  10000 ????		23 b6	    var538     =	$23B6
    440  10000 ????		23 b7	    var539     =	$23B7
    441  10000 ????		23 b8	    var540     =	$23B8
    442  10000 ????		23 b9	    var541     =	$23B9
    443  10000 ????		23 ba	    var542     =	$23BA
    444  10000 ????		23 bb	    var543     =	$23BB
    445  10000 ????		23 bc	    var544     =	$23BC
    446  10000 ????		23 bd	    var545     =	$23BD
    447  10000 ????		23 be	    var546     =	$23BE
    448  10000 ????		23 bf	    var547     =	$23BF
    449  10000 ????		23 c0	    var548     =	$23C0
    450  10000 ????		23 c1	    var549     =	$23C1
    451  10000 ????		23 c2	    var550     =	$23C2
    452  10000 ????		23 c3	    var551     =	$23C3
    453  10000 ????		23 c4	    var552     =	$23C4
    454  10000 ????		23 c5	    var553     =	$23C5
    455  10000 ????		23 c6	    var554     =	$23C6
    456  10000 ????		23 c7	    var555     =	$23C7
    457  10000 ????		23 c8	    var556     =	$23C8
    458  10000 ????		23 c9	    var557     =	$23C9
    459  10000 ????		23 ca	    var558     =	$23CA
    460  10000 ????		23 cb	    var559     =	$23CB
    461  10000 ????		23 cc	    var560     =	$23CC
    462  10000 ????		23 cd	    var561     =	$23CD
    463  10000 ????		23 ce	    var562     =	$23CE
    464  10000 ????		23 cf	    var563     =	$23CF
    465  10000 ????		23 d0	    var564     =	$23D0
    466  10000 ????		23 d1	    var565     =	$23D1
    467  10000 ????		23 d2	    var566     =	$23D2
    468  10000 ????		23 d3	    var567     =	$23D3
    469  10000 ????		23 d4	    var568     =	$23D4
    470  10000 ????		23 d5	    var569     =	$23D5
    471  10000 ????		23 d6	    var570     =	$23D6
    472  10000 ????		23 d7	    var571     =	$23D7
    473  10000 ????		23 d8	    var572     =	$23D8
    474  10000 ????		23 d9	    var573     =	$23D9
    475  10000 ????		23 da	    var574     =	$23DA
    476  10000 ????		23 db	    var575     =	$23DB
    477  10000 ????		23 dc	    var576     =	$23DC
    478  10000 ????		23 dd	    var577     =	$23DD
    479  10000 ????		23 de	    var578     =	$23DE
    480  10000 ????		23 df	    var579     =	$23DF
    481  10000 ????		23 e0	    var580     =	$23E0
    482  10000 ????		23 e1	    var581     =	$23E1
    483  10000 ????		23 e2	    var582     =	$23E2
    484  10000 ????		23 e3	    var583     =	$23E3
    485  10000 ????		23 e4	    var584     =	$23E4
    486  10000 ????		23 e5	    var585     =	$23E5
    487  10000 ????		23 e6	    var586     =	$23E6
    488  10000 ????		23 e7	    var587     =	$23E7
    489  10000 ????		23 e8	    var588     =	$23E8
    490  10000 ????		23 e9	    var589     =	$23E9
    491  10000 ????		23 ea	    var590     =	$23EA
    492  10000 ????		23 eb	    var591     =	$23EB
    493  10000 ????		23 ec	    var592     =	$23EC
    494  10000 ????		23 ed	    var593     =	$23ED
    495  10000 ????		23 ee	    var594     =	$23EE
    496  10000 ????		23 ef	    var595     =	$23EF
    497  10000 ????		23 f0	    var596     =	$23F0
    498  10000 ????		23 f1	    var597     =	$23F1
    499  10000 ????		23 f2	    var598     =	$23F2
    500  10000 ????		23 f3	    var599     =	$23F3
    501  10000 ????		23 f4	    var600     =	$23F4
    502  10000 ????		23 f5	    var601     =	$23F5
    503  10000 ????		23 f6	    var602     =	$23F6
    504  10000 ????		23 f7	    var603     =	$23F7
    505  10000 ????		23 f8	    var604     =	$23F8
    506  10000 ????		23 f9	    var605     =	$23F9
    507  10000 ????		23 fa	    var606     =	$23FA
    508  10000 ????		23 fb	    var607     =	$23FB
    509  10000 ????		23 fc	    var608     =	$23FC
    510  10000 ????		23 fd	    var609     =	$23FD
    511  10000 ????		23 fe	    var610     =	$23FE
    512  10000 ????		23 ff	    var611     =	$23FF
    513  10000 ????		24 00	    var612     =	$2400
    514  10000 ????		24 01	    var613     =	$2401
    515  10000 ????		24 02	    var614     =	$2402
    516  10000 ????		24 03	    var615     =	$2403
    517  10000 ????		24 04	    var616     =	$2404
    518  10000 ????		24 05	    var617     =	$2405
    519  10000 ????		24 06	    var618     =	$2406
    520  10000 ????		24 07	    var619     =	$2407
    521  10000 ????		24 08	    var620     =	$2408
    522  10000 ????		24 09	    var621     =	$2409
    523  10000 ????		24 0a	    var622     =	$240A
    524  10000 ????		24 0b	    var623     =	$240B
    525  10000 ????		24 0c	    var624     =	$240C
    526  10000 ????		24 0d	    var625     =	$240D
    527  10000 ????		24 0e	    var626     =	$240E
    528  10000 ????		24 0f	    var627     =	$240F
    529  10000 ????		24 10	    var628     =	$2410
    530  10000 ????		24 11	    var629     =	$2411
    531  10000 ????		24 12	    var630     =	$2412
    532  10000 ????		24 13	    var631     =	$2413
    533  10000 ????		24 14	    var632     =	$2414
    534  10000 ????		24 15	    var633     =	$2415
    535  10000 ????		24 16	    var634     =	$2416
    536  10000 ????		24 17	    var635     =	$2417
    537  10000 ????		24 18	    var636     =	$2418
    538  10000 ????		24 19	    var637     =	$2419
    539  10000 ????		24 1a	    var638     =	$241A
    540  10000 ????		24 1b	    var639     =	$241B
    541  10000 ????		24 1c	    var640     =	$241C
    542  10000 ????		24 1d	    var641     =	$241D
    543  10000 ????		24 1e	    var642     =	$241E
    544  10000 ????		24 1f	    var643     =	$241F
    545  10000 ????		24 20	    var644     =	$2420
    546  10000 ????		24 21	    var645     =	$2421
    547  10000 ????		24 22	    var646     =	$2422
    548  10000 ????		24 23	    var647     =	$2423
    549  10000 ????		24 24	    var648     =	$2424
    550  10000 ????		24 25	    var649     =	$2425
    551  10000 ????		24 26	    var650     =	$2426
    552  10000 ????		24 27	    var651     =	$2427
    553  10000 ????		24 28	    var652     =	$2428
    554  10000 ????		24 29	    var653     =	$2429
    555  10000 ????		24 2a	    var654     =	$242A
    556  10000 ????		24 2b	    var655     =	$242B
    557  10000 ????		24 2c	    var656     =	$242C
    558  10000 ????		24 2d	    var657     =	$242D
    559  10000 ????		24 2e	    var658     =	$242E
    560  10000 ????		24 2f	    var659     =	$242F
    561  10000 ????		24 30	    var660     =	$2430
    562  10000 ????		24 31	    var661     =	$2431
    563  10000 ????		24 32	    var662     =	$2432
    564  10000 ????		24 33	    var663     =	$2433
    565  10000 ????		24 34	    var664     =	$2434
    566  10000 ????		24 35	    var665     =	$2435
    567  10000 ????		24 36	    var666     =	$2436
    568  10000 ????		24 37	    var667     =	$2437
    569  10000 ????		24 38	    var668     =	$2438
    570  10000 ????		24 39	    var669     =	$2439
    571  10000 ????		24 3a	    var670     =	$243A
    572  10000 ????		24 3b	    var671     =	$243B
    573  10000 ????		24 3c	    var672     =	$243C
    574  10000 ????		24 3d	    var673     =	$243D
    575  10000 ????		24 3e	    var674     =	$243E
    576  10000 ????		24 3f	    var675     =	$243F
    577  10000 ????		24 40	    var676     =	$2440
    578  10000 ????		24 41	    var677     =	$2441
    579  10000 ????		24 42	    var678     =	$2442
    580  10000 ????		24 43	    var679     =	$2443
    581  10000 ????		24 44	    var680     =	$2444
    582  10000 ????		24 45	    var681     =	$2445
    583  10000 ????		24 46	    var682     =	$2446
    584  10000 ????		24 47	    var683     =	$2447
    585  10000 ????		24 48	    var684     =	$2448
    586  10000 ????		24 49	    var685     =	$2449
    587  10000 ????		24 4a	    var686     =	$244A
    588  10000 ????		24 4b	    var687     =	$244B
    589  10000 ????		24 4c	    var688     =	$244C
    590  10000 ????		24 4d	    var689     =	$244D
    591  10000 ????		24 4e	    var690     =	$244E
    592  10000 ????		24 4f	    var691     =	$244F
    593  10000 ????		24 50	    var692     =	$2450
    594  10000 ????		24 51	    var693     =	$2451
    595  10000 ????		24 52	    var694     =	$2452
    596  10000 ????		24 53	    var695     =	$2453
    597  10000 ????		24 54	    var696     =	$2454
    598  10000 ????		24 55	    var697     =	$2455
    599  10000 ????		24 56	    var698     =	$2456
    600  10000 ????		24 57	    var699     =	$2457
    601  10000 ????		24 58	    var700     =	$2458
    602  10000 ????		24 59	    var701     =	$2459
    603  10000 ????		24 5a	    var702     =	$245A
    604  10000 ????		24 5b	    var703     =	$245B
    605  10000 ????		24 5c	    var704     =	$245C
    606  10000 ????		24 5d	    var705     =	$245D
    607  10000 ????		24 5e	    var706     =	$245E
    608  10000 ????		24 5f	    var707     =	$245F
    609  10000 ????		24 60	    var708     =	$2460
    610  10000 ????		24 61	    var709     =	$2461
    611  10000 ????		24 62	    var710     =	$2462
    612  10000 ????		24 63	    var711     =	$2463
    613  10000 ????		24 64	    var712     =	$2464
    614  10000 ????		24 65	    var713     =	$2465
    615  10000 ????		24 66	    var714     =	$2466
    616  10000 ????		24 67	    var715     =	$2467
    617  10000 ????		24 68	    var716     =	$2468
    618  10000 ????		24 69	    var717     =	$2469
    619  10000 ????		24 6a	    var718     =	$246A
    620  10000 ????		24 6b	    var719     =	$246B
    621  10000 ????		24 6c	    var720     =	$246C
    622  10000 ????		24 6d	    var721     =	$246D
    623  10000 ????		24 6e	    var722     =	$246E
    624  10000 ????		24 6f	    var723     =	$246F
    625  10000 ????		24 70	    var724     =	$2470
    626  10000 ????		24 71	    var725     =	$2471
    627  10000 ????		24 72	    var726     =	$2472
    628  10000 ????		24 73	    var727     =	$2473
    629  10000 ????		24 74	    var728     =	$2474
    630  10000 ????		24 75	    var729     =	$2475
    631  10000 ????		24 76	    var730     =	$2476
    632  10000 ????		24 77	    var731     =	$2477
    633  10000 ????		24 78	    var732     =	$2478
    634  10000 ????		24 79	    var733     =	$2479
    635  10000 ????		24 7a	    var734     =	$247A
    636  10000 ????		24 7b	    var735     =	$247B
    637  10000 ????		24 7c	    var736     =	$247C
    638  10000 ????		24 7d	    var737     =	$247D
    639  10000 ????		24 7e	    var738     =	$247E
    640  10000 ????		24 7f	    var739     =	$247F
    641  10000 ????		24 80	    var740     =	$2480
    642  10000 ????		24 81	    var741     =	$2481
    643  10000 ????		24 82	    var742     =	$2482
    644  10000 ????		24 83	    var743     =	$2483
    645  10000 ????		24 84	    var744     =	$2484
    646  10000 ????		24 85	    var745     =	$2485
    647  10000 ????		24 86	    var746     =	$2486
    648  10000 ????		24 87	    var747     =	$2487
    649  10000 ????		24 88	    var748     =	$2488
    650  10000 ????		24 89	    var749     =	$2489
    651  10000 ????		24 8a	    var750     =	$248A
    652  10000 ????		24 8b	    var751     =	$248B
    653  10000 ????		24 8c	    var752     =	$248C
    654  10000 ????		24 8d	    var753     =	$248D
    655  10000 ????		24 8e	    var754     =	$248E
    656  10000 ????		24 8f	    var755     =	$248F
    657  10000 ????		24 90	    var756     =	$2490
    658  10000 ????		24 91	    var757     =	$2491
    659  10000 ????		24 92	    var758     =	$2492
    660  10000 ????		24 93	    var759     =	$2493
    661  10000 ????		24 94	    var760     =	$2494
    662  10000 ????		24 95	    var761     =	$2495
    663  10000 ????		24 96	    var762     =	$2496
    664  10000 ????		24 97	    var763     =	$2497
    665  10000 ????		24 98	    var764     =	$2498
    666  10000 ????		24 99	    var765     =	$2499
    667  10000 ????		24 9a	    var766     =	$249A
    668  10000 ????		24 9b	    var767     =	$249B
    669  10000 ????		24 9c	    var768     =	$249C
    670  10000 ????		24 9d	    var769     =	$249D
    671  10000 ????		24 9e	    var770     =	$249E
    672  10000 ????		24 9f	    var771     =	$249F
    673  10000 ????		24 a0	    var772     =	$24A0
    674  10000 ????		24 a1	    var773     =	$24A1
    675  10000 ????		24 a2	    var774     =	$24A2
    676  10000 ????		24 a3	    var775     =	$24A3
    677  10000 ????		24 a4	    var776     =	$24A4
    678  10000 ????		24 a5	    var777     =	$24A5
    679  10000 ????		24 a6	    var778     =	$24A6
    680  10000 ????		24 a7	    var779     =	$24A7
    681  10000 ????		24 a8	    var780     =	$24A8
    682  10000 ????		24 a9	    var781     =	$24A9
    683  10000 ????		24 aa	    var782     =	$24AA
    684  10000 ????		24 ab	    var783     =	$24AB
    685  10000 ????		24 ac	    var784     =	$24AC
    686  10000 ????		24 ad	    var785     =	$24AD
    687  10000 ????		24 ae	    var786     =	$24AE
    688  10000 ????		24 af	    var787     =	$24AF
    689  10000 ????		24 b0	    var788     =	$24B0
    690  10000 ????		24 b1	    var789     =	$24B1
    691  10000 ????		24 b2	    var790     =	$24B2
    692  10000 ????		24 b3	    var791     =	$24B3
    693  10000 ????		24 b4	    var792     =	$24B4
    694  10000 ????		24 b5	    var793     =	$24B5
    695  10000 ????		24 b6	    var794     =	$24B6
    696  10000 ????		24 b7	    var795     =	$24B7
    697  10000 ????		24 b8	    var796     =	$24B8
    698  10000 ????		24 b9	    var797     =	$24B9
    699  10000 ????		24 ba	    var798     =	$24BA
    700  10000 ????		24 bb	    var799     =	$24BB
    701  10000 ????		24 bc	    var800     =	$24BC
    702  10000 ????		24 bd	    var801     =	$24BD
    703  10000 ????		24 be	    var802     =	$24BE
    704  10000 ????		24 bf	    var803     =	$24BF
    705  10000 ????		24 c0	    var804     =	$24C0
    706  10000 ????		24 c1	    var805     =	$24C1
    707  10000 ????		24 c2	    var806     =	$24C2
    708  10000 ????		24 c3	    var807     =	$24C3
    709  10000 ????		24 c4	    var808     =	$24C4
    710  10000 ????		24 c5	    var809     =	$24C5
    711  10000 ????		24 c6	    var810     =	$24C6
    712  10000 ????		24 c7	    var811     =	$24C7
    713  10000 ????		24 c8	    var812     =	$24C8
    714  10000 ????		24 c9	    var813     =	$24C9
    715  10000 ????		24 ca	    var814     =	$24CA
    716  10000 ????		24 cb	    var815     =	$24CB
    717  10000 ????		24 cc	    var816     =	$24CC
    718  10000 ????		24 cd	    var817     =	$24CD
    719  10000 ????		24 ce	    var818     =	$24CE
    720  10000 ????		24 cf	    var819     =	$24CF
    721  10000 ????		24 d0	    var820     =	$24D0
    722  10000 ????		24 d1	    var821     =	$24D1
    723  10000 ????		24 d2	    var822     =	$24D2
    724  10000 ????		24 d3	    var823     =	$24D3
    725  10000 ????		24 d4	    var824     =	$24D4
    726  10000 ????		24 d5	    var825     =	$24D5
    727  10000 ????		24 d6	    var826     =	$24D6
    728  10000 ????		24 d7	    var827     =	$24D7
    729  10000 ????		24 d8	    var828     =	$24D8
    730  10000 ????		24 d9	    var829     =	$24D9
    731  10000 ????		24 da	    var830     =	$24DA
    732  10000 ????		24 db	    var831     =	$24DB
    733  10000 ????		24 dc	    var832     =	$24DC
    734  10000 ????		24 dd	    var833     =	$24DD
    735  10000 ????		24 de	    var834     =	$24DE
    736  10000 ????		24 df	    var835     =	$24DF
    737  10000 ????		24 e0	    var836     =	$24E0
    738  10000 ????		24 e1	    var837     =	$24E1
    739  10000 ????		24 e2	    var838     =	$24E2
    740  10000 ????		24 e3	    var839     =	$24E3
    741  10000 ????		24 e4	    var840     =	$24E4
    742  10000 ????		24 e5	    var841     =	$24E5
    743  10000 ????		24 e6	    var842     =	$24E6
    744  10000 ????		24 e7	    var843     =	$24E7
    745  10000 ????		24 e8	    var844     =	$24E8
    746  10000 ????		24 e9	    var845     =	$24E9
    747  10000 ????		24 ea	    var846     =	$24EA
    748  10000 ????		24 eb	    var847     =	$24EB
    749  10000 ????		24 ec	    var848     =	$24EC
    750  10000 ????		24 ed	    var849     =	$24ED
    751  10000 ????		24 ee	    var850     =	$24EE
    752  10000 ????		24 ef	    var851     =	$24EF
    753  10000 ????		24 f0	    var852     =	$24F0
    754  10000 ????		24 f1	    var853     =	$24F1
    755  10000 ????		24 f2	    var854     =	$24F2
    756  10000 ????		24 f3	    var855     =	$24F3
    757  10000 ????		24 f4	    var856     =	$24F4
    758  10000 ????		24 f5	    var857     =	$24F5
    759  10000 ????		24 f6	    var858     =	$24F6
    760  10000 ????		24 f7	    var859     =	$24F7
    761  10000 ????		24 f8	    var860     =	$24F8
    762  10000 ????		24 f9	    var861     =	$24F9
    763  10000 ????		24 fa	    var862     =	$24FA
    764  10000 ????		24 fb	    var863     =	$24FB
    765  10000 ????		24 fc	    var864     =	$24FC
    766  10000 ????		24 fd	    var865     =	$24FD
    767  10000 ????		24 fe	    var866     =	$24FE
    768  10000 ????		24 ff	    var867     =	$24FF
    769  10000 ????		25 00	    var868     =	$2500
    770  10000 ????		25 01	    var869     =	$2501
    771  10000 ????		25 02	    var870     =	$2502
    772  10000 ????		25 03	    var871     =	$2503
    773  10000 ????		25 04	    var872     =	$2504
    774  10000 ????		25 05	    var873     =	$2505
    775  10000 ????		25 06	    var874     =	$2506
    776  10000 ????		25 07	    var875     =	$2507
    777  10000 ????		25 08	    var876     =	$2508
    778  10000 ????		25 09	    var877     =	$2509
    779  10000 ????		25 0a	    var878     =	$250A
    780  10000 ????		25 0b	    var879     =	$250B
    781  10000 ????		25 0c	    var880     =	$250C
    782  10000 ????		25 0d	    var881     =	$250D
    783  10000 ????		25 0e	    var882     =	$250E
    784  10000 ????		25 0f	    var883     =	$250F
    785  10000 ????		25 10	    var884     =	$2510
    786  10000 ????		25 11	    var885     =	$2511
    787  10000 ????		25 12	    var886     =	$2512
    788  10000 ????		25 13	    var887     =	$2513
    789  10000 ????		25 14	    var888     =	$2514
    790  10000 ????		25 15	    var889     =	$2515
    791  10000 ????		25 16	    var890     =	$2516
    792  10000 ????		25 17	    var891     =	$2517
    793  10000 ????		25 18	    var892     =	$2518
    794  10000 ????		25 19	    var893     =	$2519
    795  10000 ????		25 1a	    var894     =	$251A
    796  10000 ????		25 1b	    var895     =	$251B
    797  10000 ????		25 1c	    var896     =	$251C
    798  10000 ????		25 1d	    var897     =	$251D
    799  10000 ????		25 1e	    var898     =	$251E
    800  10000 ????		25 1f	    var899     =	$251F
    801  10000 ????		25 20	    var900     =	$2520
    802  10000 ????		25 21	    var901     =	$2521
    803  10000 ????		25 22	    var902     =	$2522
    804  10000 ????		25 23	    var903     =	$2523
    805  10000 ????		25 24	    var904     =	$2524
    806  10000 ????		25 25	    var905     =	$2525
    807  10000 ????		25 26	    var906     =	$2526
    808  10000 ????		25 27	    var907     =	$2527
    809  10000 ????		25 28	    var908     =	$2528
    810  10000 ????		25 29	    var909     =	$2529
    811  10000 ????		25 2a	    var910     =	$252A
    812  10000 ????		25 2b	    var911     =	$252B
    813  10000 ????		25 2c	    var912     =	$252C
    814  10000 ????		25 2d	    var913     =	$252D
    815  10000 ????		25 2e	    var914     =	$252E
    816  10000 ????		25 2f	    var915     =	$252F
    817  10000 ????		25 30	    var916     =	$2530
    818  10000 ????		25 31	    var917     =	$2531
    819  10000 ????		25 32	    var918     =	$2532
    820  10000 ????		25 33	    var919     =	$2533
    821  10000 ????		25 34	    var920     =	$2534
    822  10000 ????		25 35	    var921     =	$2535
    823  10000 ????		25 36	    var922     =	$2536
    824  10000 ????		25 37	    var923     =	$2537
    825  10000 ????		25 38	    var924     =	$2538
    826  10000 ????		25 39	    var925     =	$2539
    827  10000 ????		25 3a	    var926     =	$253A
    828  10000 ????		25 3b	    var927     =	$253B
    829  10000 ????		25 3c	    var928     =	$253C
    830  10000 ????		25 3d	    var929     =	$253D
    831  10000 ????		25 3e	    var930     =	$253E
    832  10000 ????		25 3f	    var931     =	$253F
    833  10000 ????		25 40	    var932     =	$2540
    834  10000 ????		25 41	    var933     =	$2541
    835  10000 ????		25 42	    var934     =	$2542
    836  10000 ????		25 43	    var935     =	$2543
    837  10000 ????		25 44	    var936     =	$2544
    838  10000 ????		25 45	    var937     =	$2545
    839  10000 ????		25 46	    var938     =	$2546
    840  10000 ????		25 47	    var939     =	$2547
    841  10000 ????		25 48	    var940     =	$2548
    842  10000 ????		25 49	    var941     =	$2549
    843  10000 ????		25 4a	    var942     =	$254A
    844  10000 ????		25 4b	    var943     =	$254B
    845  10000 ????		25 4c	    var944     =	$254C
    846  10000 ????		25 4d	    var945     =	$254D
    847  10000 ????		25 4e	    var946     =	$254E
    848  10000 ????		25 4f	    var947     =	$254F
    849  10000 ????		25 50	    var948     =	$2550
    850  10000 ????		25 51	    var949     =	$2551
    851  10000 ????		25 52	    var950     =	$2552
    852  10000 ????		25 53	    var951     =	$2553
    853  10000 ????		25 54	    var952     =	$2554
    854  10000 ????		25 55	    var953     =	$2555
    855  10000 ????		25 56	    var954     =	$2556
    856  10000 ????		25 57	    var955     =	$2557
    857  10000 ????		25 58	    var956     =	$2558
    858  10000 ????		25 59	    var957     =	$2559
    859  10000 ????		25 5a	    var958     =	$255A
    860  10000 ????		25 5b	    var959     =	$255B
    861  10000 ????		25 5c	    var960     =	$255C
    862  10000 ????		25 5d	    var961     =	$255D
    863  10000 ????		25 5e	    var962     =	$255E
    864  10000 ????		25 5f	    var963     =	$255F
    865  10000 ????		25 60	    var964     =	$2560
    866  10000 ????		25 61	    var965     =	$2561
    867  10000 ????		25 62	    var966     =	$2562
    868  10000 ????		25 63	    var967     =	$2563
    869  10000 ????		25 64	    var968     =	$2564
    870  10000 ????		25 65	    var969     =	$2565
    871  10000 ????		25 66	    var970     =	$2566
    872  10000 ????		25 67	    var971     =	$2567
    873  10000 ????		25 68	    var972     =	$2568
    874  10000 ????		25 69	    var973     =	$2569
    875  10000 ????		25 6a	    var974     =	$256A
    876  10000 ????		25 6b	    var975     =	$256B
    877  10000 ????		25 6c	    var976     =	$256C
    878  10000 ????		25 6d	    var977     =	$256D
    879  10000 ????		25 6e	    var978     =	$256E
    880  10000 ????		25 6f	    var979     =	$256F
    881  10000 ????		25 70	    var980     =	$2570
    882  10000 ????		25 71	    var981     =	$2571
    883  10000 ????		25 72	    var982     =	$2572
    884  10000 ????		25 73	    var983     =	$2573
    885  10000 ????		25 74	    var984     =	$2574
    886  10000 ????		25 75	    var985     =	$2575
    887  10000 ????		25 76	    var986     =	$2576
    888  10000 ????		25 77	    var987     =	$2577
    889  10000 ????		25 78	    var988     =	$2578
    890  10000 ????		25 79	    var989     =	$2579
    891  10000 ????		25 7a	    var990     =	$257A
    892  10000 ????		25 7b	    var991     =	$257B
    893  10000 ????		25 7c	    var992     =	$257C
    894  10000 ????		25 7d	    var993     =	$257D
    895  10000 ????		25 7e	    var994     =	$257E
    896  10000 ????		25 7f	    var995     =	$257F
    897  10000 ????		25 80	    var996     =	$2580
    898  10000 ????		25 81	    var997     =	$2581
    899  10000 ????		25 82	    var998     =	$2582
    900  10000 ????		25 83	    var999     =	$2583
    901  10000 ????		25 84	    var1000    =	$2584
    902  10000 ????		25 85	    var1001    =	$2585
    903  10000 ????		25 86	    var1002    =	$2586
    904  10000 ????		25 87	    var1003    =	$2587
    905  10000 ????		25 88	    var1004    =	$2588
    906  10000 ????		25 89	    var1005    =	$2589
    907  10000 ????		25 8a	    var1006    =	$258A
    908  10000 ????		25 8b	    var1007    =	$258B
    909  10000 ????		25 8c	    var1008    =	$258C
    910  10000 ????		25 8d	    var1009    =	$258D
    911  10000 ????		25 8e	    var1010    =	$258E
    912  10000 ????		25 8f	    var1011    =	$258F
    913  10000 ????		25 90	    var1012    =	$2590
    914  10000 ????		25 91	    var1013    =	$2591
    915  10000 ????		25 92	    var1014    =	$2592
    916  10000 ????		25 93	    var1015    =	$2593
    917  10000 ????		25 94	    var1016    =	$2594
    918  10000 ????		25 95	    var1017    =	$2595
    919  10000 ????		25 96	    var1018    =	$2596
    920  10000 ????		25 97	    var1019    =	$2597
    921  10000 ????		25 98	    var1020    =	$2598
    922  10000 ????		25 99	    var1021    =	$2599
    923  10000 ????		25 9a	    var1022    =	$259A
    924  10000 ????		25 9b	    var1023    =	$259B
    925  10000 ????		25 9c	    var1024    =	$259C
    926  10000 ????		25 9d	    var1025    =	$259D
    927  10000 ????		25 9e	    var1026    =	$259E
    928  10000 ????		25 9f	    var1027    =	$259F
    929  10000 ????		25 a0	    var1028    =	$25A0
    930  10000 ????		25 a1	    var1029    =	$25A1
    931  10000 ????		25 a2	    var1030    =	$25A2
    932  10000 ????		25 a3	    var1031    =	$25A3
    933  10000 ????		25 a4	    var1032    =	$25A4
    934  10000 ????		25 a5	    var1033    =	$25A5
    935  10000 ????		25 a6	    var1034    =	$25A6
    936  10000 ????		25 a7	    var1035    =	$25A7
    937  10000 ????		25 a8	    var1036    =	$25A8
    938  10000 ????		25 a9	    var1037    =	$25A9
    939  10000 ????		25 aa	    var1038    =	$25AA
    940  10000 ????		25 ab	    var1039    =	$25AB
    941  10000 ????		25 ac	    var1040    =	$25AC
    942  10000 ????		25 ad	    var1041    =	$25AD
    943  10000 ????		25 ae	    var1042    =	$25AE
    944  10000 ????		25 af	    var1043    =	$25AF
    945  10000 ????		25 b0	    var1044    =	$25B0
    946  10000 ????		25 b1	    var1045    =	$25B1
    947  10000 ????		25 b2	    var1046    =	$25B2
    948  10000 ????		25 b3	    var1047    =	$25B3
    949  10000 ????		25 b4	    var1048    =	$25B4
    950  10000 ????		25 b5	    var1049    =	$25B5
    951  10000 ????		25 b6	    var1050    =	$25B6
    952  10000 ????		25 b7	    var1051    =	$25B7
    953  10000 ????		25 b8	    var1052    =	$25B8
    954  10000 ????		25 b9	    var1053    =	$25B9
    955  10000 ????		25 ba	    var1054    =	$25BA
    956  10000 ????		25 bb	    var1055    =	$25BB
    957  10000 ????		25 bc	    var1056    =	$25BC
    958  10000 ????		25 bd	    var1057    =	$25BD
    959  10000 ????		25 be	    var1058    =	$25BE
    960  10000 ????		25 bf	    var1059    =	$25BF
    961  10000 ????		25 c0	    var1060    =	$25C0
    962  10000 ????		25 c1	    var1061    =	$25C1
    963  10000 ????		25 c2	    var1062    =	$25C2
    964  10000 ????		25 c3	    var1063    =	$25C3
    965  10000 ????		25 c4	    var1064    =	$25C4
    966  10000 ????		25 c5	    var1065    =	$25C5
    967  10000 ????		25 c6	    var1066    =	$25C6
    968  10000 ????		25 c7	    var1067    =	$25C7
    969  10000 ????		25 c8	    var1068    =	$25C8
    970  10000 ????		25 c9	    var1069    =	$25C9
    971  10000 ????		25 ca	    var1070    =	$25CA
    972  10000 ????		25 cb	    var1071    =	$25CB
    973  10000 ????		25 cc	    var1072    =	$25CC
    974  10000 ????		25 cd	    var1073    =	$25CD
    975  10000 ????		25 ce	    var1074    =	$25CE
    976  10000 ????		25 cf	    var1075    =	$25CF
    977  10000 ????		25 d0	    var1076    =	$25D0
    978  10000 ????		25 d1	    var1077    =	$25D1
    979  10000 ????		25 d2	    var1078    =	$25D2
    980  10000 ????		25 d3	    var1079    =	$25D3
    981  10000 ????		25 d4	    var1080    =	$25D4
    982  10000 ????		25 d5	    var1081    =	$25D5
    983  10000 ????		25 d6	    var1082    =	$25D6
    984  10000 ????		25 d7	    var1083    =	$25D7
    985  10000 ????		25 d8	    var1084    =	$25D8
    986  10000 ????		25 d9	    var1085    =	$25D9
    987  10000 ????		25 da	    var1086    =	$25DA
    988  10000 ????		25 db	    var1087    =	$25DB
    989  10000 ????		25 dc	    var1088    =	$25DC
    990  10000 ????		25 dd	    var1089    =	$25DD
    991  10000 ????		25 de	    var1090    =	$25DE
    992  10000 ????		25 df	    var1091    =	$25DF
    993  10000 ????		25 e0	    var1092    =	$25E0
    994  10000 ????		25 e1	    var1093    =	$25E1
    995  10000 ????		25 e2	    var1094    =	$25E2
    996  10000 ????		25 e3	    var1095    =	$25E3
    997  10000 ????		25 e4	    var1096    =	$25E4
    998  10000 ????		25 e5	    var1097    =	$25E5
    999  10000 ????		25 e6	    var1098    =	$25E6
   1000  10000 ????		25 e7	    var1099    =	$25E7
   1001  10000 ????		25 e8	    var1100    =	$25E8
   1002  10000 ????		25 e9	    var1101    =	$25E9
   1003  10000 ????		25 ea	    var1102    =	$25EA
   1004  10000 ????		25 eb	    var1103    =	$25EB
   1005  10000 ????		25 ec	    var1104    =	$25EC
   1006  10000 ????		25 ed	    var1105    =	$25ED
   1007  10000 ????		25 ee	    var1106    =	$25EE
   1008  10000 ????		25 ef	    var1107    =	$25EF
   1009  10000 ????		25 f0	    var1108    =	$25F0
   1010  10000 ????		25 f1	    var1109    =	$25F1
   1011  10000 ????		25 f2	    var1110    =	$25F2
   1012  10000 ????		25 f3	    var1111    =	$25F3
   1013  10000 ????		25 f4	    var1112    =	$25F4
   1014  10000 ????		25 f5	    var1113    =	$25F5
   1015  10000 ????		25 f6	    var1114    =	$25F6
   1016  10000 ????		25 f7	    var1115    =	$25F7
   1017  10000 ????		25 f8	    var1116    =	$25F8
   1018  10000 ????		25 f9	    var1117    =	$25F9
   1019  10000 ????		25 fa	    var1118    =	$25FA
   1020  10000 ????		25 fb	    var1119    =	$25FB
   1021  10000 ????		25 fc	    var1120    =	$25FC
   1022  10000 ????		25 fd	    var1121    =	$25FD
   1023  10000 ????		25 fe	    var1122    =	$25FE
   1024  10000 ????		25 ff	    var1123    =	$25FF
   1025  10000 ????		26 00	    var1124    =	$2600
   1026  10000 ????		26 01	    var1125    =	$2601
   1027  10000 ????		26 02	    var1126    =	$2602
   1028  10000 ????		26 03	    var1127    =	$2603
   1029  10000 ????		26 04	    var1128    =	$2604
   1030  10000 ????		26 05	    var1129    =	$2605
   1031  10000 ????		26 06	    var1130    =	$2606
   1032  10000 ????		26 07	    var1131    =	$2607
   1033  10000 ????		26 08	    var1132    =	$2608
   1034  10000 ????		26 09	    var1133    =	$2609
   1035  10000 ????		26 0a	    var1134    =	$260A
   1036  10000 ????		26 0b	    var1135    =	$260B
   1037  10000 ????		26 0c	    var1136    =	$260C
   1038  10000 ????		26 0d	    var1137    =	$260D
   1039  10000 ????		26 0e	    var1138    =	$260E
   1040  10000 ????		26 0f	    var1139    =	$260F
   1041  10000 ????		26 10	    var1140    =	$2610
   1042  10000 ????		26 11	    var1141    =	$2611
   1043  10000 ????		26 12	    var1142    =	$2612
   1044  10000 ????		26 13	    var1143    =	$2613
   1045  10000 ????		26 14	    var1144    =	$2614
   1046  10000 ????		26 15	    var1145    =	$2615
   1047  10000 ????		26 16	    var1146    =	$2616
   1048  10000 ????		26 17	    var1147    =	$2617
   1049  10000 ????		26 18	    var1148    =	$2618
   1050  10000 ????		26 19	    var1149    =	$2619
   1051  10000 ????		26 1a	    var1150    =	$261A
   1052  10000 ????		26 1b	    var1151    =	$261B
   1053  10000 ????		26 1c	    var1152    =	$261C
   1054  10000 ????		26 1d	    var1153    =	$261D
   1055  10000 ????		26 1e	    var1154    =	$261E
   1056  10000 ????		26 1f	    var1155    =	$261F
   1057  10000 ????		26 20	    var1156    =	$2620
   1058  10000 ????		26 21	    var1157    =	$2621
   1059  10000 ????		26 22	    var1158    =	$2622
   1060  10000 ????		26 23	    var1159    =	$2623
   1061  10000 ????		26 24	    var1160    =	$2624
   1062  10000 ????		26 25	    var1161    =	$2625
   1063  10000 ????		26 26	    var1162    =	$2626
   1064  10000 ????		26 27	    var1163    =	$2627
   1065  10000 ????		26 28	    var1164    =	$2628
   1066  10000 ????		26 29	    var1165    =	$2629
   1067  10000 ????		26 2a	    var1166    =	$262A
   1068  10000 ????		26 2b	    var1167    =	$262B
   1069  10000 ????		26 2c	    var1168    =	$262C
   1070  10000 ????		26 2d	    var1169    =	$262D
   1071  10000 ????		26 2e	    var1170    =	$262E
   1072  10000 ????		26 2f	    var1171    =	$262F
   1073  10000 ????		26 30	    var1172    =	$2630
   1074  10000 ????		26 31	    var1173    =	$2631
   1075  10000 ????		26 32	    var1174    =	$2632
   1076  10000 ????		26 33	    var1175    =	$2633
   1077  10000 ????		26 34	    var1176    =	$2634
   1078  10000 ????		26 35	    var1177    =	$2635
   1079  10000 ????		26 36	    var1178    =	$2636
   1080  10000 ????		26 37	    var1179    =	$2637
   1081  10000 ????		26 38	    var1180    =	$2638
   1082  10000 ????		26 39	    var1181    =	$2639
   1083  10000 ????		26 3a	    var1182    =	$263A
   1084  10000 ????		26 3b	    var1183    =	$263B
   1085  10000 ????		26 3c	    var1184    =	$263C
   1086  10000 ????		26 3d	    var1185    =	$263D
   1087  10000 ????		26 3e	    var1186    =	$263E
   1088  10000 ????		26 3f	    var1187    =	$263F
   1089  10000 ????		26 40	    var1188    =	$2640
   1090  10000 ????		26 41	    var1189    =	$2641
   1091  10000 ????		26 42	    var1190    =	$2642
   1092  10000 ????		26 43	    var1191    =	$2643
   1093  10000 ????		26 44	    var1192    =	$2644
   1094  10000 ????		26 45	    var1193    =	$2645
   1095  10000 ????		26 46	    var1194    =	$2646
   1096  10000 ????		26 47	    var1195    =	$2647
   1097  10000 ????		26 48	    var1196    =	$2648
   1098  10000 ????		26 49	    var1197    =	$2649
   1099  10000 ????		26 4a	    var1198    =	$264A
   1100  10000 ????		26 4b	    var1199    =	$264B
   1101  10000 ????		26 4c	    var1200    =	$264C
   1102  10000 ????		26 4d	    var1201    =	$264D
   1103  10000 ????		26 4e	    var1202    =	$264E
   1104  10000 ????		26 4f	    var1203    =	$264F
   1105  10000 ????		26 50	    var1204    =	$2650
   1106  10000 ????		26 51	    var1205    =	$2651
   1107  10000 ????		26 52	    var1206    =	$2652
   1108  10000 ????		26 53	    var1207    =	$2653
   1109  10000 ????		26 54	    var1208    =	$2654
   1110  10000 ????		26 55	    var1209    =	$2655
   1111  10000 ????		26 56	    var1210    =	$2656
   1112  10000 ????		26 57	    var1211    =	$2657
   1113  10000 ????		26 58	    var1212    =	$2658
   1114  10000 ????		26 59	    var1213    =	$2659
   1115  10000 ????		26 5a	    var1214    =	$265A
   1116  10000 ????		26 5b	    var1215    =	$265B
   1117  10000 ????		26 5c	    var1216    =	$265C
   1118  10000 ????		26 5d	    var1217    =	$265D
   1119  10000 ????		26 5e	    var1218    =	$265E
   1120  10000 ????		26 5f	    var1219    =	$265F
   1121  10000 ????		26 60	    var1220    =	$2660
   1122  10000 ????		26 61	    var1221    =	$2661
   1123  10000 ????		26 62	    var1222    =	$2662
   1124  10000 ????		26 63	    var1223    =	$2663
   1125  10000 ????		26 64	    var1224    =	$2664
   1126  10000 ????		26 65	    var1225    =	$2665
   1127  10000 ????		26 66	    var1226    =	$2666
   1128  10000 ????		26 67	    var1227    =	$2667
   1129  10000 ????		26 68	    var1228    =	$2668
   1130  10000 ????		26 69	    var1229    =	$2669
   1131  10000 ????		26 6a	    var1230    =	$266A
   1132  10000 ????		26 6b	    var1231    =	$266B
   1133  10000 ????		26 6c	    var1232    =	$266C
   1134  10000 ????		26 6d	    var1233    =	$266D
   1135  10000 ????		26 6e	    var1234    =	$266E
   1136  10000 ????		26 6f	    var1235    =	$266F
   1137  10000 ????		26 70	    var1236    =	$2670
   1138  10000 ????		26 71	    var1237    =	$2671
   1139  10000 ????		26 72	    var1238    =	$2672
   1140  10000 ????		26 73	    var1239    =	$2673
   1141  10000 ????		26 74	    var1240    =	$2674
   1142  10000 ????		26 75	    var1241    =	$2675
   1143  10000 ????		26 76	    var1242    =	$2676
   1144  10000 ????		26 77	    var1243    =	$2677
   1145  10000 ????		26 78	    var1244    =	$2678
   1146  10000 ????		26 79	    var1245    =	$2679
   1147  10000 ????		26 7a	    var1246    =	$267A
   1148  10000 ????		26 7b	    var1247    =	$267B
   1149  10000 ????		26 7c	    var1248    =	$267C
   1150  10000 ????		26 7d	    var1249    =	$267D
   1151  10000 ????		26 7e	    var1250    =	$267E
   1152  10000 ????		26 7f	    var1251    =	$267F
   1153  10000 ????		26 80	    var1252    =	$2680
   1154  10000 ????		26 81	    var1253    =	$2681
   1155  10000 ????		26 82	    var1254    =	$2682
   1156  10000 ????		26 83	    var1255    =	$2683
   1157  10000 ????		26 84	    var1256    =	$2684
   1158  10000 ????		26 85	    var1257    =	$2685
   1159  10000 ????		26 86	    var1258    =	$2686
   1160  10000 ????		26 87	    var1259    =	$2687
   1161  10000 ????		26 88	    var1260    =	$2688
   1162  10000 ????		26 89	    var1261    =	$2689
   1163  10000 ????		26 8a	    var1262    =	$268A
   1164  10000 ????		26 8b	    var1263    =	$268B
   1165  10000 ????		26 8c	    var1264    =	$268C
   1166  10000 ????		26 8d	    var1265    =	$268D
   1167  10000 ????		26 8e	    var1266    =	$268E
   1168  10000 ????		26 8f	    var1267    =	$268F
   1169  10000 ????		26 90	    var1268    =	$2690
   1170  10000 ????		26 91	    var1269    =	$2691
   1171  10000 ????		26 92	    var1270    =	$2692
   1172  10000 ????		26 93	    var1271    =	$2693
   1173  10000 ????		26 94	    var1272    =	$2694
   1174  10000 ????		26 95	    var1273    =	$2695
   1175  10000 ????		26 96	    var1274    =	$2696
   1176  10000 ????		26 97	    var1275    =	$2697
   1177  10000 ????		26 98	    var1276    =	$2698
   1178  10000 ????		26 99	    var1277    =	$2699
   1179  10000 ????		26 9a	    var1278    =	$269A
   1180  10000 ????		26 9b	    var1279    =	$269B
   1181  10000 ????		26 9c	    var1280    =	$269C
   1182  10000 ????		26 9d	    var1281    =	$269D
   1183  10000 ????		26 9e	    var1282    =	$269E
   1184  10000 ????		26 9f	    var1283    =	$269F
   1185  10000 ????		26 a0	    var1284    =	$26A0
   1186  10000 ????		26 a1	    var1285    =	$26A1
   1187  10000 ????		26 a2	    var1286    =	$26A2
   1188  10000 ????		26 a3	    var1287    =	$26A3
   1189  10000 ????		26 a4	    var1288    =	$26A4
   1190  10000 ????		26 a5	    var1289    =	$26A5
   1191  10000 ????		26 a6	    var1290    =	$26A6
   1192  10000 ????		26 a7	    var1291    =	$26A7
   1193  10000 ????		26 a8	    var1292    =	$26A8
   1194  10000 ????		26 a9	    var1293    =	$26A9
   1195  10000 ????		26 aa	    var1294    =	$26AA
   1196  10000 ????		26 ab	    var1295    =	$26AB
   1197  10000 ????		26 ac	    var1296    =	$26AC
   1198  10000 ????		26 ad	    var1297    =	$26AD
   1199  10000 ????		26 ae	    var1298    =	$26AE
   1200  10000 ????		26 af	    var1299    =	$26AF
   1201  10000 ????		26 b0	    var1300    =	$26B0
   1202  10000 ????		26 b1	    var1301    =	$26B1
   1203  10000 ????		26 b2	    var1302    =	$26B2
   1204  10000 ????		26 b3	    var1303    =	$26B3
   1205  10000 ????		26 b4	    var1304    =	$26B4
   1206  10000 ????		26 b5	    var1305    =	$26B5
   1207  10000 ????		26 b6	    var1306    =	$26B6
   1208  10000 ????		26 b7	    var1307    =	$26B7
   1209  10000 ????		26 b8	    var1308    =	$26B8
   1210  10000 ????		26 b9	    var1309    =	$26B9
   1211  10000 ????		26 ba	    var1310    =	$26BA
   1212  10000 ????		26 bb	    var1311    =	$26BB
   1213  10000 ????		26 bc	    var1312    =	$26BC
   1214  10000 ????		26 bd	    var1313    =	$26BD
   1215  10000 ????		26 be	    var1314    =	$26BE
   1216  10000 ????		26 bf	    var1315    =	$26BF
   1217  10000 ????		26 c0	    var1316    =	$26C0
   1218  10000 ????		26 c1	    var1317    =	$26C1
   1219  10000 ????		26 c2	    var1318    =	$26C2
   1220  10000 ????		26 c3	    var1319    =	$26C3
   1221  10000 ????		26 c4	    var1320    =	$26C4
   1222  10000 ????		26 c5	    var1321    =	$26C5
   1223  10000 ????		26 c6	    var1322    =	$26C6
   1224  10000 ????		26 c7	    var1323    =	$26C7
   1225  10000 ????		26 c8	    var1324    =	$26C8
   1226  10000 ????		26 c9	    var1325    =	$26C9
   1227  10000 ????		26 ca	    var1326    =	$26CA
   1228  10000 ????		26 cb	    var1327    =	$26CB
   1229  10000 ????		26 cc	    var1328    =	$26CC
   1230  10000 ????		26 cd	    var1329    =	$26CD
   1231  10000 ????		26 ce	    var1330    =	$26CE
   1232  10000 ????		26 cf	    var1331    =	$26CF
   1233  10000 ????		26 d0	    var1332    =	$26D0
   1234  10000 ????		26 d1	    var1333    =	$26D1
   1235  10000 ????		26 d2	    var1334    =	$26D2
   1236  10000 ????		26 d3	    var1335    =	$26D3
   1237  10000 ????		26 d4	    var1336    =	$26D4
   1238  10000 ????		26 d5	    var1337    =	$26D5
   1239  10000 ????		26 d6	    var1338    =	$26D6
   1240  10000 ????		26 d7	    var1339    =	$26D7
   1241  10000 ????		26 d8	    var1340    =	$26D8
   1242  10000 ????		26 d9	    var1341    =	$26D9
   1243  10000 ????		26 da	    var1342    =	$26DA
   1244  10000 ????		26 db	    var1343    =	$26DB
   1245  10000 ????		26 dc	    var1344    =	$26DC
   1246  10000 ????		26 dd	    var1345    =	$26DD
   1247  10000 ????		26 de	    var1346    =	$26DE
   1248  10000 ????		26 df	    var1347    =	$26DF
   1249  10000 ????		26 e0	    var1348    =	$26E0
   1250  10000 ????		26 e1	    var1349    =	$26E1
   1251  10000 ????		26 e2	    var1350    =	$26E2
   1252  10000 ????		26 e3	    var1351    =	$26E3
   1253  10000 ????		26 e4	    var1352    =	$26E4
   1254  10000 ????		26 e5	    var1353    =	$26E5
   1255  10000 ????		26 e6	    var1354    =	$26E6
   1256  10000 ????		26 e7	    var1355    =	$26E7
   1257  10000 ????		26 e8	    var1356    =	$26E8
   1258  10000 ????		26 e9	    var1357    =	$26E9
   1259  10000 ????		26 ea	    var1358    =	$26EA
   1260  10000 ????		26 eb	    var1359    =	$26EB
   1261  10000 ????		26 ec	    var1360    =	$26EC
   1262  10000 ????		26 ed	    var1361    =	$26ED
   1263  10000 ????		26 ee	    var1362    =	$26EE
   1264  10000 ????		26 ef	    var1363    =	$26EF
   1265  10000 ????		26 f0	    var1364    =	$26F0
   1266  10000 ????		26 f1	    var1365    =	$26F1
   1267  10000 ????		26 f2	    var1366    =	$26F2
   1268  10000 ????		26 f3	    var1367    =	$26F3
   1269  10000 ????		26 f4	    var1368    =	$26F4
   1270  10000 ????		26 f5	    var1369    =	$26F5
   1271  10000 ????		26 f6	    var1370    =	$26F6
   1272  10000 ????		26 f7	    var1371    =	$26F7
   1273  10000 ????		26 f8	    var1372    =	$26F8
   1274  10000 ????		26 f9	    var1373    =	$26F9
   1275  10000 ????		26 fa	    var1374    =	$26FA
   1276  10000 ????		26 fb	    var1375    =	$26FB
   1277  10000 ????		26 fc	    var1376    =	$26FC
   1278  10000 ????		26 fd	    var1377    =	$26FD
   1279  10000 ????		26 fe	    var1378    =	$26FE
   1280  10000 ????		26 ff	    var1379    =	$26FF
   1281  10000 ????		27 00	    var1380    =	$2700
   1282  10000 ????		27 01	    var1381    =	$2701
   1283  10000 ????		27 02	    var1382    =	$2702
   1284  10000 ????		27 03	    var1383    =	$2703
   1285  10000 ????		27 04	    var1384    =	$2704
   1286  10000 ????		27 05	    var1385    =	$2705
   1287  10000 ????		27 06	    var1386    =	$2706
   1288  10000 ????		27 07	    var1387    =	$2707
   1289  10000 ????		27 08	    var1388    =	$2708
   1290  10000 ????		27 09	    var1389    =	$2709
   1291  10000 ????		27 0a	    var1390    =	$270A
   1292  10000 ????		27 0b	    var1391    =	$270B
   1293  10000 ????		27 0c	    var1392    =	$270C
   1294  10000 ????		27 0d	    var1393    =	$270D
   1295  10000 ????		27 0e	    var1394    =	$270E
   1296  10000 ????		27 0f	    var1395    =	$270F
   1297  10000 ????		27 10	    var1396    =	$2710
   1298  10000 ????		27 11	    var1397    =	$2711
   1299  10000 ????		27 12	    var1398    =	$2712
   1300  10000 ????		27 13	    var1399    =	$2713
   1301  10000 ????		27 14	    var1400    =	$2714
   1302  10000 ????		27 15	    var1401    =	$2715
   1303  10000 ????		27 16	    var1402    =	$2716
   1304  10000 ????		27 17	    var1403    =	$2717
   1305  10000 ????		27 18	    var1404    =	$2718
   1306  10000 ????		27 19	    var1405    =	$2719
   1307  10000 ????		27 1a	    var1406    =	$271A
   1308  10000 ????		27 1b	    var1407    =	$271B
   1309  10000 ????		27 1c	    var1408    =	$271C
   1310  10000 ????		27 1d	    var1409    =	$271D
   1311  10000 ????		27 1e	    var1410    =	$271E
   1312  10000 ????		27 1f	    var1411    =	$271F
   1313  10000 ????		27 20	    var1412    =	$2720
   1314  10000 ????		27 21	    var1413    =	$2721
   1315  10000 ????		27 22	    var1414    =	$2722
   1316  10000 ????		27 23	    var1415    =	$2723
   1317  10000 ????		27 24	    var1416    =	$2724
   1318  10000 ????		27 25	    var1417    =	$2725
   1319  10000 ????		27 26	    var1418    =	$2726
   1320  10000 ????		27 27	    var1419    =	$2727
   1321  10000 ????		27 28	    var1420    =	$2728
   1322  10000 ????		27 29	    var1421    =	$2729
   1323  10000 ????		27 2a	    var1422    =	$272A
   1324  10000 ????		27 2b	    var1423    =	$272B
   1325  10000 ????		27 2c	    var1424    =	$272C
   1326  10000 ????		27 2d	    var1425    =	$272D
   1327  10000 ????		27 2e	    var1426    =	$272E
   1328  10000 ????		27 2f	    var1427    =	$272F
   1329  10000 ????		27 30	    var1428    =	$2730
   1330  10000 ????		27 31	    var1429    =	$2731
   1331  10000 ????		27 32	    var1430    =	$2732
   1332  10000 ????		27 33	    var1431    =	$2733
   1333  10000 ????		27 34	    var1432    =	$2734
   1334  10000 ????		27 35	    var1433    =	$2735
   1335  10000 ????		27 36	    var1434    =	$2736
   1336  10000 ????		27 37	    var1435    =	$2737
   1337  10000 ????		27 38	    var1436    =	$2738
   1338  10000 ????		27 39	    var1437    =	$2739
   1339  10000 ????		27 3a	    var1438    =	$273A
   1340  10000 ????		27 3b	    var1439    =	$273B
   1341  10000 ????		27 3c	    var1440    =	$273C
   1342  10000 ????		27 3d	    var1441    =	$273D
   1343  10000 ????		27 3e	    var1442    =	$273E
   1344  10000 ????		27 3f	    var1443    =	$273F
   1345  10000 ????		27 40	    var1444    =	$2740
   1346  10000 ????		27 41	    var1445    =	$2741
   1347  10000 ????		27 42	    var1446    =	$2742
   1348  10000 ????		27 43	    var1447    =	$2743
   1349  10000 ????		27 44	    var1448    =	$2744
   1350  10000 ????		27 45	    var1449    =	$2745
   1351  10000 ????		27 46	    var1450    =	$2746
   1352  10000 ????		27 47	    var1451    =	$2747
   1353  10000 ????		27 48	    var1452    =	$2748
   1354  10000 ????		27 49	    var1453    =	$2749
   1355  10000 ????		27 4a	    var1454    =	$274A
   1356  10000 ????		27 4b	    var1455    =	$274B
   1357  10000 ????		27 4c	    var1456    =	$274C
   1358  10000 ????		27 4d	    var1457    =	$274D
   1359  10000 ????		27 4e	    var1458    =	$274E
   1360  10000 ????		27 4f	    var1459    =	$274F
   1361  10000 ????		27 50	    var1460    =	$2750
   1362  10000 ????		27 51	    var1461    =	$2751
   1363  10000 ????		27 52	    var1462    =	$2752
   1364  10000 ????		27 53	    var1463    =	$2753
   1365  10000 ????		27 54	    var1464    =	$2754
   1366  10000 ????		27 55	    var1465    =	$2755
   1367  10000 ????		27 56	    var1466    =	$2756
   1368  10000 ????		27 57	    var1467    =	$2757
   1369  10000 ????		27 58	    var1468    =	$2758
   1370  10000 ????		27 59	    var1469    =	$2759
   1371  10000 ????		27 5a	    var1470    =	$275A
   1372  10000 ????		27 5b	    var1471    =	$275B
   1373  10000 ????		27 5c	    var1472    =	$275C
   1374  10000 ????		27 5d	    var1473    =	$275D
   1375  10000 ????		27 5e	    var1474    =	$275E
   1376  10000 ????		27 5f	    var1475    =	$275F
   1377  10000 ????		27 60	    var1476    =	$2760
   1378  10000 ????		27 61	    var1477    =	$2761
   1379  10000 ????		27 62	    var1478    =	$2762
   1380  10000 ????		27 63	    var1479    =	$2763
   1381  10000 ????		27 64	    var1480    =	$2764
   1382  10000 ????		27 65	    var1481    =	$2765
   1383  10000 ????		27 66	    var1482    =	$2766
   1384  10000 ????		27 67	    var1483    =	$2767
   1385  10000 ????		27 68	    var1484    =	$2768
   1386  10000 ????		27 69	    var1485    =	$2769
   1387  10000 ????		27 6a	    var1486    =	$276A
   1388  10000 ????		27 6b	    var1487    =	$276B
   1389  10000 ????		27 6c	    var1488    =	$276C
   1390  10000 ????		27 6d	    var1489    =	$276D
   1391  10000 ????		27 6e	    var1490    =	$276E
   1392  10000 ????		27 6f	    var1491    =	$276F
   1393  10000 ????		27 70	    var1492    =	$2770
   1394  10000 ????		27 71	    var1493    =	$2771
   1395  10000 ????		27 72	    var1494    =	$2772
   1396  10000 ????		27 73	    var1495    =	$2773
   1397  10000 ????		27 74	    var1496    =	$2774
   1398  10000 ????		27 75	    var1497    =	$2775
   1399  10000 ????		27 76	    var1498    =	$2776
   1400  10000 ????		27 77	    var1499    =	$2777
   1401  10000 ????		27 78	    var1500    =	$2778
   1402  10000 ????		27 79	    var1501    =	$2779
   1403  10000 ????		27 7a	    var1502    =	$277A
   1404  10000 ????		27 7b	    var1503    =	$277B
   1405  10000 ????		27 7c	    var1504    =	$277C
   1406  10000 ????		27 7d	    var1505    =	$277D
   1407  10000 ????		27 7e	    var1506    =	$277E
   1408  10000 ????		27 7f	    var1507    =	$277F
   1409  10000 ????		27 80	    var1508    =	$2780
   1410  10000 ????		27 81	    var1509    =	$2781
   1411  10000 ????		27 82	    var1510    =	$2782
   1412  10000 ????		27 83	    var1511    =	$2783
   1413  10000 ????		27 84	    var1512    =	$2784
   1414  10000 ????		27 85	    var1513    =	$2785
   1415  10000 ????		27 86	    var1514    =	$2786
   1416  10000 ????		27 87	    var1515    =	$2787
   1417  10000 ????		27 88	    var1516    =	$2788
   1418  10000 ????		27 89	    var1517    =	$2789
   1419  10000 ????		27 8a	    var1518    =	$278A
   1420  10000 ????		27 8b	    var1519    =	$278B
   1421  10000 ????		27 8c	    var1520    =	$278C
   1422  10000 ????		27 8d	    var1521    =	$278D
   1423  10000 ????		27 8e	    var1522    =	$278E
   1424  10000 ????		27 8f	    var1523    =	$278F
   1425  10000 ????		27 90	    var1524    =	$2790
   1426  10000 ????		27 91	    var1525    =	$2791
   1427  10000 ????		27 92	    var1526    =	$2792
   1428  10000 ????		27 93	    var1527    =	$2793
   1429  10000 ????		27 94	    var1528    =	$2794
   1430  10000 ????		27 95	    var1529    =	$2795
   1431  10000 ????		27 96	    var1530    =	$2796
   1432  10000 ????		27 97	    var1531    =	$2797
   1433  10000 ????		27 98	    var1532    =	$2798
   1434  10000 ????		27 99	    var1533    =	$2799
   1435  10000 ????		27 9a	    var1534    =	$279A
   1436  10000 ????		27 9b	    var1535    =	$279B
   1437  10000 ????		27 9c	    var1536    =	$279C
   1438  10000 ????		27 9d	    var1537    =	$279D
   1439  10000 ????		27 9e	    var1538    =	$279E
   1440  10000 ????		27 9f	    var1539    =	$279F
   1441  10000 ????		27 a0	    var1540    =	$27A0
   1442  10000 ????		27 a1	    var1541    =	$27A1
   1443  10000 ????		27 a2	    var1542    =	$27A2
   1444  10000 ????		27 a3	    var1543    =	$27A3
   1445  10000 ????		27 a4	    var1544    =	$27A4
   1446  10000 ????		27 a5	    var1545    =	$27A5
   1447  10000 ????		27 a6	    var1546    =	$27A6
   1448  10000 ????		27 a7	    var1547    =	$27A7
   1449  10000 ????		27 a8	    var1548    =	$27A8
   1450  10000 ????		27 a9	    var1549    =	$27A9
   1451  10000 ????		27 aa	    var1550    =	$27AA
   1452  10000 ????		27 ab	    var1551    =	$27AB
   1453  10000 ????		27 ac	    var1552    =	$27AC
   1454  10000 ????		27 ad	    var1553    =	$27AD
   1455  10000 ????		27 ae	    var1554    =	$27AE
   1456  10000 ????		27 af	    var1555    =	$27AF
   1457  10000 ????		27 b0	    var1556    =	$27B0
   1458  10000 ????		27 b1	    var1557    =	$27B1
   1459  10000 ????		27 b2	    var1558    =	$27B2
   1460  10000 ????		27 b3	    var1559    =	$27B3
   1461  10000 ????		27 b4	    var1560    =	$27B4
   1462  10000 ????		27 b5	    var1561    =	$27B5
   1463  10000 ????		27 b6	    var1562    =	$27B6
   1464  10000 ????		27 b7	    var1563    =	$27B7
   1465  10000 ????		27 b8	    var1564    =	$27B8
   1466  10000 ????		27 b9	    var1565    =	$27B9
   1467  10000 ????		27 ba	    var1566    =	$27BA
   1468  10000 ????		27 bb	    var1567    =	$27BB
   1469  10000 ????		27 bc	    var1568    =	$27BC
   1470  10000 ????		27 bd	    var1569    =	$27BD
   1471  10000 ????		27 be	    var1570    =	$27BE
   1472  10000 ????		27 bf	    var1571    =	$27BF
   1473  10000 ????		27 c0	    var1572    =	$27C0
   1474  10000 ????		27 c1	    var1573    =	$27C1
   1475  10000 ????		27 c2	    var1574    =	$27C2
   1476  10000 ????		27 c3	    var1575    =	$27C3
   1477  10000 ????		27 c4	    var1576    =	$27C4
   1478  10000 ????		27 c5	    var1577    =	$27C5
   1479  10000 ????		27 c6	    var1578    =	$27C6
   1480  10000 ????		27 c7	    var1579    =	$27C7
   1481  10000 ????		27 c8	    var1580    =	$27C8
   1482  10000 ????		27 c9	    var1581    =	$27C9
   1483  10000 ????		27 ca	    var1582    =	$27CA
   1484  10000 ????		27 cb	    var1583    =	$27CB
   1485  10000 ????		27 cc	    var1584    =	$27CC
   1486  10000 ????		27 cd	    var1585    =	$27CD
   1487  10000 ????		27 ce	    var1586    =	$27CE
   1488  10000 ????		27 cf	    var1587    =	$27CF
   1489  10000 ????		27 d0	    var1588    =	$27D0
   1490  10000 ????		27 d1	    var1589    =	$27D1
   1491  10000 ????		27 d2	    var1590    =	$27D2
   1492  10000 ????		27 d3	    var1591    =	$27D3
   1493  10000 ????		27 d4	    var1592    =	$27D4
   1494  10000 ????		27 d5	    var1593    =	$27D5
   1495  10000 ????		27 d6	    var1594    =	$27D6
   1496  10000 ????		27 d7	    var1595    =	$27D7
   1497  10000 ????		27 d8	    var1596    =	$27D8
   1498  10000 ????		27 d9	    var1597    =	$27D9
   1499  10000 ????		27 da	    var1598    =	$27DA
   1500  10000 ????		27 db	    var1599    =	$27DB
   1501  10000 ????		27 dc	    var1600    =	$27DC
   1502  10000 ????		27 dd	    var1601    =	$27DD
   1503  10000 ????		27 de	    var1602    =	$27DE
   1504  10000 ????		27 df	    var1603    =	$27DF
   1505  10000 ????		27 e0	    var1604    =	$27E0
   1506  10000 ????		27 e1	    var1605    =	$27E1
   1507  10000 ????		27 e2	    var1606    =	$27E2
   1508  10000 ????		27 e3	    var1607    =	$27E3
   1509  10000 ????		27 e4	    var1608    =	$27E4
   1510  10000 ????		27 e5	    var1609    =	$27E5
   1511  10000 ????		27 e6	    var1610    =	$27E6
   1512  10000 ????		27 e7	    var1611    =	$27E7
   1513  10000 ????		27 e8	    var1612    =	$27E8
   1514  10000 ????		27 e9	    var1613    =	$27E9
   1515  10000 ????		27 ea	    var1614    =	$27EA
   1516  10000 ????		27 eb	    var1615    =	$27EB
   1517  10000 ????		27 ec	    var1616    =	$27EC
   1518  10000 ????		27 ed	    var1617    =	$27ED
   1519  10000 ????		27 ee	    var1618    =	$27EE
   1520  10000 ????		27 ef	    var1619    =	$27EF
   1521  10000 ????		27 f0	    var1620    =	$27F0
   1522  10000 ????		27 f1	    var1621    =	$27F1
   1523  10000 ????		27 f2	    var1622    =	$27F2
   1524  10000 ????		27 f3	    var1623    =	$27F3
   1525  10000 ????		27 f4	    var1624    =	$27F4
   1526  10000 ????		27 f5	    var1625    =	$27F5
   1527  10000 ????		27 f6	    var1626    =	$27F6
   1528  10000 ????		27 f7	    var1627    =	$27F7
   1529  10000 ????		27 f8	    var1628    =	$27F8
   1530  10000 ????		27 f9	    var1629    =	$27F9
   1531  10000 ????		27 fa	    var1630    =	$27FA
   1532  10000 ????		27 fb	    var1631    =	$27FB
   1533  10000 ????		27 fc	    var1632    =	$27FC
   1534  10000 ????		27 fd	    var1633    =	$27FD
   1535  10000 ????		27 fe	    var1634    =	$27FE
   1536  10000 ????		27 ff	    var1635    =	$27FF
------- FILE rpmegafighter.bas.asm
   1474  10000 ????
   1475  10000 ????						; BEADHEADER... disabled for now
   1476  10000 ????						; A BEAD header gets automatically incorportated into the ROM header.
   1477  10000 ????						; For more BEAD executable info, check out the spec...
   1478  10000 ????						; http://7800.8bitdev.org/index.php/The_Atari_7800_BEAD_Execuable_Specification
   1479  10000 ????
   1480  10000 ????		00 01	    GAMEDESCRIPTIONSET =	1
   1481  10000 ????		4e 61 6d 65 GAMEDESCRIPTION =	"Test Name"
   1482  10000 ????
   1483  10000 ????
   1484  10000 ????		00 40	    BDHSC      =	%01000000
   1485  10000 ????		00 20	    BDYM       =	%00100000
   1486  10000 ????		00 10	    BDPOKEY    =	%00010000
   1487  10000 ????		00 08	    BDROF      =	%00001000
   1488  10000 ????		00 00	    BD16K      =	%00000000
   1489  10000 ????		00 01	    BD32K      =	%00000001
   1490  10000 ????		00 02	    BD48K      =	%00000010
   1491  10000 ????		00 05	    BD1800     =	%00000101
   1492  10000 ????		00 06	    BD4000     =	%00000110
   1493  10000 ????
   1494  10000 ????			   -	       ifconst	BEADHEADER
   1495  10000 ????			   -BEADHARDWARE SET	0
   1496  10000 ????			   -	       ifconst	ROM16K
   1497  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BD16K)
   1498  10000 ????			   -	       endif
   1499  10000 ????			   -	       ifconst	ROM32K
   1500  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BD32K)
   1501  10000 ????			   -	       endif
   1502  10000 ????			   -	       ifconst	ROM48K
   1503  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BD48K)
   1504  10000 ????			   -	       endif
   1505  10000 ????			   -	       ifconst	pokeysupport
   1506  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BDPOKEY)
   1507  10000 ????			   -	       endif
   1508  10000 ????			   -	       ifconst	HSSUPPORT
   1509  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BDHSC)
   1510  10000 ????			   -	       endif
   1511  10000 ????				       endif
   1512  10000 ????
   1513  10000 ????						;start address of cart...
   1514  10000 ????
   1515  10000 ????			    BANK_WAS_SET SET	0
   1516  10000 ????
   1517  10000 ????			   -	       ifconst	ROM8K
   1518  10000 ????			   -	       ORG	$E000,0
   1519  10000 ????			   -BANK_WAS_SET SET	1
   1520  10000 ????				       endif		; ROM8K
   1521  10000 ????
   1522  10000 ????			   -	       ifconst	ROM16K
   1523  10000 ????			   -	       ORG	$C000,0
   1524  10000 ????			   -BANK_WAS_SET SET	1
   1525  10000 ????			   -	       ifconst	BEADHEADER
   1526  10000 ????			   -	       .byte	$BE,$AD,BEADHARDWARE
   1527  10000 ????			   -	       ifconst	GAMEDESCRIPTION
   1528  10000 ????			   -	       CLC
   1529  10000 ????			   -	       BCC	_SKIPDESCRIPTION
   1530  10000 ????			   -	       .byte	GAMEDESCRIPTION,0
   1531  10000 ????			   -_SKIPDESCRIPTION
   1532  10000 ????			   -	       endif		; GAMEDESCRIPTION
   1533  10000 ????			   -	       jmp	($FFFC)
   1534  10000 ????			   -	       endif		; BEADHEADER
   1535  10000 ????				       endif		; ROM16K
   1536  10000 ????
   1537  10000 ????			   -	       ifconst	ROM32K
   1538  10000 ????			   -	       ORG	$8000,0
   1539  10000 ????			   -BANK_WAS_SET SET	1
   1540  10000 ????			   -	       ifconst	BEADHEADER
   1541  10000 ????			   -	       .byte	$BE,$AD,BEADHARDWARE
   1542  10000 ????			   -	       ifconst	GAMEDESCRIPTION
   1543  10000 ????			   -	       CLC
   1544  10000 ????			   -	       BCC	_SKIPDESCRIPTION
   1545  10000 ????			   -	       .byte	GAMEDESCRIPTION,0
   1546  10000 ????			   -_SKIPDESCRIPTION
   1547  10000 ????			   -	       endif		; GAMEDESCRIPTION
   1548  10000 ????			   -	       jmp	($FFFC)
   1549  10000 ????			   -	       endif		; BEADHEADER
   1550  10000 ????				       endif		; ROM32K
   1551  10000 ????
   1552  10000 ????			   -	       ifconst	ROM48K
   1553  10000 ????			   -	       ORG	$4000,0
   1554  10000 ????			   -BANK_WAS_SET SET	1
   1555  10000 ????			   -	       ifconst	BEADHEADER
   1556  10000 ????			   -	       .byte	$BE,$AD,BEADHARDWARE
   1557  10000 ????			   -	       ifconst	GAMEDESCRIPTIONSET
   1558  10000 ????			   -	       CLC
   1559  10000 ????			   -	       BCC	_SKIPDESCRIPTION
   1560  10000 ????			   -	       .byte	GAMEDESCRIPTION,0
   1561  10000 ????			   -_SKIPDESCRIPTION
   1562  10000 ????			   -	       endif		; GAMEDESCRIPTIONSET
   1563  10000 ????			   -	       jmp	($FFFC)
   1564  10000 ????			   -	       endif		; BEADHEADER
   1565  10000 ????				       endif		; ROM48K
   1566  10000 ????
   1567  10000 ????			   -	       ifconst	ROM52K
   1568  10000 ????			   -BANK_WAS_SET SET	1
   1569  10000 ????			   -	       ORG	$3000,0
   1570  10000 ????				       endif		; ROM52K
   1571  10000 ????
   1572  10000 ????			   -	       ifconst	bankswitchmode
   1573  10000 ????			   -	       ifconst	ROMAT4K
   1574  10000 ????			   -BANK_WAS_SET SET	1
   1575  10000 ????			   -	       ORG	$4000,0
   1576  10000 ????			   -	       RORG	$4000
   1577  10000 ????			   -	       else		; ROMAT4K
   1578  10000 ????			   -BANK_WAS_SET SET	1
   1579  10000 ????			   -	       ORG	$8000,0
   1580  10000 ????			   -	       RORG	$8000
   1581  10000 ????			   -	       endif
   1582  10000 ????				       endif
   1583  10000 ????
   1584  10000 ????				       if	BANK_WAS_SET = 0
   1585  8000					      ORG	$8000,0	; default is 32K
   1586  8000					      endif
   1587  8000
   1588  8000				   START_OF_ROM SET	.
   1589  8000				   SPACEOVERFLOW SET	0
   1590  8000				  -	      ifnconst	SPACEOVERFLOWPASS
   1591  8000				  -SPACEOVERFLOWPASS SET	0
   1592  8000					      endif	SPACEOVERFLOWPASS
   1593  8000				   game
   1594  8000				   .L00 		;;line 1;;  displaymode 160A
   1595  8000
   1596  8000		       a9 40		      lda	#%01000000	;Enable DMA, mode=160x2/160x4
   1597  8002		       85 3c		      sta	CTRL
   1598  8004
   1599  8004		       8d 07 21 	      sta	sCTRL
   1600  8007
   1601  8007				   .L01 		;;line 2;;  set zoneheight 16
   1602  8007
   1603  8007				   .
   1604  8007							;;line 3;;
   1605  8007
   1606  8007				   .
   1607  8007							;;line 4;;
   1608  8007
   1609  8007				   .L02 		;;line 5;;  incgraphic sprite_spaceship1.png
   1610  8007
   1611  8007				   .L03 		;;line 6;;  incgraphic sprite_spaceship2.png
   1612  8007
   1613  8007				   .L04 		;;line 7;;  incgraphic sprite_spaceship3.png
   1614  8007
   1615  8007				   .L05 		;;line 8;;  incgraphic sprite_spaceship4.png
   1616  8007
   1617  8007				   .L06 		;;line 9;;  incgraphic sprite_spaceship5.png
   1618  8007
   1619  8007				   .L07 		;;line 10;;  incgraphic sprite_spaceship6.png
   1620  8007
   1621  8007				   .L08 		;;line 11;;  incgraphic sprite_spaceship7.png
   1622  8007
   1623  8007				   .L09 		;;line 12;;  incgraphic sprite_spaceship8.png
   1624  8007
   1625  8007				   .L010		;;line 13;;  incgraphic sprite_spaceship9.png
   1626  8007
   1627  8007				   .L011		;;line 14;;  incgraphic sprite_spaceship10.png
   1628  8007
   1629  8007				   .L012		;;line 15;;  incgraphic sprite_spaceship11.png
   1630  8007
   1631  8007				   .L013		;;line 16;;  incgraphic sprite_spaceship12.png
   1632  8007
   1633  8007				   .L014		;;line 17;;  incgraphic sprite_spaceship13.png
   1634  8007
   1635  8007				   .L015		;;line 18;;  incgraphic sprite_spaceship14.png
   1636  8007
   1637  8007				   .L016		;;line 19;;  incgraphic sprite_spaceship15.png
   1638  8007
   1639  8007				   .L017		;;line 20;;  incgraphic sprite_spaceship16.png
   1640  8007
   1641  8007				   .
   1642  8007							;;line 21;;
   1643  8007
   1644  8007				   .L018		;;line 22;;  incgraphic bullet_conv.png
   1645  8007
   1646  8007				   .L019		;;line 23;;  incgraphic fighter_conv.png
   1647  8007
   1648  8007				   .L020		;;line 24;;  incgraphic asteroid_L_conv.png
   1649  8007
   1650  8007				   .L021		;;line 25;;  incgraphic asteroid_M_conv.png
   1651  8007
   1652  8007				   .
   1653  8007							;;line 26;;
   1654  8007
   1655  8007				   .
   1656  8007							;;line 27;;
   1657  8007
   1658  8007				   .L022		;;line 28;;  dim px = var0
   1659  8007
   1660  8007				   .L023		;;line 29;;  dim py = var1
   1661  8007
   1662  8007				   .L024		;;line 30;;  dim vx_p = var2
   1663  8007
   1664  8007				   .L025		;;line 31;;  dim vx_m = var3
   1665  8007
   1666  8007				   .L026		;;line 32;;  dim vy_p = var4
   1667  8007
   1668  8007				   .L027		;;line 33;;  dim vy_m = var5
   1669  8007
   1670  8007				   .L028		;;line 34;;  dim rx = var6
   1671  8007
   1672  8007				   .L029		;;line 35;;  dim ry = var7
   1673  8007
   1674  8007				   .L030		;;line 36;;  dim angle = var8
   1675  8007
   1676  8007				   .L031		;;line 37;;  dim shpfr = var9
   1677  8007
   1678  8007				   .L032		;;line 38;;  dim rot_timer = var10
   1679  8007
   1680  8007				   .L033		;;line 39;;  dim move_step = var11
   1681  8007
   1682  8007				   .L034		;;line 40;;  dim temp_acc = var12
   1683  8007
   1684  8007				   .L035		;;line 41;;  dim frame = var13
   1685  8007
   1686  8007				   .L036		;;line 42;;  dim common = var14
   1687  8007
   1688  8007				   .L037		;;line 43;;  dim temp_v = var15
   1689  8007
   1690  8007				   .L038		;;line 44;;  dim bcooldown = var16
   1691  8007
   1692  8007				   .L039		;;line 45;;  dim iter = var17
   1693  8007
   1694  8007				   .L040		;;line 46;;  dim temp_bx = var38
   1695  8007
   1696  8007				   .L041		;;line 47;;  dim temp_by = var39
   1697  8007
   1698  8007				   .
   1699  8007							;;line 48;;
   1700  8007
   1701  8007				   .
   1702  8007							;;line 49;;
   1703  8007
   1704  8007				   .
   1705  8007							;;line 50;;
   1706  8007
   1707  8007				   .
   1708  8007							;;line 51;;
   1709  8007
   1710  8007				   .
   1711  8007							;;line 52;;
   1712  8007
   1713  8007				   .
   1714  8007							;;line 53;;
   1715  8007
   1716  8007				   .
   1717  8007							;;line 54;;
   1718  8007
   1719  8007				   .L042		;;line 55;;  dim bul_x = var18
   1720  8007
   1721  8007				   .L043		;;line 56;;  dim bul_y = var22
   1722  8007
   1723  8007				   .L044		;;line 57;;  dim bul_vx = var26
   1724  8007
   1725  8007				   .L045		;;line 58;;  dim bul_vy = var30
   1726  8007
   1727  8007				   .L046		;;line 59;;  dim blife = var34
   1728  8007
   1729  8007				   .
   1730  8007							;;line 60;;
   1731  8007
   1732  8007				   .
   1733  8007							;;line 61;;
   1734  8007
   1735  8007				   .
   1736  8007							;;line 62;;
   1737  8007
   1738  8007				   .L047		;;line 63;;  dim ebul_x = var60
   1739  8007
   1740  8007				   .
   1741  8007							;;line 64;;
   1742  8007
   1743  8007				   .
   1744  8007							;;line 65;;
   1745  8007
   1746  8007				   .
   1747  8007							;;line 66;;
   1748  8007
   1749  8007				   .L048		;;line 67;;  dim ebul_y = var64
   1750  8007
   1751  8007				   .L049		;;line 68;;  dim ebul_vx = var68
   1752  8007
   1753  8007				   .L050		;;line 69;;  dim ebul_vy = var160
   1754  8007
   1755  8007				   .L051		;;line 70;;  dim eblife = var164
   1756  8007
   1757  8007				   .
   1758  8007							;;line 71;;
   1759  8007
   1760  8007				   .
   1761  8007							;;line 72;;
   1762  8007
   1763  8007				   .L052		;;line 73;;  dim bul_x_hi = var180
   1764  8007
   1765  8007				   .L053		;;line 74;;  dim bul_y_hi = var184
   1766  8007
   1767  8007				   .L054		;;line 75;;  dim ebul_x_hi = var188
   1768  8007
   1769  8007				   .L055		;;line 76;;  dim ebul_y_hi = var192
   1770  8007
   1771  8007				   .L056		;;line 77;;  dim ecooldown = var70
   1772  8007
   1773  8007				   .L057		;;line 78;;  dim temp_w = var71
   1774  8007
   1775  8007				   .
   1776  8007							;;line 79;;
   1777  8007
   1778  8007				   .
   1779  8007							;;line 80;;
   1780  8007
   1781  8007				   .
   1782  8007							;;line 81;;
   1783  8007
   1784  8007				   .
   1785  8007							;;line 82;;
   1786  8007
   1787  8007				   .
   1788  8007							;;line 83;;
   1789  8007
   1790  8007				   .L058		;;line 84;;  dim star_x = var80
   1791  8007
   1792  8007				   .L059		;;line 85;;  dim star_y = var100
   1793  8007
   1794  8007				   .L060		;;line 86;;  dim star_c = var120
   1795  8007
   1796  8007				   .L061		;;line 87;;  dim sc1 = var140
   1797  8007
   1798  8007				   .L062		;;line 88;;  dim sc2 = var141
   1799  8007
   1800  8007				   .L063		;;line 89;;  dim sc3 = var142
   1801  8007
   1802  8007				   .L064		;;line 90;;  dim cycle_state = var143
   1803  8007
   1804  8007				   .
   1805  8007							;;line 91;;
   1806  8007
   1807  8007				   .
   1808  8007							;;line 92;;
   1809  8007
   1810  8007				   .
   1811  8007							;;line 93;;
   1812  8007
   1813  8007				   .
   1814  8007							;;line 94;;
   1815  8007
   1816  8007				   .L065		;;line 95;;  dim ex = var40
   1817  8007
   1818  8007				   .L066		;;line 96;;  dim ey = var44
   1819  8007
   1820  8007				   .L067		;;line 97;;  dim evx = var48
   1821  8007
   1822  8007				   .L068		;;line 98;;  dim evy = var52
   1823  8007
   1824  8007				   .L069		;;line 99;;  dim elife = var56
   1825  8007
   1826  8007				   .
   1827  8007							;;line 100;;
   1828  8007
   1829  8007				   .L070		;;line 101;;  dim rand_val = var148
   1830  8007
   1831  8007				   .
   1832  8007							;;line 102;;
   1833  8007
   1834  8007				   .
   1835  8007							;;line 103;;
   1836  8007
   1837  8007				   .
   1838  8007							;;line 104;;
   1839  8007
   1840  8007				   .L071		;;line 105;;  dim ax = var150
   1841  8007
   1842  8007				   .L072		;;line 106;;  dim ay = var151
   1843  8007
   1844  8007				   .L073		;;line 107;;  dim avx = var152
   1845  8007
   1846  8007				   .L074		;;line 108;;  dim avy = var153
   1847  8007
   1848  8007				   .L075		;;line 109;;  dim alife = var154
   1849  8007
   1850  8007				   .
   1851  8007							;;line 110;;
   1852  8007
   1853  8007				   .
   1854  8007							;;line 111;;
   1855  8007
   1856  8007				   .L076		;;line 112;;  dim bul_x0 = var18  :  dim bul_x1 = var19  :  dim bul_x2 = var20  :  dim bul_x3 = var21
   1857  8007
   1858  8007				   .L077		;;line 113;;  dim bul_y0 = var22  :  dim bul_y1 = var23  :  dim bul_y2 = var24  :  dim bul_y3 = var25
   1859  8007
   1860  8007				   .L078		;;line 114;;  dim blife0 = var34  :  dim blife1 = var35  :  dim blife2 = var36  :  dim blife3 = var37
   1861  8007
   1862  8007				   .
   1863  8007							;;line 115;;
   1864  8007
   1865  8007				   .
   1866  8007							;;line 116;;
   1867  8007
   1868  8007				   .
   1869  8007							;;line 117;;
   1870  8007
   1871  8007				   .
   1872  8007							;;line 118;;
   1873  8007
   1874  8007				   .
   1875  8007							;;line 119;;
   1876  8007
   1877  8007				   .
   1878  8007							;;line 120;;
   1879  8007
   1880  8007				   .
   1881  8007							;;line 121;;
   1882  8007
   1883  8007				   .L079		;;line 122;;  P0C1 = $26 :  P0C2 = $24 :  P0C3 = $04
   1884  8007
   1885  8007		       a9 26		      lda	#$26
   1886  8009		       85 21		      sta	P0C1
   1887  800b		       a9 24		      lda	#$24
   1888  800d		       85 22		      sta	P0C2
   1889  800f		       a9 04		      lda	#$04
   1890  8011		       85 23		      sta	P0C3
   1891  8013				   .L080		;;line 123;;  P1C1 = $0E :  P1C2 = $38 :  P1C3 = $FC
   1892  8013
   1893  8013		       a9 0e		      lda	#$0E
   1894  8015		       85 25		      sta	P1C1
   1895  8017		       a9 38		      lda	#$38
   1896  8019		       85 26		      sta	P1C2
   1897  801b		       a9 fc		      lda	#$FC
   1898  801d		       85 27		      sta	P1C3
   1899  801f				   .L081		;;line 124;;  P2C1 = $94 :  P2C2 = $98 :  P2C3 = $9C
   1900  801f
   1901  801f		       a9 94		      lda	#$94
   1902  8021		       85 29		      sta	P2C1
   1903  8023		       a9 98		      lda	#$98
   1904  8025		       85 2a		      sta	P2C2
   1905  8027		       a9 9c		      lda	#$9C
   1906  8029		       85 2b		      sta	P2C3
   1907  802b				   .L082		;;line 125;;  P3C1 = $B4 :  P3C2 = $46 :  P3C3 = $1C
   1908  802b
   1909  802b		       a9 b4		      lda	#$B4
   1910  802d		       85 2d		      sta	P3C1
   1911  802f		       a9 46		      lda	#$46
   1912  8031		       85 2e		      sta	P3C2
   1913  8033		       a9 1c		      lda	#$1C
   1914  8035		       85 2f		      sta	P3C3
   1915  8037				   .L083		;;line 126;;  P4C1 = $08 :  P4C2 = $0C :  P4C3 = $0F
   1916  8037
   1917  8037		       a9 08		      lda	#$08
   1918  8039		       85 31		      sta	P4C1
   1919  803b		       a9 0c		      lda	#$0C
   1920  803d		       85 32		      sta	P4C2
   1921  803f		       a9 0f		      lda	#$0F
   1922  8041		       85 33		      sta	P4C3
   1923  8043				   .L084		;;line 127;;  P5C1 = $34 :  P5C2 = $86 :  P5C3 = $0A
   1924  8043
   1925  8043		       a9 34		      lda	#$34
   1926  8045		       85 35		      sta	P5C1
   1927  8047		       a9 86		      lda	#$86
   1928  8049		       85 36		      sta	P5C2
   1929  804b		       a9 0a		      lda	#$0A
   1930  804d		       85 37		      sta	P5C3
   1931  804f				   .
   1932  804f							;;line 128;;
   1933  804f
   1934  804f				   .L085		;;line 129;;  BACKGRND = $00
   1935  804f
   1936  804f		       a9 00		      lda	#$00
   1937  8051		       85 20		      sta	BACKGRND
   1938  8053				   .
   1939  8053							;;line 130;;
   1940  8053
   1941  8053				   .
   1942  8053							;;line 131;;
   1943  8053
   1944  8053				   .L086		;;line 132;;  px = 80
   1945  8053
   1946  8053		       a9 50		      lda	#80
   1947  8055		       8d 40 01 	      sta	px
   1948  8058				   .L087		;;line 133;;  dim px_hi = var170
   1949  8058
   1950  8058				   .L088		;;line 134;;  px_hi = 0
   1951  8058
   1952  8058		       a9 00		      lda	#0
   1953  805a		       8d 46 22 	      sta	px_hi
   1954  805d				   .L089		;;line 135;;  py = 90
   1955  805d
   1956  805d		       a9 5a		      lda	#90
   1957  805f		       8d 41 01 	      sta	py
   1958  8062				   .L090		;;line 136;;  dim py_hi = var171
   1959  8062
   1960  8062				   .L091		;;line 137;;  py_hi = 0
   1961  8062
   1962  8062		       a9 00		      lda	#0
   1963  8064		       8d 47 22 	      sta	py_hi
   1964  8067				   .
   1965  8067							;;line 138;;
   1966  8067
   1967  8067				   .
   1968  8067							;;line 139;;
   1969  8067
   1970  8067				   .L092		;;line 140;;  dim cam_x = var172
   1971  8067
   1972  8067				   .L093		;;line 141;;  dim cam_x_hi = var173
   1973  8067
   1974  8067				   .L094		;;line 142;;  dim cam_y = var174
   1975  8067
   1976  8067				   .L095		;;line 143;;  dim cam_y_hi = var175
   1977  8067
   1978  8067				   .
   1979  8067							;;line 144;;
   1980  8067
   1981  8067				   .
   1982  8067							;;line 145;;
   1983  8067
   1984  8067				   .L096		;;line 146;;  cam_x = 0  :  cam_x_hi = 0
   1985  8067
   1986  8067		       a9 00		      lda	#0
   1987  8069		       8d 48 22 	      sta	cam_x
   1988  806c		       8d 49 22 	      sta	cam_x_hi
   1989  806f				   .L097		;;line 147;;  cam_y = 0  :  cam_y_hi = 0
   1990  806f
   1991  806f		       a9 00		      lda	#0
   1992  8071		       8d 4a 22 	      sta	cam_y
   1993  8074		       8d 4b 22 	      sta	cam_y_hi
   1994  8077				   .
   1995  8077							;;line 148;;
   1996  8077
   1997  8077				   .L098		;;line 149;;  vx_p = 0
   1998  8077
   1999  8077		       a9 00		      lda	#0
   2000  8079		       8d 42 01 	      sta	vx_p
   2001  807c				   .L099		;;line 150;;  vx_m = 0
   2002  807c
   2003  807c		       a9 00		      lda	#0
   2004  807e		       8d 43 01 	      sta	vx_m
   2005  8081				   .L0100		;;line 151;;  vy_p = 0
   2006  8081
   2007  8081		       a9 00		      lda	#0
   2008  8083		       8d 44 01 	      sta	vy_p
   2009  8086				   .L0101		;;line 152;;  vy_m = 0
   2010  8086
   2011  8086		       a9 00		      lda	#0
   2012  8088		       8d 45 01 	      sta	vy_m
   2013  808b				   .L0102		;;line 153;;  rx = 0
   2014  808b
   2015  808b		       a9 00		      lda	#0
   2016  808d		       8d 46 01 	      sta	rx
   2017  8090				   .L0103		;;line 154;;  ry = 0
   2018  8090
   2019  8090		       a9 00		      lda	#0
   2020  8092		       8d 47 01 	      sta	ry
   2021  8095				   .L0104		;;line 155;;  temp_bx = 0
   2022  8095
   2023  8095		       a9 00		      lda	#0
   2024  8097		       8d 66 01 	      sta	temp_bx
   2025  809a				   .L0105		;;line 156;;  temp_by = 0
   2026  809a
   2027  809a		       a9 00		      lda	#0
   2028  809c		       8d 67 01 	      sta	temp_by
   2029  809f				   .L0106		;;line 157;;  angle = 0
   2030  809f
   2031  809f		       a9 00		      lda	#0
   2032  80a1		       8d 48 01 	      sta	angle
   2033  80a4				   .L0107		;;line 158;;  rot_timer = 0
   2034  80a4
   2035  80a4		       a9 00		      lda	#0
   2036  80a6		       8d 4a 01 	      sta	rot_timer
   2037  80a9				   .L0108		;;line 159;;  shpfr = 0
   2038  80a9
   2039  80a9		       a9 00		      lda	#0
   2040  80ab		       8d 49 01 	      sta	shpfr
   2041  80ae				   .L0109		;;line 160;;  frame = 0
   2042  80ae
   2043  80ae		       a9 00		      lda	#0
   2044  80b0		       8d 4d 01 	      sta	frame
   2045  80b3				   .L0110		;;line 161;;  bcooldown = 0
   2046  80b3
   2047  80b3		       a9 00		      lda	#0
   2048  80b5		       8d 50 01 	      sta	bcooldown
   2049  80b8				   .
   2050  80b8							;;line 162;;
   2051  80b8
   2052  80b8				   .
   2053  80b8							;;line 163;;
   2054  80b8
   2055  80b8				   .L0111		;;line 164;;  for iter = 0 to 3
   2056  80b8
   2057  80b8		       a9 00		      lda	#0
   2058  80ba		       8d 51 01 	      sta	iter
   2059  80bd				   .L0111foriter
   2060  80bd				   .L0112		;;line 165;;  blife[iter] = 0
   2061  80bd
   2062  80bd		       a9 00		      lda	#0
   2063  80bf		       ae 51 01 	      LDX	iter
   2064  80c2		       9d 62 01 	      sta	blife,x
   2065  80c5				   .L0113		;;line 166;;  next
   2066  80c5
   2067  80c5		       ad 51 01 	      lda	iter
   2068  80c8		       c9 03		      cmp	#3
   2069  80ca		       ee 51 01 	      inc	iter
   2070  80cd					      if	((* - .L0111foriter) < 127) && ((* - .L0111foriter) > -128)
   2071  80cd		       90 ee		      bcc	.L0111foriter
   2072  80cf				  -	      else
   2073  80cf				  -	      bcs	.0skipL0111foriter
   2074  80cf				  -	      jmp	.L0111foriter
   2075  80cf				  -.0skipL0111foriter
   2076  80cf					      endif
   2077  80cf				   .
   2078  80cf							;;line 167;;
   2079  80cf
   2080  80cf				   .L0114		;;line 168;;  alife = 0
   2081  80cf
   2082  80cf		       a9 00		      lda	#0
   2083  80d1		       8d 36 22 	      sta	alife
   2084  80d4				   .L0115		;;line 169;;  ecooldown = 0
   2085  80d4
   2086  80d4		       a9 00		      lda	#0
   2087  80d6		       8d 86 01 	      sta	ecooldown
   2088  80d9				   .L0116		;;line 170;;  eblife[0] = 0  :  eblife[1] = 0
   2089  80d9
   2090  80d9		       a9 00		      lda	#0
   2091  80db		       a2 00		      LDX	#0
   2092  80dd		       9d 40 22 	      sta	eblife,x
   2093  80e0		       a2 01		      LDX	#1
   2094  80e2		       9d 40 22 	      sta	eblife,x
   2095  80e5				   .
   2096  80e5							;;line 171;;
   2097  80e5
   2098  80e5				   .
   2099  80e5							;;line 172;;
   2100  80e5
   2101  80e5				   .L0117		;;line 173;;  elife[0] = 0  :	elife[1] = 0  :  elife[2] = 0  :  elife[3] = 0
   2102  80e5
   2103  80e5		       a9 00		      lda	#0
   2104  80e7		       a2 00		      LDX	#0
   2105  80e9		       9d 78 01 	      sta	elife,x
   2106  80ec		       a2 01		      LDX	#1
   2107  80ee		       9d 78 01 	      sta	elife,x
   2108  80f1		       a2 02		      LDX	#2
   2109  80f3		       9d 78 01 	      sta	elife,x
   2110  80f6		       a2 03		      LDX	#3
   2111  80f8		       9d 78 01 	      sta	elife,x
   2112  80fb				   .
   2113  80fb							;;line 174;;
   2114  80fb
   2115  80fb				   .L0118		;;line 175;;  gosub init_stars
   2116  80fb
   2117  80fb		       20 d9 91 	      jsr	.init_stars
   2118  80fe				   .
   2119  80fe							;;line 176;;
   2120  80fe
   2121  80fe				   .main_loop
   2122  80fe							;;line 177;; main_loop
   2123  80fe
   2124  80fe				   .L0119		;;line 178;;  clearscreen
   2125  80fe
   2126  80fe		       20 7f f0 	      jsr	clearscreen
   2127  8101				   .
   2128  8101							;;line 179;;
   2129  8101
   2130  8101				   .
   2131  8101							;;line 180;;
   2132  8101
   2133  8101				   .L0120		;;line 181;;  frame = frame  +  1
   2134  8101
   2135  8101		       ad 4d 01 	      lda	frame
   2136  8104		       18		      CLC
   2137  8105		       69 01		      ADC	#1
   2138  8107		       8d 4d 01 	      sta	frame
   2139  810a				   .
   2140  810a							;;line 182;;
   2141  810a
   2142  810a				   .
   2143  810a							;;line 183;;
   2144  810a
   2145  810a				   .L0121		;;line 184;;  if rot_timer  >	0 then rot_timer = rot_timer  -  1
   2146  810a
   2147  810a		       a9 00		      lda	#0
   2148  810c		       cd 4a 01 	      cmp	rot_timer
   2149  810f		       b0 09		      bcs	.skipL0121
   2150  8111				   .condpart0
   2151  8111		       ad 4a 01 	      lda	rot_timer
   2152  8114		       38		      SEC
   2153  8115		       e9 01		      SBC	#1
   2154  8117		       8d 4a 01 	      sta	rot_timer
   2155  811a				   .skipL0121
   2156  811a				   .L0122		;;line 185;;  if rot_timer = 0 then gosub check_rotation
   2157  811a
   2158  811a		       ad 4a 01 	      lda	rot_timer
   2159  811d		       c9 00		      cmp	#0
   2160  811f		       d0 03		      bne	.skipL0122
   2161  8121				   .condpart1
   2162  8121		       20 2d 86 	      jsr	.check_rotation
   2163  8124				   .skipL0122
   2164  8124				   .L0123		;;line 186;;  shpfr = angle
   2165  8124
   2166  8124		       ad 48 01 	      lda	angle
   2167  8127		       8d 49 01 	      sta	shpfr
   2168  812a				   .
   2169  812a							;;line 187;;
   2170  812a
   2171  812a				   .
   2172  812a							;;line 188;;
   2173  812a
   2174  812a				   .L0124		;;line 189;;  if joy0up then gosub apply_thrust
   2175  812a
   2176  812a		       a9 10		      lda	#$10
   2177  812c		       2c 31 21 	      bit	sSWCHA
   2178  812f		       d0 03		      bne	.skipL0124
   2179  8131				   .condpart2
   2180  8131		       20 6c 86 	      jsr	.apply_thrust
   2181  8134				   .skipL0124
   2182  8134				   .
   2183  8134							;;line 190;;
   2184  8134
   2185  8134				   .
   2186  8134							;;line 191;;
   2187  8134
   2188  8134				   .L0125		;;line 192;;  if bcooldown  >	0 then bcooldown = bcooldown  -  1
   2189  8134
   2190  8134		       a9 00		      lda	#0
   2191  8136		       cd 50 01 	      cmp	bcooldown
   2192  8139		       b0 09		      bcs	.skipL0125
   2193  813b				   .condpart3
   2194  813b		       ad 50 01 	      lda	bcooldown
   2195  813e		       38		      SEC
   2196  813f		       e9 01		      SBC	#1
   2197  8141		       8d 50 01 	      sta	bcooldown
   2198  8144				   .skipL0125
   2199  8144				   .
   2200  8144							;;line 193;;
   2201  8144
   2202  8144				   .L0126		;;line 194;;  if joy0fire0  &&  bcooldown = 0 then gosub fire_bullet
   2203  8144
   2204  8144		       2c 02 21 	      bit	sINPT1
   2205  8147		       50 0a		      bvc	.skipL0126
   2206  8149				   .condpart4
   2207  8149		       ad 50 01 	      lda	bcooldown
   2208  814c		       c9 00		      cmp	#0
   2209  814e		       d0 03		      bne	.skip4then
   2210  8150				   .condpart5
   2211  8150		       20 68 89 	      jsr	.fire_bullet
   2212  8153				   .skip4then
   2213  8153				   .skipL0126
   2214  8153				   .
   2215  8153							;;line 195;;
   2216  8153
   2217  8153				   .
   2218  8153							;;line 196;;
   2219  8153
   2220  8153				   .L0127		;;line 197;;  gosub neutralize_forces
   2221  8153
   2222  8153		       20 05 87 	      jsr	.neutralize_forces
   2223  8156				   .
   2224  8156							;;line 198;;
   2225  8156
   2226  8156				   .
   2227  8156							;;line 199;;
   2228  8156
   2229  8156				   .L0128		;;line 200;;  gosub cycle_stars
   2230  8156
   2231  8156		       20 b8 92 	      jsr	.cycle_stars
   2232  8159				   .
   2233  8159							;;line 201;;
   2234  8159
   2235  8159				   .
   2236  8159							;;line 202;;
   2237  8159
   2238  8159				   .
   2239  8159							;;line 203;;
   2240  8159
   2241  8159				   .
   2242  8159							;;line 204;;
   2243  8159
   2244  8159				   .L0129		;;line 205;;  temp_v = vx_p  -  vx_m
   2245  8159
   2246  8159		       ad 42 01 	      lda	vx_p
   2247  815c		       38		      SEC
   2248  815d		       ed 43 01 	      SBC	vx_m
   2249  8160		       8d 4f 01 	      sta	temp_v
   2250  8163				   .
   2251  8163							;;line 206;;
   2252  8163
   2253  8163				   .
   2254  8163							;;line 207;;
   2255  8163
   2256  8163				   .
   2257  8163							;;line 208;;
   2258  8163
   2259  8163				   .
   2260  8163							;;line 209;;
   2261  8163
   2262  8163				   .
   2263  8163							;;line 210;;
   2264  8163
   2265  8163				   .
   2266  8163							;;line 211;;
   2267  8163
   2268  8163				   .
   2269  8163							;;line 212;;
   2270  8163
   2271  8163				   .
   2272  8163							;;line 213;;
   2273  8163
   2274  8163				   .
   2275  8163							;;line 214;;
   2276  8163
   2277  8163				   .
   2278  8163							;;line 215;;
   2279  8163
   2280  8163				   .L0130		;;line 216;;  temp_v = vx_p  +  rx
   2281  8163
   2282  8163		       ad 42 01 	      lda	vx_p
   2283  8166		       18		      CLC
   2284  8167		       6d 46 01 	      ADC	rx
   2285  816a		       8d 4f 01 	      sta	temp_v
   2286  816d				   .L0131		;;line 217;;  rx = temp_v  &  63
   2287  816d
   2288  816d		       ad 4f 01 	      lda	temp_v
   2289  8170		       29 3f		      AND	#63
   2290  8172		       8d 46 01 	      sta	rx
   2291  8175				   .L0132		;;line 218;;  temp_w = temp_v	/  64
   2292  8175
   2293  8175		       ad 4f 01 	      lda	temp_v
   2294  8178		       4a		      lsr
   2295  8179		       4a		      lsr
   2296  817a		       4a		      lsr
   2297  817b		       4a		      lsr
   2298  817c		       4a		      lsr
   2299  817d		       4a		      lsr
   2300  817e		       8d 87 01 	      sta	temp_w
   2301  8181				   .
   2302  8181							;;line 219;;
   2303  8181
   2304  8181				   .L0133		;;line 220;;  if temp_w = 0 then goto skip_pos_x
   2305  8181
   2306  8181		       ad 87 01 	      lda	temp_w
   2307  8184		       c9 00		      cmp	#0
   2308  8186		       d0 03		      bne	.skipL0133
   2309  8188				   .condpart6
   2310  8188		       4c a6 81 	      jmp	.skip_pos_x
   2311  818b				   .skipL0133
   2312  818b				   .L0134		;;line 221;;  px = px	+  temp_w
   2313  818b
   2314  818b		       ad 40 01 	      lda	px
   2315  818e		       18		      CLC
   2316  818f		       6d 87 01 	      ADC	temp_w
   2317  8192		       8d 40 01 	      sta	px
   2318  8195				   .L0135		;;line 222;;  if px  <  temp_w then px_hi = px_hi  +  1
   2319  8195
   2320  8195		       ad 40 01 	      lda	px
   2321  8198		       cd 87 01 	      cmp	temp_w
   2322  819b		       b0 09		      bcs	.skipL0135
   2323  819d				   .condpart7
   2324  819d		       ad 46 22 	      lda	px_hi
   2325  81a0		       18		      CLC
   2326  81a1		       69 01		      ADC	#1
   2327  81a3		       8d 46 22 	      sta	px_hi
   2328  81a6				   .skipL0135
   2329  81a6				   .skip_pos_x
   2330  81a6							;;line 223;; skip_pos_x
   2331  81a6
   2332  81a6				   .
   2333  81a6							;;line 224;;
   2334  81a6
   2335  81a6				   .
   2336  81a6							;;line 225;;
   2337  81a6
   2338  81a6				   .
   2339  81a6							;;line 226;;
   2340  81a6
   2341  81a6				   .L0136		;;line 227;;  temp_v = vx_m  +  temp_bx
   2342  81a6
   2343  81a6		       ad 43 01 	      lda	vx_m
   2344  81a9		       18		      CLC
   2345  81aa		       6d 66 01 	      ADC	temp_bx
   2346  81ad		       8d 4f 01 	      sta	temp_v
   2347  81b0				   .L0137		;;line 228;;  temp_bx = temp_v  &  63
   2348  81b0
   2349  81b0		       ad 4f 01 	      lda	temp_v
   2350  81b3		       29 3f		      AND	#63
   2351  81b5		       8d 66 01 	      sta	temp_bx
   2352  81b8				   .L0138		;;line 229;;  temp_w = temp_v	/  64
   2353  81b8
   2354  81b8		       ad 4f 01 	      lda	temp_v
   2355  81bb		       4a		      lsr
   2356  81bc		       4a		      lsr
   2357  81bd		       4a		      lsr
   2358  81be		       4a		      lsr
   2359  81bf		       4a		      lsr
   2360  81c0		       4a		      lsr
   2361  81c1		       8d 87 01 	      sta	temp_w
   2362  81c4				   .
   2363  81c4							;;line 230;;
   2364  81c4
   2365  81c4				   .L0139		;;line 231;;  if temp_w = 0 then goto skip_neg_x
   2366  81c4
   2367  81c4		       ad 87 01 	      lda	temp_w
   2368  81c7		       c9 00		      cmp	#0
   2369  81c9		       d0 03		      bne	.skipL0139
   2370  81cb				   .condpart8
   2371  81cb		       4c ef 81 	      jmp	.skip_neg_x
   2372  81ce				   .skipL0139
   2373  81ce				   .L0140		;;line 232;;  temp_v = px
   2374  81ce
   2375  81ce		       ad 40 01 	      lda	px
   2376  81d1		       8d 4f 01 	      sta	temp_v
   2377  81d4				   .L0141		;;line 233;;  px = px	-  temp_w
   2378  81d4
   2379  81d4		       ad 40 01 	      lda	px
   2380  81d7		       38		      SEC
   2381  81d8		       ed 87 01 	      SBC	temp_w
   2382  81db		       8d 40 01 	      sta	px
   2383  81de				   .L0142		;;line 234;;  if px  >  temp_v then px_hi = px_hi  -  1
   2384  81de
   2385  81de		       ad 4f 01 	      lda	temp_v
   2386  81e1		       cd 40 01 	      cmp	px
   2387  81e4		       b0 09		      bcs	.skipL0142
   2388  81e6				   .condpart9
   2389  81e6		       ad 46 22 	      lda	px_hi
   2390  81e9		       38		      SEC
   2391  81ea		       e9 01		      SBC	#1
   2392  81ec		       8d 46 22 	      sta	px_hi
   2393  81ef				   .skipL0142
   2394  81ef				   .skip_neg_x
   2395  81ef							;;line 235;; skip_neg_x
   2396  81ef
   2397  81ef				   .
   2398  81ef							;;line 236;;
   2399  81ef
   2400  81ef				   .
   2401  81ef							;;line 237;;
   2402  81ef
   2403  81ef				   .L0143		;;line 238;;  if px_hi  >=  4 then px_hi = 0
   2404  81ef
   2405  81ef		       ad 46 22 	      lda	px_hi
   2406  81f2		       c9 04		      cmp	#4
   2407  81f4		       90 05		      bcc	.skipL0143
   2408  81f6				   .condpart10
   2409  81f6		       a9 00		      lda	#0
   2410  81f8		       8d 46 22 	      sta	px_hi
   2411  81fb				   .skipL0143
   2412  81fb				   .L0144		;;line 239;;  if px_hi = 255 then px_hi = 3
   2413  81fb
   2414  81fb		       ad 46 22 	      lda	px_hi
   2415  81fe		       c9 ff		      cmp	#255
   2416  8200		       d0 05		      bne	.skipL0144
   2417  8202				   .condpart11
   2418  8202		       a9 03		      lda	#3
   2419  8204		       8d 46 22 	      sta	px_hi
   2420  8207				   .skipL0144
   2421  8207				   .
   2422  8207							;;line 240;;
   2423  8207
   2424  8207				   .
   2425  8207							;;line 241;;
   2426  8207
   2427  8207				   .
   2428  8207							;;line 242;;
   2429  8207
   2430  8207				   .L0145		;;line 243;;  temp_v = vy_p  +  ry
   2431  8207
   2432  8207		       ad 44 01 	      lda	vy_p
   2433  820a		       18		      CLC
   2434  820b		       6d 47 01 	      ADC	ry
   2435  820e		       8d 4f 01 	      sta	temp_v
   2436  8211				   .L0146		;;line 244;;  ry = temp_v  &  63
   2437  8211
   2438  8211		       ad 4f 01 	      lda	temp_v
   2439  8214		       29 3f		      AND	#63
   2440  8216		       8d 47 01 	      sta	ry
   2441  8219				   .L0147		;;line 245;;  temp_w = temp_v	/  64
   2442  8219
   2443  8219		       ad 4f 01 	      lda	temp_v
   2444  821c		       4a		      lsr
   2445  821d		       4a		      lsr
   2446  821e		       4a		      lsr
   2447  821f		       4a		      lsr
   2448  8220		       4a		      lsr
   2449  8221		       4a		      lsr
   2450  8222		       8d 87 01 	      sta	temp_w
   2451  8225				   .
   2452  8225							;;line 246;;
   2453  8225
   2454  8225				   .L0148		;;line 247;;  if temp_w = 0 then goto skip_pos_y
   2455  8225
   2456  8225		       ad 87 01 	      lda	temp_w
   2457  8228		       c9 00		      cmp	#0
   2458  822a		       d0 03		      bne	.skipL0148
   2459  822c				   .condpart12
   2460  822c		       4c 4a 82 	      jmp	.skip_pos_y
   2461  822f				   .skipL0148
   2462  822f				   .L0149		;;line 248;;  py = py	+  temp_w
   2463  822f
   2464  822f		       ad 41 01 	      lda	py
   2465  8232		       18		      CLC
   2466  8233		       6d 87 01 	      ADC	temp_w
   2467  8236		       8d 41 01 	      sta	py
   2468  8239				   .L0150		;;line 249;;  if py  <  temp_w then py_hi = py_hi  +  1
   2469  8239
   2470  8239		       ad 41 01 	      lda	py
   2471  823c		       cd 87 01 	      cmp	temp_w
   2472  823f		       b0 09		      bcs	.skipL0150
   2473  8241				   .condpart13
   2474  8241		       ad 47 22 	      lda	py_hi
   2475  8244		       18		      CLC
   2476  8245		       69 01		      ADC	#1
   2477  8247		       8d 47 22 	      sta	py_hi
   2478  824a				   .skipL0150
   2479  824a				   .skip_pos_y
   2480  824a							;;line 250;; skip_pos_y
   2481  824a
   2482  824a				   .
   2483  824a							;;line 251;;
   2484  824a
   2485  824a				   .
   2486  824a							;;line 252;;
   2487  824a
   2488  824a				   .L0151		;;line 253;;  temp_v = vy_m  +  temp_by
   2489  824a
   2490  824a		       ad 45 01 	      lda	vy_m
   2491  824d		       18		      CLC
   2492  824e		       6d 67 01 	      ADC	temp_by
   2493  8251		       8d 4f 01 	      sta	temp_v
   2494  8254				   .L0152		;;line 254;;  temp_by = temp_v  &  63
   2495  8254
   2496  8254		       ad 4f 01 	      lda	temp_v
   2497  8257		       29 3f		      AND	#63
   2498  8259		       8d 67 01 	      sta	temp_by
   2499  825c				   .L0153		;;line 255;;  temp_w = temp_v	/  64
   2500  825c
   2501  825c		       ad 4f 01 	      lda	temp_v
   2502  825f		       4a		      lsr
   2503  8260		       4a		      lsr
   2504  8261		       4a		      lsr
   2505  8262		       4a		      lsr
   2506  8263		       4a		      lsr
   2507  8264		       4a		      lsr
   2508  8265		       8d 87 01 	      sta	temp_w
   2509  8268				   .
   2510  8268							;;line 256;;
   2511  8268
   2512  8268				   .L0154		;;line 257;;  if temp_w = 0 then goto skip_neg_y
   2513  8268
   2514  8268		       ad 87 01 	      lda	temp_w
   2515  826b		       c9 00		      cmp	#0
   2516  826d		       d0 03		      bne	.skipL0154
   2517  826f				   .condpart14
   2518  826f		       4c 93 82 	      jmp	.skip_neg_y
   2519  8272				   .skipL0154
   2520  8272				   .L0155		;;line 258;;  temp_v = py
   2521  8272
   2522  8272		       ad 41 01 	      lda	py
   2523  8275		       8d 4f 01 	      sta	temp_v
   2524  8278				   .L0156		;;line 259;;  py = py	-  temp_w
   2525  8278
   2526  8278		       ad 41 01 	      lda	py
   2527  827b		       38		      SEC
   2528  827c		       ed 87 01 	      SBC	temp_w
   2529  827f		       8d 41 01 	      sta	py
   2530  8282				   .L0157		;;line 260;;  if py  >  temp_v then py_hi = py_hi  -  1
   2531  8282
   2532  8282		       ad 4f 01 	      lda	temp_v
   2533  8285		       cd 41 01 	      cmp	py
   2534  8288		       b0 09		      bcs	.skipL0157
   2535  828a				   .condpart15
   2536  828a		       ad 47 22 	      lda	py_hi
   2537  828d		       38		      SEC
   2538  828e		       e9 01		      SBC	#1
   2539  8290		       8d 47 22 	      sta	py_hi
   2540  8293				   .skipL0157
   2541  8293				   .skip_neg_y
   2542  8293							;;line 261;; skip_neg_y
   2543  8293
   2544  8293				   .
   2545  8293							;;line 262;;
   2546  8293
   2547  8293				   .
   2548  8293							;;line 263;;
   2549  8293
   2550  8293				   .L0158		;;line 264;;  if py_hi  >=  4 then py_hi = 0
   2551  8293
   2552  8293		       ad 47 22 	      lda	py_hi
   2553  8296		       c9 04		      cmp	#4
   2554  8298		       90 05		      bcc	.skipL0158
   2555  829a				   .condpart16
   2556  829a		       a9 00		      lda	#0
   2557  829c		       8d 47 22 	      sta	py_hi
   2558  829f				   .skipL0158
   2559  829f				   .L0159		;;line 265;;  if py_hi = 255 then py_hi = 3
   2560  829f
   2561  829f		       ad 47 22 	      lda	py_hi
   2562  82a2		       c9 ff		      cmp	#255
   2563  82a4		       d0 05		      bne	.skipL0159
   2564  82a6				   .condpart17
   2565  82a6		       a9 03		      lda	#3
   2566  82a8		       8d 47 22 	      sta	py_hi
   2567  82ab				   .skipL0159
   2568  82ab				   .
   2569  82ab							;;line 266;;
   2570  82ab
   2571  82ab				   .
   2572  82ab							;;line 267;;
   2573  82ab
   2574  82ab				   .L0160		;;line 268;;  gosub update_bullets
   2575  82ab
   2576  82ab		       20 f1 87 	      jsr	.update_bullets
   2577  82ae				   .
   2578  82ae							;;line 269;;
   2579  82ae
   2580  82ae				   .
   2581  82ae							;;line 270;;
   2582  82ae
   2583  82ae				   .L0161		;;line 271;;  if ecooldown  >	0 then ecooldown = ecooldown  -  1
   2584  82ae
   2585  82ae		       a9 00		      lda	#0
   2586  82b0		       cd 86 01 	      cmp	ecooldown
   2587  82b3		       b0 09		      bcs	.skipL0161
   2588  82b5				   .condpart18
   2589  82b5		       ad 86 01 	      lda	ecooldown
   2590  82b8		       38		      SEC
   2591  82b9		       e9 01		      SBC	#1
   2592  82bb		       8d 86 01 	      sta	ecooldown
   2593  82be				   .skipL0161
   2594  82be				   .L0162		;;line 272;;  gosub update_enemy
   2595  82be
   2596  82be		       20 49 8a 	      jsr	.update_enemy
   2597  82c1				   .
   2598  82c1							;;line 273;;
   2599  82c1
   2600  82c1				   .
   2601  82c1							;;line 274;;
   2602  82c1
   2603  82c1				   .L0163		;;line 275;;  gosub update_enemy_bullets
   2604  82c1
   2605  82c1		       20 99 8c 	      jsr	.update_enemy_bullets
   2606  82c4				   .
   2607  82c4							;;line 276;;
   2608  82c4
   2609  82c4				   .
   2610  82c4							;;line 277;;
   2611  82c4
   2612  82c4				   .L0164		;;line 278;;  gosub update_asteroid
   2613  82c4
   2614  82c4		       20 08 8e 	      jsr	.update_asteroid
   2615  82c7				   .
   2616  82c7							;;line 279;;
   2617  82c7
   2618  82c7				   .
   2619  82c7							;;line 280;;
   2620  82c7
   2621  82c7				   .L0165		;;line 281;;  gosub check_collisions
   2622  82c7
   2623  82c7		       20 57 8f 	      jsr	.check_collisions
   2624  82ca				   .
   2625  82ca							;;line 282;;
   2626  82ca
   2627  82ca				   .
   2628  82ca							;;line 283;;
   2629  82ca
   2630  82ca				   .L0166		;;line 284;;  gosub apply_friction
   2631  82ca
   2632  82ca		       20 80 87 	      jsr	.apply_friction
   2633  82cd				   .
   2634  82cd							;;line 285;;
   2635  82cd
   2636  82cd				   .
   2637  82cd							;;line 286;;
   2638  82cd
   2639  82cd				   .
   2640  82cd							;;line 287;;
   2641  82cd
   2642  82cd				   .
   2643  82cd							;;line 288;;
   2644  82cd
   2645  82cd				   .
   2646  82cd							;;line 289;;
   2647  82cd
   2648  82cd				   .L0167		;;line 290;;  gosub update_camera
   2649  82cd
   2650  82cd		       20 17 93 	      jsr	.update_camera
   2651  82d0				   .
   2652  82d0							;;line 291;;
   2653  82d0
   2654  82d0				   .
   2655  82d0							;;line 292;;
   2656  82d0
   2657  82d0				   .
   2658  82d0							;;line 293;;
   2659  82d0
   2660  82d0				   .L0168		;;line 294;;  temp_v = px  -  cam_x
   2661  82d0
   2662  82d0		       ad 40 01 	      lda	px
   2663  82d3		       38		      SEC
   2664  82d4		       ed 48 22 	      SBC	cam_x
   2665  82d7		       8d 4f 01 	      sta	temp_v
   2666  82da				   .L0169		;;line 295;;  temp_w = py  -  cam_y
   2667  82da
   2668  82da		       ad 41 01 	      lda	py
   2669  82dd		       38		      SEC
   2670  82de		       ed 4a 22 	      SBC	cam_y
   2671  82e1		       8d 87 01 	      sta	temp_w
   2672  82e4				   .L0170		;;line 296;;  plotsprite sprite_spaceship1 5 temp_v temp_w shpfr
   2673  82e4
   2674  82e4		       a9 00		      lda	#<sprite_spaceship1
   2675  82e6		       a0 04		      ldy	#sprite_spaceship1_width
   2676  82e8		       f0 07		      beq	plotspritewidthskip0
   2677  82ea				   plotspritewidthloop0
   2678  82ea		       18		      clc
   2679  82eb		       6d 49 01 	      adc	shpfr
   2680  82ee		       88		      dey
   2681  82ef		       d0 f9		      bne	plotspritewidthloop0
   2682  82f1				   plotspritewidthskip0
   2683  82f1		       85 42		      sta	temp1
   2684  82f3
   2685  82f3		       a9 e0		      lda	#>sprite_spaceship1
   2686  82f5		       85 43		      sta	temp2
   2687  82f7
   2688  82f7		       a9 bc		      lda	#(160|sprite_spaceship1_width_twoscompliment)
   2689  82f9		       85 44		      sta	temp3
   2690  82fb
   2691  82fb		       ad 4f 01 	      lda	temp_v
   2692  82fe		       85 45		      sta	temp4
   2693  8300
   2694  8300		       ad 87 01 	      lda	temp_w
   2695  8303		       85 46		      sta	temp5
   2696  8305
   2697  8305		       a9 40		      lda	#(sprite_spaceship1_mode|%01000000)
   2698  8307		       85 47		      sta	temp6
   2699  8309
   2700  8309		       20 e3 f2 	      jsr	plotsprite
   2701  830c				   .
   2702  830c							;;line 297;;
   2703  830c
   2704  830c				   .L0171		;;line 298;;  gosub draw_stars
   2705  830c
   2706  830c		       20 71 92 	      jsr	.draw_stars
   2707  830f				   .
   2708  830f							;;line 299;;
   2709  830f
   2710  830f				   .L0172		;;line 300;;  if blife0  >  0 then temp_v = bul_x0  -	cam_x  :  temp_w = bul_y0  -  cam_y  :	plotsprite bullet_conv 1 temp_v temp_w
   2711  830f
   2712  830f		       a9 00		      lda	#0
   2713  8311		       cd 62 01 	      cmp	blife0
   2714  8314		       b0 31		      bcs	.skipL0172
   2715  8316				   .condpart19
   2716  8316		       ad 52 01 	      lda	bul_x0
   2717  8319		       38		      SEC
   2718  831a		       ed 48 22 	      SBC	cam_x
   2719  831d		       8d 4f 01 	      sta	temp_v
   2720  8320		       ad 56 01 	      lda	bul_y0
   2721  8323		       38		      SEC
   2722  8324		       ed 4a 22 	      SBC	cam_y
   2723  8327		       8d 87 01 	      sta	temp_w
   2724  832a		       a9 40		      lda	#<bullet_conv
   2725  832c		       85 42		      sta	temp1
   2726  832e
   2727  832e		       a9 e0		      lda	#>bullet_conv
   2728  8330		       85 43		      sta	temp2
   2729  8332
   2730  8332		       a9 3c		      lda	#(32|bullet_conv_width_twoscompliment)
   2731  8334		       85 44		      sta	temp3
   2732  8336
   2733  8336		       ad 4f 01 	      lda	temp_v
   2734  8339		       85 45		      sta	temp4
   2735  833b
   2736  833b		       ad 87 01 	      lda	temp_w
   2737  833e
   2738  833e		       85 46		      sta	temp5
   2739  8340
   2740  8340		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   2741  8342		       85 47		      sta	temp6
   2742  8344
   2743  8344		       20 e3 f2 	      jsr	plotsprite
   2744  8347				   .skipL0172
   2745  8347				   .L0173		;;line 301;;  if blife1  >  0 then temp_v = bul_x1  -	cam_x  :  temp_w = bul_y1  -  cam_y  :	plotsprite bullet_conv 1 temp_v temp_w
   2746  8347
   2747  8347		       a9 00		      lda	#0
   2748  8349		       cd 63 01 	      cmp	blife1
   2749  834c		       b0 31		      bcs	.skipL0173
   2750  834e				   .condpart20
   2751  834e		       ad 53 01 	      lda	bul_x1
   2752  8351		       38		      SEC
   2753  8352		       ed 48 22 	      SBC	cam_x
   2754  8355		       8d 4f 01 	      sta	temp_v
   2755  8358		       ad 57 01 	      lda	bul_y1
   2756  835b		       38		      SEC
   2757  835c		       ed 4a 22 	      SBC	cam_y
   2758  835f		       8d 87 01 	      sta	temp_w
   2759  8362		       a9 40		      lda	#<bullet_conv
   2760  8364		       85 42		      sta	temp1
   2761  8366
   2762  8366		       a9 e0		      lda	#>bullet_conv
   2763  8368		       85 43		      sta	temp2
   2764  836a
   2765  836a		       a9 3c		      lda	#(32|bullet_conv_width_twoscompliment)
   2766  836c		       85 44		      sta	temp3
   2767  836e
   2768  836e		       ad 4f 01 	      lda	temp_v
   2769  8371		       85 45		      sta	temp4
   2770  8373
   2771  8373		       ad 87 01 	      lda	temp_w
   2772  8376
   2773  8376		       85 46		      sta	temp5
   2774  8378
   2775  8378		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   2776  837a		       85 47		      sta	temp6
   2777  837c
   2778  837c		       20 e3 f2 	      jsr	plotsprite
   2779  837f				   .skipL0173
   2780  837f				   .L0174		;;line 302;;  if blife2  >  0 then temp_v = bul_x2  -	cam_x  :  temp_w = bul_y2  -  cam_y  :	plotsprite bullet_conv 1 temp_v temp_w
   2781  837f
   2782  837f		       a9 00		      lda	#0
   2783  8381		       cd 64 01 	      cmp	blife2
   2784  8384		       b0 31		      bcs	.skipL0174
   2785  8386				   .condpart21
   2786  8386		       ad 54 01 	      lda	bul_x2
   2787  8389		       38		      SEC
   2788  838a		       ed 48 22 	      SBC	cam_x
   2789  838d		       8d 4f 01 	      sta	temp_v
   2790  8390		       ad 58 01 	      lda	bul_y2
   2791  8393		       38		      SEC
   2792  8394		       ed 4a 22 	      SBC	cam_y
   2793  8397		       8d 87 01 	      sta	temp_w
   2794  839a		       a9 40		      lda	#<bullet_conv
   2795  839c		       85 42		      sta	temp1
   2796  839e
   2797  839e		       a9 e0		      lda	#>bullet_conv
   2798  83a0		       85 43		      sta	temp2
   2799  83a2
   2800  83a2		       a9 3c		      lda	#(32|bullet_conv_width_twoscompliment)
   2801  83a4		       85 44		      sta	temp3
   2802  83a6
   2803  83a6		       ad 4f 01 	      lda	temp_v
   2804  83a9		       85 45		      sta	temp4
   2805  83ab
   2806  83ab		       ad 87 01 	      lda	temp_w
   2807  83ae
   2808  83ae		       85 46		      sta	temp5
   2809  83b0
   2810  83b0		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   2811  83b2		       85 47		      sta	temp6
   2812  83b4
   2813  83b4		       20 e3 f2 	      jsr	plotsprite
   2814  83b7				   .skipL0174
   2815  83b7				   .L0175		;;line 303;;  if blife3  >  0 then temp_v = bul_x3  -	cam_x  :  temp_w = bul_y3  -  cam_y  :	plotsprite bullet_conv 1 temp_v temp_w
   2816  83b7
   2817  83b7		       a9 00		      lda	#0
   2818  83b9		       cd 65 01 	      cmp	blife3
   2819  83bc		       b0 31		      bcs	.skipL0175
   2820  83be				   .condpart22
   2821  83be		       ad 55 01 	      lda	bul_x3
   2822  83c1		       38		      SEC
   2823  83c2		       ed 48 22 	      SBC	cam_x
   2824  83c5		       8d 4f 01 	      sta	temp_v
   2825  83c8		       ad 59 01 	      lda	bul_y3
   2826  83cb		       38		      SEC
   2827  83cc		       ed 4a 22 	      SBC	cam_y
   2828  83cf		       8d 87 01 	      sta	temp_w
   2829  83d2		       a9 40		      lda	#<bullet_conv
   2830  83d4		       85 42		      sta	temp1
   2831  83d6
   2832  83d6		       a9 e0		      lda	#>bullet_conv
   2833  83d8		       85 43		      sta	temp2
   2834  83da
   2835  83da		       a9 3c		      lda	#(32|bullet_conv_width_twoscompliment)
   2836  83dc		       85 44		      sta	temp3
   2837  83de
   2838  83de		       ad 4f 01 	      lda	temp_v
   2839  83e1		       85 45		      sta	temp4
   2840  83e3
   2841  83e3		       ad 87 01 	      lda	temp_w
   2842  83e6
   2843  83e6		       85 46		      sta	temp5
   2844  83e8
   2845  83e8		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   2846  83ea		       85 47		      sta	temp6
   2847  83ec
   2848  83ec		       20 e3 f2 	      jsr	plotsprite
   2849  83ef				   .skipL0175
   2850  83ef				   .
   2851  83ef							;;line 304;;
   2852  83ef
   2853  83ef				   .L0176		;;line 305;;  if elife[0]  >  0 then temp_v = ex[0]  -  cam_x	:  temp_w = ey[0]  -  cam_y  :	plotsprite fighter_conv 3 temp_v temp_w
   2854  83ef
   2855  83ef		       a9 00		      lda	#0
   2856  83f1		       a2 00		      LDX	#0
   2857  83f3		       dd 78 01 	      cmp	elife,x
   2858  83f6		       b0 35		      bcs	.skipL0176
   2859  83f8				   .condpart23
   2860  83f8		       a2 00		      LDX	#0
   2861  83fa		       bd 68 01 	      lda	ex,x
   2862  83fd		       38		      SEC
   2863  83fe		       ed 48 22 	      SBC	cam_x
   2864  8401		       8d 4f 01 	      sta	temp_v
   2865  8404		       a2 00		      LDX	#0
   2866  8406		       bd 6c 01 	      lda	ey,x
   2867  8409		       38		      SEC
   2868  840a		       ed 4a 22 	      SBC	cam_y
   2869  840d		       8d 87 01 	      sta	temp_w
   2870  8410		       a9 44		      lda	#<fighter_conv
   2871  8412		       85 42		      sta	temp1
   2872  8414
   2873  8414		       a9 e0		      lda	#>fighter_conv
   2874  8416		       85 43		      sta	temp2
   2875  8418
   2876  8418		       a9 7c		      lda	#(96|fighter_conv_width_twoscompliment)
   2877  841a		       85 44		      sta	temp3
   2878  841c
   2879  841c		       ad 4f 01 	      lda	temp_v
   2880  841f		       85 45		      sta	temp4
   2881  8421
   2882  8421		       ad 87 01 	      lda	temp_w
   2883  8424
   2884  8424		       85 46		      sta	temp5
   2885  8426
   2886  8426		       a9 40		      lda	#(fighter_conv_mode|%01000000)
   2887  8428		       85 47		      sta	temp6
   2888  842a
   2889  842a		       20 e3 f2 	      jsr	plotsprite
   2890  842d				   .skipL0176
   2891  842d				   .L0177		;;line 306;;  if elife[1]  >  0 then temp_v = ex[1]  -  cam_x	:  temp_w = ey[1]  -  cam_y  :	plotsprite fighter_conv 3 temp_v temp_w
   2892  842d
   2893  842d		       a9 00		      lda	#0
   2894  842f		       a2 01		      LDX	#1
   2895  8431		       dd 78 01 	      cmp	elife,x
   2896  8434		       b0 35		      bcs	.skipL0177
   2897  8436				   .condpart24
   2898  8436		       a2 01		      LDX	#1
   2899  8438		       bd 68 01 	      lda	ex,x
   2900  843b		       38		      SEC
   2901  843c		       ed 48 22 	      SBC	cam_x
   2902  843f		       8d 4f 01 	      sta	temp_v
   2903  8442		       a2 01		      LDX	#1
   2904  8444		       bd 6c 01 	      lda	ey,x
   2905  8447		       38		      SEC
   2906  8448		       ed 4a 22 	      SBC	cam_y
   2907  844b		       8d 87 01 	      sta	temp_w
   2908  844e		       a9 44		      lda	#<fighter_conv
   2909  8450		       85 42		      sta	temp1
   2910  8452
   2911  8452		       a9 e0		      lda	#>fighter_conv
   2912  8454		       85 43		      sta	temp2
   2913  8456
   2914  8456		       a9 7c		      lda	#(96|fighter_conv_width_twoscompliment)
   2915  8458		       85 44		      sta	temp3
   2916  845a
   2917  845a		       ad 4f 01 	      lda	temp_v
   2918  845d		       85 45		      sta	temp4
   2919  845f
   2920  845f		       ad 87 01 	      lda	temp_w
   2921  8462
   2922  8462		       85 46		      sta	temp5
   2923  8464
   2924  8464		       a9 40		      lda	#(fighter_conv_mode|%01000000)
   2925  8466		       85 47		      sta	temp6
   2926  8468
   2927  8468		       20 e3 f2 	      jsr	plotsprite
   2928  846b				   .skipL0177
   2929  846b				   .L0178		;;line 307;;  if elife[2]  >  0 then temp_v = ex[2]  -  cam_x	:  temp_w = ey[2]  -  cam_y  :	plotsprite fighter_conv 3 temp_v temp_w
   2930  846b
   2931  846b		       a9 00		      lda	#0
   2932  846d		       a2 02		      LDX	#2
   2933  846f		       dd 78 01 	      cmp	elife,x
   2934  8472		       b0 35		      bcs	.skipL0178
   2935  8474				   .condpart25
   2936  8474		       a2 02		      LDX	#2
   2937  8476		       bd 68 01 	      lda	ex,x
   2938  8479		       38		      SEC
   2939  847a		       ed 48 22 	      SBC	cam_x
   2940  847d		       8d 4f 01 	      sta	temp_v
   2941  8480		       a2 02		      LDX	#2
   2942  8482		       bd 6c 01 	      lda	ey,x
   2943  8485		       38		      SEC
   2944  8486		       ed 4a 22 	      SBC	cam_y
   2945  8489		       8d 87 01 	      sta	temp_w
   2946  848c		       a9 44		      lda	#<fighter_conv
   2947  848e		       85 42		      sta	temp1
   2948  8490
   2949  8490		       a9 e0		      lda	#>fighter_conv
   2950  8492		       85 43		      sta	temp2
   2951  8494
   2952  8494		       a9 7c		      lda	#(96|fighter_conv_width_twoscompliment)
   2953  8496		       85 44		      sta	temp3
   2954  8498
   2955  8498		       ad 4f 01 	      lda	temp_v
   2956  849b		       85 45		      sta	temp4
   2957  849d
   2958  849d		       ad 87 01 	      lda	temp_w
   2959  84a0
   2960  84a0		       85 46		      sta	temp5
   2961  84a2
   2962  84a2		       a9 40		      lda	#(fighter_conv_mode|%01000000)
   2963  84a4		       85 47		      sta	temp6
   2964  84a6
   2965  84a6		       20 e3 f2 	      jsr	plotsprite
   2966  84a9				   .skipL0178
   2967  84a9				   .L0179		;;line 308;;  if elife[3]  >  0 then temp_v = ex[3]  -  cam_x	:  temp_w = ey[3]  -  cam_y  :	plotsprite fighter_conv 3 temp_v temp_w
   2968  84a9
   2969  84a9		       a9 00		      lda	#0
   2970  84ab		       a2 03		      LDX	#3
   2971  84ad		       dd 78 01 	      cmp	elife,x
   2972  84b0		       b0 35		      bcs	.skipL0179
   2973  84b2				   .condpart26
   2974  84b2		       a2 03		      LDX	#3
   2975  84b4		       bd 68 01 	      lda	ex,x
   2976  84b7		       38		      SEC
   2977  84b8		       ed 48 22 	      SBC	cam_x
   2978  84bb		       8d 4f 01 	      sta	temp_v
   2979  84be		       a2 03		      LDX	#3
   2980  84c0		       bd 6c 01 	      lda	ey,x
   2981  84c3		       38		      SEC
   2982  84c4		       ed 4a 22 	      SBC	cam_y
   2983  84c7		       8d 87 01 	      sta	temp_w
   2984  84ca		       a9 44		      lda	#<fighter_conv
   2985  84cc		       85 42		      sta	temp1
   2986  84ce
   2987  84ce		       a9 e0		      lda	#>fighter_conv
   2988  84d0		       85 43		      sta	temp2
   2989  84d2
   2990  84d2		       a9 7c		      lda	#(96|fighter_conv_width_twoscompliment)
   2991  84d4		       85 44		      sta	temp3
   2992  84d6
   2993  84d6		       ad 4f 01 	      lda	temp_v
   2994  84d9		       85 45		      sta	temp4
   2995  84db
   2996  84db		       ad 87 01 	      lda	temp_w
   2997  84de
   2998  84de		       85 46		      sta	temp5
   2999  84e0
   3000  84e0		       a9 40		      lda	#(fighter_conv_mode|%01000000)
   3001  84e2		       85 47		      sta	temp6
   3002  84e4
   3003  84e4		       20 e3 f2 	      jsr	plotsprite
   3004  84e7				   .skipL0179
   3005  84e7				   .
   3006  84e7							;;line 309;;
   3007  84e7
   3008  84e7				   .L0180		;;line 310;;  if alife  >  0 then temp_v = ax	-  cam_x  :  temp_w = ay  -  cam_y  :  plotsprite asteroid_M_conv 2 temp_v temp_w
   3009  84e7
   3010  84e7		       a9 00		      lda	#0
   3011  84e9		       cd 36 22 	      cmp	alife
   3012  84ec		       b0 41		      bcs	.skipL0180
   3013  84ee				   .condpart27
   3014  84ee		       ad 32 22 	      lda	ax
   3015  84f1		       38		      SEC
   3016  84f2		       ed 48 22 	      SBC	cam_x
   3017  84f5		       8d 4f 01 	      sta	temp_v
   3018  84f8		       ad 33 22 	      lda	ay
   3019  84fb		       38		      SEC
   3020  84fc		       ed 4a 22 	      SBC	cam_y
   3021  84ff		       8d 87 01 	      sta	temp_w
   3022  8502		       a9 68		      lda	#<asteroid_M_conv
   3023  8504		       85 42		      sta	temp1
   3024  8506
   3025  8506		       a9 e0		      lda	#>asteroid_M_conv
   3026  8508		       85 43		      sta	temp2
   3027  850a
   3028  850a		       a9 5c		      lda	#(64|asteroid_M_conv_width_twoscompliment)
   3029  850c		       85 44		      sta	temp3
   3030  850e
   3031  850e		       ad 4f 01 	      lda	temp_v
   3032  8511		       85 45		      sta	temp4
   3033  8513
   3034  8513		       ad 87 01 	      lda	temp_w
   3035  8516
   3036  8516		       85 46		      sta	temp5
   3037  8518
   3038  8518		       a9 40		      lda	#(asteroid_M_conv_mode|%01000000)
   3039  851a		       85 47		      sta	temp6
   3040  851c
   3041  851c		       20 e3 f2 	      jsr	plotsprite
   3042  851f				  -	      ifconst	TALLCLIP
   3043  851f				  -	      lda	#0
   3044  851f				  -	      ldy	temp5
   3045  851f				  -	      cpy	#(WSCREENHEIGHT)
   3046  851f				  -	      adc	#$FF
   3047  851f				  -	      sta	temp7	; on-screen: temp7=0, off-screen: temp7=$ff
   3048  851f					      endif		; TALLCLIP
   3049  851f							; +tall sprite replot
   3050  851f		       18		      clc
   3051  8520		       a5 42		      lda	temp1
   3052  8522		       69 04		      adc	#asteroid_M_conv_width
   3053  8524		       85 42		      sta	temp1
   3054  8526		       a5 46		      lda	temp5
   3055  8528		       69 10		      adc	#WZONEHEIGHT
   3056  852a		       85 46		      sta	temp5
   3057  852c				  -	      ifconst	TALLCLIP
   3058  852c				  -	      ora	temp7
   3059  852c				  -	      cmp	#(WSCREENHEIGHT)
   3060  852c				  -	      bcs	.plotexit_0
   3061  852c					      endif		; TALLCLIP
   3062  852c		       20 e3 f2 	      jsr	plotsprite
   3063  852f				   .plotexit_0
   3064  852f				   .skipL0180
   3065  852f				   .
   3066  852f							;;line 311;;
   3067  852f
   3068  852f				   .L0181		;;line 312;;  if eblife[0]  >	0 then temp_v = ebul_x[0]  -  cam_x  :	temp_w = ebul_y[0]  -  cam_y  :  plotsprite bullet_conv 3 temp_v temp_w
   3069  852f
   3070  852f		       a9 00		      lda	#0
   3071  8531		       a2 00		      LDX	#0
   3072  8533		       dd 40 22 	      cmp	eblife,x
   3073  8536		       b0 35		      bcs	.skipL0181
   3074  8538				   .condpart28
   3075  8538		       a2 00		      LDX	#0
   3076  853a		       bd 7c 01 	      lda	ebul_x,x
   3077  853d		       38		      SEC
   3078  853e		       ed 48 22 	      SBC	cam_x
   3079  8541		       8d 4f 01 	      sta	temp_v
   3080  8544		       a2 00		      LDX	#0
   3081  8546		       bd 80 01 	      lda	ebul_y,x
   3082  8549		       38		      SEC
   3083  854a		       ed 4a 22 	      SBC	cam_y
   3084  854d		       8d 87 01 	      sta	temp_w
   3085  8550		       a9 40		      lda	#<bullet_conv
   3086  8552		       85 42		      sta	temp1
   3087  8554
   3088  8554		       a9 e0		      lda	#>bullet_conv
   3089  8556		       85 43		      sta	temp2
   3090  8558
   3091  8558		       a9 7c		      lda	#(96|bullet_conv_width_twoscompliment)
   3092  855a		       85 44		      sta	temp3
   3093  855c
   3094  855c		       ad 4f 01 	      lda	temp_v
   3095  855f		       85 45		      sta	temp4
   3096  8561
   3097  8561		       ad 87 01 	      lda	temp_w
   3098  8564
   3099  8564		       85 46		      sta	temp5
   3100  8566
   3101  8566		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   3102  8568		       85 47		      sta	temp6
   3103  856a
   3104  856a		       20 e3 f2 	      jsr	plotsprite
   3105  856d				   .skipL0181
   3106  856d				   .L0182		;;line 313;;  if eblife[1]  >	0 then temp_v = ebul_x[1]  -  cam_x  :	temp_w = ebul_y[1]  -  cam_y  :  plotsprite bullet_conv 3 temp_v temp_w
   3107  856d
   3108  856d		       a9 00		      lda	#0
   3109  856f		       a2 01		      LDX	#1
   3110  8571		       dd 40 22 	      cmp	eblife,x
   3111  8574		       b0 35		      bcs	.skipL0182
   3112  8576				   .condpart29
   3113  8576		       a2 01		      LDX	#1
   3114  8578		       bd 7c 01 	      lda	ebul_x,x
   3115  857b		       38		      SEC
   3116  857c		       ed 48 22 	      SBC	cam_x
   3117  857f		       8d 4f 01 	      sta	temp_v
   3118  8582		       a2 01		      LDX	#1
   3119  8584		       bd 80 01 	      lda	ebul_y,x
   3120  8587		       38		      SEC
   3121  8588		       ed 4a 22 	      SBC	cam_y
   3122  858b		       8d 87 01 	      sta	temp_w
   3123  858e		       a9 40		      lda	#<bullet_conv
   3124  8590		       85 42		      sta	temp1
   3125  8592
   3126  8592		       a9 e0		      lda	#>bullet_conv
   3127  8594		       85 43		      sta	temp2
   3128  8596
   3129  8596		       a9 7c		      lda	#(96|bullet_conv_width_twoscompliment)
   3130  8598		       85 44		      sta	temp3
   3131  859a
   3132  859a		       ad 4f 01 	      lda	temp_v
   3133  859d		       85 45		      sta	temp4
   3134  859f
   3135  859f		       ad 87 01 	      lda	temp_w
   3136  85a2
   3137  85a2		       85 46		      sta	temp5
   3138  85a4
   3139  85a4		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   3140  85a6		       85 47		      sta	temp6
   3141  85a8
   3142  85a8		       20 e3 f2 	      jsr	plotsprite
   3143  85ab				   .skipL0182
   3144  85ab				   .L0183		;;line 314;;  if eblife[2]  >	0 then temp_v = ebul_x[2]  -  cam_x  :	temp_w = ebul_y[2]  -  cam_y  :  plotsprite bullet_conv 3 temp_v temp_w
   3145  85ab
   3146  85ab		       a9 00		      lda	#0
   3147  85ad		       a2 02		      LDX	#2
   3148  85af		       dd 40 22 	      cmp	eblife,x
   3149  85b2		       b0 35		      bcs	.skipL0183
   3150  85b4				   .condpart30
   3151  85b4		       a2 02		      LDX	#2
   3152  85b6		       bd 7c 01 	      lda	ebul_x,x
   3153  85b9		       38		      SEC
   3154  85ba		       ed 48 22 	      SBC	cam_x
   3155  85bd		       8d 4f 01 	      sta	temp_v
   3156  85c0		       a2 02		      LDX	#2
   3157  85c2		       bd 80 01 	      lda	ebul_y,x
   3158  85c5		       38		      SEC
   3159  85c6		       ed 4a 22 	      SBC	cam_y
   3160  85c9		       8d 87 01 	      sta	temp_w
   3161  85cc		       a9 40		      lda	#<bullet_conv
   3162  85ce		       85 42		      sta	temp1
   3163  85d0
   3164  85d0		       a9 e0		      lda	#>bullet_conv
   3165  85d2		       85 43		      sta	temp2
   3166  85d4
   3167  85d4		       a9 7c		      lda	#(96|bullet_conv_width_twoscompliment)
   3168  85d6		       85 44		      sta	temp3
   3169  85d8
   3170  85d8		       ad 4f 01 	      lda	temp_v
   3171  85db		       85 45		      sta	temp4
   3172  85dd
   3173  85dd		       ad 87 01 	      lda	temp_w
   3174  85e0
   3175  85e0		       85 46		      sta	temp5
   3176  85e2
   3177  85e2		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   3178  85e4		       85 47		      sta	temp6
   3179  85e6
   3180  85e6		       20 e3 f2 	      jsr	plotsprite
   3181  85e9				   .skipL0183
   3182  85e9				   .L0184		;;line 315;;  if eblife[3]  >	0 then temp_v = ebul_x[3]  -  cam_x  :	temp_w = ebul_y[3]  -  cam_y  :  plotsprite bullet_conv 3 temp_v temp_w
   3183  85e9
   3184  85e9		       a9 00		      lda	#0
   3185  85eb		       a2 03		      LDX	#3
   3186  85ed		       dd 40 22 	      cmp	eblife,x
   3187  85f0		       b0 35		      bcs	.skipL0184
   3188  85f2				   .condpart31
   3189  85f2		       a2 03		      LDX	#3
   3190  85f4		       bd 7c 01 	      lda	ebul_x,x
   3191  85f7		       38		      SEC
   3192  85f8		       ed 48 22 	      SBC	cam_x
   3193  85fb		       8d 4f 01 	      sta	temp_v
   3194  85fe		       a2 03		      LDX	#3
   3195  8600		       bd 80 01 	      lda	ebul_y,x
   3196  8603		       38		      SEC
   3197  8604		       ed 4a 22 	      SBC	cam_y
   3198  8607		       8d 87 01 	      sta	temp_w
   3199  860a		       a9 40		      lda	#<bullet_conv
   3200  860c		       85 42		      sta	temp1
   3201  860e
   3202  860e		       a9 e0		      lda	#>bullet_conv
   3203  8610		       85 43		      sta	temp2
   3204  8612
   3205  8612		       a9 7c		      lda	#(96|bullet_conv_width_twoscompliment)
   3206  8614		       85 44		      sta	temp3
   3207  8616
   3208  8616		       ad 4f 01 	      lda	temp_v
   3209  8619		       85 45		      sta	temp4
   3210  861b
   3211  861b		       ad 87 01 	      lda	temp_w
   3212  861e
   3213  861e		       85 46		      sta	temp5
   3214  8620
   3215  8620		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   3216  8622		       85 47		      sta	temp6
   3217  8624
   3218  8624		       20 e3 f2 	      jsr	plotsprite
   3219  8627				   .skipL0184
   3220  8627				   .
   3221  8627							;;line 316;;
   3222  8627
   3223  8627				   .L0185		;;line 317;;  drawscreen
   3224  8627
   3225  8627		       20 b3 f0 	      jsr	drawscreen
   3226  862a				   .L0186		;;line 318;;  goto main_loop
   3227  862a
   3228  862a		       4c fe 80 	      jmp	.main_loop
   3229  862d				   .
   3230  862d							;;line 319;;
   3231  862d
   3232  862d				   .check_rotation
   3233  862d							;;line 320;; check_rotation
   3234  862d
   3235  862d				   .L0187		;;line 321;;  if joy0left then angle = angle  -  1  :	rot_timer = 4
   3236  862d
   3237  862d		       2c 31 21 	      bit	sSWCHA
   3238  8630		       70 0e		      bvs	.skipL0187
   3239  8632				   .condpart32
   3240  8632		       ad 48 01 	      lda	angle
   3241  8635		       38		      SEC
   3242  8636		       e9 01		      SBC	#1
   3243  8638		       8d 48 01 	      sta	angle
   3244  863b		       a9 04		      lda	#4
   3245  863d		       8d 4a 01 	      sta	rot_timer
   3246  8640				   .skipL0187
   3247  8640				   .L0188		;;line 322;;  if joy0right then angle = angle	+  1  :  rot_timer = 4
   3248  8640
   3249  8640		       2c 31 21 	      bit	sSWCHA
   3250  8643		       30 0e		      bmi	.skipL0188
   3251  8645				   .condpart33
   3252  8645		       ad 48 01 	      lda	angle
   3253  8648		       18		      CLC
   3254  8649		       69 01		      ADC	#1
   3255  864b		       8d 48 01 	      sta	angle
   3256  864e		       a9 04		      lda	#4
   3257  8650		       8d 4a 01 	      sta	rot_timer
   3258  8653				   .skipL0188
   3259  8653				   .L0189		;;line 323;;  if angle  >  250 then angle = 15
   3260  8653
   3261  8653		       a9 fa		      lda	#250
   3262  8655		       cd 48 01 	      cmp	angle
   3263  8658		       b0 05		      bcs	.skipL0189
   3264  865a				   .condpart34
   3265  865a		       a9 0f		      lda	#15
   3266  865c		       8d 48 01 	      sta	angle
   3267  865f				   .skipL0189
   3268  865f				   .L0190		;;line 324;;  if angle  >  15 then angle = 0
   3269  865f
   3270  865f		       a9 0f		      lda	#15
   3271  8661		       cd 48 01 	      cmp	angle
   3272  8664		       b0 05		      bcs	.skipL0190
   3273  8666				   .condpart35
   3274  8666		       a9 00		      lda	#0
   3275  8668		       8d 48 01 	      sta	angle
   3276  866b				   .skipL0190
   3277  866b				   .L0191		;;line 325;;  return
   3278  866b
   3279  866b		       60		      rts
   3280  866c				   .
   3281  866c							;;line 326;;
   3282  866c
   3283  866c				   .apply_thrust
   3284  866c							;;line 327;; apply_thrust
   3285  866c
   3286  866c				   .
   3287  866c							;;line 328;;
   3288  866c
   3289  866c				   .L0192		;;line 329;;  temp_acc = sin_table[angle]
   3290  866c
   3291  866c		       ae 48 01 	      LDX	angle
   3292  866f		       bd 98 93 	      lda	sin_table,x
   3293  8672		       8d 4c 01 	      sta	temp_acc
   3294  8675				   .L0193		;;line 330;;  if temp_acc  <  128 then vx_p = vx_p  +	temp_acc
   3295  8675
   3296  8675		       ad 4c 01 	      lda	temp_acc
   3297  8678		       c9 80		      cmp	#128
   3298  867a		       b0 0a		      bcs	.skipL0193
   3299  867c				   .condpart36
   3300  867c		       ad 42 01 	      lda	vx_p
   3301  867f		       18		      CLC
   3302  8680		       6d 4c 01 	      ADC	temp_acc
   3303  8683		       8d 42 01 	      sta	vx_p
   3304  8686				   .skipL0193
   3305  8686				   .L0194		;;line 331;;  if temp_acc  >=	128 then temp_acc = 0  -  temp_acc  :  vx_m = vx_m  +  temp_acc
   3306  8686
   3307  8686		       ad 4c 01 	      lda	temp_acc
   3308  8689		       c9 80		      cmp	#128
   3309  868b		       90 13		      bcc	.skipL0194
   3310  868d				   .condpart37
   3311  868d		       a9 00		      lda	#0
   3312  868f		       38		      SEC
   3313  8690		       ed 4c 01 	      SBC	temp_acc
   3314  8693		       8d 4c 01 	      sta	temp_acc
   3315  8696		       ad 43 01 	      lda	vx_m
   3316  8699		       18		      CLC
   3317  869a		       6d 4c 01 	      ADC	temp_acc
   3318  869d		       8d 43 01 	      sta	vx_m
   3319  86a0				   .skipL0194
   3320  86a0				   .
   3321  86a0							;;line 332;;
   3322  86a0
   3323  86a0				   .
   3324  86a0							;;line 333;;
   3325  86a0
   3326  86a0				   .L0195		;;line 334;;  temp_acc = cos_table[angle]
   3327  86a0
   3328  86a0		       ae 48 01 	      LDX	angle
   3329  86a3		       bd ab 93 	      lda	cos_table,x
   3330  86a6		       8d 4c 01 	      sta	temp_acc
   3331  86a9				   .L0196		;;line 335;;  if temp_acc  <  128 then vy_m = vy_m  +	temp_acc
   3332  86a9
   3333  86a9		       ad 4c 01 	      lda	temp_acc
   3334  86ac		       c9 80		      cmp	#128
   3335  86ae		       b0 0a		      bcs	.skipL0196
   3336  86b0				   .condpart38
   3337  86b0		       ad 45 01 	      lda	vy_m
   3338  86b3		       18		      CLC
   3339  86b4		       6d 4c 01 	      ADC	temp_acc
   3340  86b7		       8d 45 01 	      sta	vy_m
   3341  86ba				   .skipL0196
   3342  86ba				   .L0197		;;line 336;;  if temp_acc  >=	128 then temp_acc = 0  -  temp_acc  :  vy_p = vy_p  +  temp_acc
   3343  86ba
   3344  86ba		       ad 4c 01 	      lda	temp_acc
   3345  86bd		       c9 80		      cmp	#128
   3346  86bf		       90 13		      bcc	.skipL0197
   3347  86c1				   .condpart39
   3348  86c1		       a9 00		      lda	#0
   3349  86c3		       38		      SEC
   3350  86c4		       ed 4c 01 	      SBC	temp_acc
   3351  86c7		       8d 4c 01 	      sta	temp_acc
   3352  86ca		       ad 44 01 	      lda	vy_p
   3353  86cd		       18		      CLC
   3354  86ce		       6d 4c 01 	      ADC	temp_acc
   3355  86d1		       8d 44 01 	      sta	vy_p
   3356  86d4				   .skipL0197
   3357  86d4				   .
   3358  86d4							;;line 337;;
   3359  86d4
   3360  86d4				   .
   3361  86d4							;;line 338;;
   3362  86d4
   3363  86d4				   .L0198		;;line 339;;  if vx_p	>  95 then vx_p = 95
   3364  86d4
   3365  86d4		       a9 5f		      lda	#95
   3366  86d6		       cd 42 01 	      cmp	vx_p
   3367  86d9		       b0 05		      bcs	.skipL0198
   3368  86db				   .condpart40
   3369  86db		       a9 5f		      lda	#95
   3370  86dd		       8d 42 01 	      sta	vx_p
   3371  86e0				   .skipL0198
   3372  86e0				   .L0199		;;line 340;;  if vx_m	>  95 then vx_m = 95
   3373  86e0
   3374  86e0		       a9 5f		      lda	#95
   3375  86e2		       cd 43 01 	      cmp	vx_m
   3376  86e5		       b0 05		      bcs	.skipL0199
   3377  86e7				   .condpart41
   3378  86e7		       a9 5f		      lda	#95
   3379  86e9		       8d 43 01 	      sta	vx_m
   3380  86ec				   .skipL0199
   3381  86ec				   .L0200		;;line 341;;  if vy_p	>  95 then vy_p = 95
   3382  86ec
   3383  86ec		       a9 5f		      lda	#95
   3384  86ee		       cd 44 01 	      cmp	vy_p
   3385  86f1		       b0 05		      bcs	.skipL0200
   3386  86f3				   .condpart42
   3387  86f3		       a9 5f		      lda	#95
   3388  86f5		       8d 44 01 	      sta	vy_p
   3389  86f8				   .skipL0200
   3390  86f8				   .L0201		;;line 342;;  if vy_m	>  95 then vy_m = 95
   3391  86f8
   3392  86f8		       a9 5f		      lda	#95
   3393  86fa		       cd 45 01 	      cmp	vy_m
   3394  86fd		       b0 05		      bcs	.skipL0201
   3395  86ff				   .condpart43
   3396  86ff		       a9 5f		      lda	#95
   3397  8701		       8d 45 01 	      sta	vy_m
   3398  8704				   .skipL0201
   3399  8704				   .L0202		;;line 343;;  return
   3400  8704
   3401  8704		       60		      rts
   3402  8705				   .
   3403  8705							;;line 344;;
   3404  8705
   3405  8705				   .neutralize_forces
   3406  8705							;;line 345;; neutralize_forces
   3407  8705
   3408  8705				   .
   3409  8705							;;line 346;;
   3410  8705
   3411  8705				   .L0203		;;line 347;;  if vx_p	>  0  &&  vx_m	>  0 then gosub cancel_x
   3412  8705
   3413  8705		       a9 00		      lda	#0
   3414  8707		       cd 42 01 	      cmp	vx_p
   3415  870a		       b0 0a		      bcs	.skipL0203
   3416  870c				   .condpart44
   3417  870c		       a9 00		      lda	#0
   3418  870e		       cd 43 01 	      cmp	vx_m
   3419  8711		       b0 03		      bcs	.skip44then
   3420  8713				   .condpart45
   3421  8713		       20 28 87 	      jsr	.cancel_x
   3422  8716				   .skip44then
   3423  8716				   .skipL0203
   3424  8716				   .
   3425  8716							;;line 348;;
   3426  8716
   3427  8716				   .L0204		;;line 349;;  if vy_p	>  0  &&  vy_m	>  0 then gosub cancel_y
   3428  8716
   3429  8716		       a9 00		      lda	#0
   3430  8718		       cd 44 01 	      cmp	vy_p
   3431  871b		       b0 0a		      bcs	.skipL0204
   3432  871d				   .condpart46
   3433  871d		       a9 00		      lda	#0
   3434  871f		       cd 45 01 	      cmp	vy_m
   3435  8722		       b0 03		      bcs	.skip46then
   3436  8724				   .condpart47
   3437  8724		       20 54 87 	      jsr	.cancel_y
   3438  8727				   .skip46then
   3439  8727				   .skipL0204
   3440  8727				   .L0205		;;line 350;;  return
   3441  8727
   3442  8727		       60		      rts
   3443  8728				   .
   3444  8728							;;line 351;;
   3445  8728
   3446  8728				   .cancel_x
   3447  8728							;;line 352;; cancel_x
   3448  8728
   3449  8728				   .L0206		;;line 353;;  if vx_p	<  vx_m then common = vx_p else common = vx_m
   3450  8728
   3451  8728		       ad 42 01 	      lda	vx_p
   3452  872b		       cd 43 01 	      cmp	vx_m
   3453  872e		       b0 09		      bcs	.skipL0206
   3454  8730				   .condpart48
   3455  8730		       ad 42 01 	      lda	vx_p
   3456  8733		       8d 4e 01 	      sta	common
   3457  8736		       4c 3f 87 	      jmp	.skipelse0
   3458  8739				   .skipL0206
   3459  8739		       ad 43 01 	      lda	vx_m
   3460  873c		       8d 4e 01 	      sta	common
   3461  873f				   .skipelse0
   3462  873f				   .L0207		;;line 354;;  vx_p = vx_p  -  common
   3463  873f
   3464  873f		       ad 42 01 	      lda	vx_p
   3465  8742		       38		      SEC
   3466  8743		       ed 4e 01 	      SBC	common
   3467  8746		       8d 42 01 	      sta	vx_p
   3468  8749				   .L0208		;;line 355;;  vx_m = vx_m  -  common
   3469  8749
   3470  8749		       ad 43 01 	      lda	vx_m
   3471  874c		       38		      SEC
   3472  874d		       ed 4e 01 	      SBC	common
   3473  8750		       8d 43 01 	      sta	vx_m
   3474  8753				   .L0209		;;line 356;;  return
   3475  8753
   3476  8753		       60		      rts
   3477  8754				   .
   3478  8754							;;line 357;;
   3479  8754
   3480  8754				   .cancel_y
   3481  8754							;;line 358;; cancel_y
   3482  8754
   3483  8754				   .L0210		;;line 359;;  if vy_p	<  vy_m then common = vy_p else common = vy_m
   3484  8754
   3485  8754		       ad 44 01 	      lda	vy_p
   3486  8757		       cd 45 01 	      cmp	vy_m
   3487  875a		       b0 09		      bcs	.skipL0210
   3488  875c				   .condpart49
   3489  875c		       ad 44 01 	      lda	vy_p
   3490  875f		       8d 4e 01 	      sta	common
   3491  8762		       4c 6b 87 	      jmp	.skipelse1
   3492  8765				   .skipL0210
   3493  8765		       ad 45 01 	      lda	vy_m
   3494  8768		       8d 4e 01 	      sta	common
   3495  876b				   .skipelse1
   3496  876b				   .L0211		;;line 360;;  vy_p = vy_p  -  common
   3497  876b
   3498  876b		       ad 44 01 	      lda	vy_p
   3499  876e		       38		      SEC
   3500  876f		       ed 4e 01 	      SBC	common
   3501  8772		       8d 44 01 	      sta	vy_p
   3502  8775				   .L0212		;;line 361;;  vy_m = vy_m  -  common
   3503  8775
   3504  8775		       ad 45 01 	      lda	vy_m
   3505  8778		       38		      SEC
   3506  8779		       ed 4e 01 	      SBC	common
   3507  877c		       8d 45 01 	      sta	vy_m
   3508  877f				   .L0213		;;line 362;;  return
   3509  877f
   3510  877f		       60		      rts
   3511  8780				   .
   3512  8780							;;line 363;;
   3513  8780
   3514  8780				   .apply_friction
   3515  8780							;;line 364;; apply_friction
   3516  8780
   3517  8780				   .
   3518  8780							;;line 365;;
   3519  8780
   3520  8780				   .L0214		;;line 366;;  if vx_p	<  4 then vx_p = 0
   3521  8780
   3522  8780		       ad 42 01 	      lda	vx_p
   3523  8783		       c9 04		      cmp	#4
   3524  8785		       b0 05		      bcs	.skipL0214
   3525  8787				   .condpart50
   3526  8787		       a9 00		      lda	#0
   3527  8789		       8d 42 01 	      sta	vx_p
   3528  878c				   .skipL0214
   3529  878c				   .L0215		;;line 367;;  if vx_p	>=  4 then vx_p = vx_p	-  1
   3530  878c
   3531  878c		       ad 42 01 	      lda	vx_p
   3532  878f		       c9 04		      cmp	#4
   3533  8791		       90 09		      bcc	.skipL0215
   3534  8793				   .condpart51
   3535  8793		       ad 42 01 	      lda	vx_p
   3536  8796		       38		      SEC
   3537  8797		       e9 01		      SBC	#1
   3538  8799		       8d 42 01 	      sta	vx_p
   3539  879c				   .skipL0215
   3540  879c				   .
   3541  879c							;;line 368;;
   3542  879c
   3543  879c				   .L0216		;;line 369;;  if vx_m	<  4 then vx_m = 0
   3544  879c
   3545  879c		       ad 43 01 	      lda	vx_m
   3546  879f		       c9 04		      cmp	#4
   3547  87a1		       b0 05		      bcs	.skipL0216
   3548  87a3				   .condpart52
   3549  87a3		       a9 00		      lda	#0
   3550  87a5		       8d 43 01 	      sta	vx_m
   3551  87a8				   .skipL0216
   3552  87a8				   .L0217		;;line 370;;  if vx_m	>=  4 then vx_m = vx_m	-  1
   3553  87a8
   3554  87a8		       ad 43 01 	      lda	vx_m
   3555  87ab		       c9 04		      cmp	#4
   3556  87ad		       90 09		      bcc	.skipL0217
   3557  87af				   .condpart53
   3558  87af		       ad 43 01 	      lda	vx_m
   3559  87b2		       38		      SEC
   3560  87b3		       e9 01		      SBC	#1
   3561  87b5		       8d 43 01 	      sta	vx_m
   3562  87b8				   .skipL0217
   3563  87b8				   .
   3564  87b8							;;line 371;;
   3565  87b8
   3566  87b8				   .L0218		;;line 372;;  if vy_p	<  4 then vy_p = 0
   3567  87b8
   3568  87b8		       ad 44 01 	      lda	vy_p
   3569  87bb		       c9 04		      cmp	#4
   3570  87bd		       b0 05		      bcs	.skipL0218
   3571  87bf				   .condpart54
   3572  87bf		       a9 00		      lda	#0
   3573  87c1		       8d 44 01 	      sta	vy_p
   3574  87c4				   .skipL0218
   3575  87c4				   .L0219		;;line 373;;  if vy_p	>=  4 then vy_p = vy_p	-  1
   3576  87c4
   3577  87c4		       ad 44 01 	      lda	vy_p
   3578  87c7		       c9 04		      cmp	#4
   3579  87c9		       90 09		      bcc	.skipL0219
   3580  87cb				   .condpart55
   3581  87cb		       ad 44 01 	      lda	vy_p
   3582  87ce		       38		      SEC
   3583  87cf		       e9 01		      SBC	#1
   3584  87d1		       8d 44 01 	      sta	vy_p
   3585  87d4				   .skipL0219
   3586  87d4				   .
   3587  87d4							;;line 374;;
   3588  87d4
   3589  87d4				   .L0220		;;line 375;;  if vy_m	<  4 then vy_m = 0
   3590  87d4
   3591  87d4		       ad 45 01 	      lda	vy_m
   3592  87d7		       c9 04		      cmp	#4
   3593  87d9		       b0 05		      bcs	.skipL0220
   3594  87db				   .condpart56
   3595  87db		       a9 00		      lda	#0
   3596  87dd		       8d 45 01 	      sta	vy_m
   3597  87e0				   .skipL0220
   3598  87e0				   .L0221		;;line 376;;  if vy_m	>=  4 then vy_m = vy_m	-  1
   3599  87e0
   3600  87e0		       ad 45 01 	      lda	vy_m
   3601  87e3		       c9 04		      cmp	#4
   3602  87e5		       90 09		      bcc	.skipL0221
   3603  87e7				   .condpart57
   3604  87e7		       ad 45 01 	      lda	vy_m
   3605  87ea		       38		      SEC
   3606  87eb		       e9 01		      SBC	#1
   3607  87ed		       8d 45 01 	      sta	vy_m
   3608  87f0				   .skipL0221
   3609  87f0				   .L0222		;;line 377;;  return
   3610  87f0
   3611  87f0		       60		      rts
   3612  87f1				   .
   3613  87f1							;;line 378;;
   3614  87f1
   3615  87f1				   .update_bullets
   3616  87f1							;;line 379;; update_bullets
   3617  87f1
   3618  87f1				   .L0223		;;line 380;;  for iter = 0 to 3
   3619  87f1
   3620  87f1		       a9 00		      lda	#0
   3621  87f3		       8d 51 01 	      sta	iter
   3622  87f6				   .L0223foriter
   3623  87f6				   .L0224		;;line 381;;  if blife[iter]  >  0 then gosub move_one_bullet
   3624  87f6
   3625  87f6		       a9 00		      lda	#0
   3626  87f8		       ae 51 01 	      LDX	iter
   3627  87fb		       dd 62 01 	      cmp	blife,x
   3628  87fe		       b0 03		      bcs	.skipL0224
   3629  8800				   .condpart58
   3630  8800		       20 0e 88 	      jsr	.move_one_bullet
   3631  8803				   .skipL0224
   3632  8803				   .L0225		;;line 382;;  next
   3633  8803
   3634  8803		       ad 51 01 	      lda	iter
   3635  8806		       c9 03		      cmp	#3
   3636  8808		       ee 51 01 	      inc	iter
   3637  880b					      if	((* - .L0223foriter) < 127) && ((* - .L0223foriter) > -128)
   3638  880b		       90 e9		      bcc	.L0223foriter
   3639  880d				  -	      else
   3640  880d				  -	      bcs	.1skipL0223foriter
   3641  880d				  -	      jmp	.L0223foriter
   3642  880d				  -.1skipL0223foriter
   3643  880d					      endif
   3644  880d				   .L0226		;;line 383;;  return
   3645  880d
   3646  880d		       60		      rts
   3647  880e				   .
   3648  880e							;;line 384;;
   3649  880e
   3650  880e				   .move_one_bullet
   3651  880e							;;line 385;; move_one_bullet
   3652  880e
   3653  880e				   .
   3654  880e							;;line 386;;
   3655  880e
   3656  880e				   .
   3657  880e							;;line 387;;
   3658  880e
   3659  880e				   .L0227		;;line 388;;  temp_v = bul_vx[iter]
   3660  880e
   3661  880e		       ae 51 01 	      LDX	iter
   3662  8811		       bd 5a 01 	      lda	bul_vx,x
   3663  8814		       8d 4f 01 	      sta	temp_v
   3664  8817				   .L0228		;;line 389;;  if temp_v  >=  128 then goto bul_x_neg
   3665  8817
   3666  8817		       ad 4f 01 	      lda	temp_v
   3667  881a		       c9 80		      cmp	#128
   3668  881c		       90 03		      bcc	.skipL0228
   3669  881e				   .condpart59
   3670  881e		       4c 4e 88 	      jmp	.bul_x_neg
   3671  8821				   .skipL0228
   3672  8821				   .
   3673  8821							;;line 390;;
   3674  8821
   3675  8821				   .
   3676  8821							;;line 391;;
   3677  8821
   3678  8821				   .L0229		;;line 392;;  bul_x[iter] = bul_x[iter]  +  temp_v
   3679  8821
   3680  8821		       ae 51 01 	      LDX	iter
   3681  8824		       bd 52 01 	      lda	bul_x,x
   3682  8827		       18		      CLC
   3683  8828		       6d 4f 01 	      ADC	temp_v
   3684  882b		       ae 51 01 	      LDX	iter
   3685  882e		       9d 52 01 	      sta	bul_x,x
   3686  8831				   .L0230		;;line 393;;  if bul_x[iter]  <  temp_v then bul_x_hi[iter] = bul_x_hi[iter]  +  1
   3687  8831
   3688  8831		       ae 51 01 	      LDX	iter
   3689  8834		       bd 52 01 	      lda	bul_x,x
   3690  8837		       cd 4f 01 	      cmp	temp_v
   3691  883a		       b0 0f		      bcs	.skipL0230
   3692  883c				   .condpart60
   3693  883c		       ae 51 01 	      LDX	iter
   3694  883f		       bd 50 22 	      lda	bul_x_hi,x
   3695  8842		       18		      CLC
   3696  8843		       69 01		      ADC	#1
   3697  8845		       ae 51 01 	      LDX	iter
   3698  8848		       9d 50 22 	      sta	bul_x_hi,x
   3699  884b				   .skipL0230
   3700  884b				   .L0231		;;line 394;;  goto bul_x_done
   3701  884b
   3702  884b		       4c 8a 88 	      jmp	.bul_x_done
   3703  884e				   .
   3704  884e							;;line 395;;
   3705  884e
   3706  884e				   .bul_x_neg
   3707  884e							;;line 396;; bul_x_neg
   3708  884e
   3709  884e				   .L0232		;;line 397;;  temp_v = 0  -  temp_v
   3710  884e
   3711  884e		       a9 00		      lda	#0
   3712  8850		       38		      SEC
   3713  8851		       ed 4f 01 	      SBC	temp_v
   3714  8854		       8d 4f 01 	      sta	temp_v
   3715  8857				   .L0233		;;line 398;;  temp_w = bul_x[iter]
   3716  8857
   3717  8857		       ae 51 01 	      LDX	iter
   3718  885a		       bd 52 01 	      lda	bul_x,x
   3719  885d		       8d 87 01 	      sta	temp_w
   3720  8860				   .L0234		;;line 399;;  bul_x[iter] = bul_x[iter]  -  temp_v
   3721  8860
   3722  8860		       ae 51 01 	      LDX	iter
   3723  8863		       bd 52 01 	      lda	bul_x,x
   3724  8866		       38		      SEC
   3725  8867		       ed 4f 01 	      SBC	temp_v
   3726  886a		       ae 51 01 	      LDX	iter
   3727  886d		       9d 52 01 	      sta	bul_x,x
   3728  8870				   .L0235		;;line 400;;  if bul_x[iter]  >  temp_w then bul_x_hi[iter] = bul_x_hi[iter]  -  1
   3729  8870
   3730  8870		       ad 87 01 	      lda	temp_w
   3731  8873		       ae 51 01 	      LDX	iter
   3732  8876		       dd 52 01 	      cmp	bul_x,x
   3733  8879		       b0 0f		      bcs	.skipL0235
   3734  887b				   .condpart61
   3735  887b		       ae 51 01 	      LDX	iter
   3736  887e		       bd 50 22 	      lda	bul_x_hi,x
   3737  8881		       38		      SEC
   3738  8882		       e9 01		      SBC	#1
   3739  8884		       ae 51 01 	      LDX	iter
   3740  8887		       9d 50 22 	      sta	bul_x_hi,x
   3741  888a				   .skipL0235
   3742  888a				   .
   3743  888a							;;line 401;;
   3744  888a
   3745  888a				   .bul_x_done
   3746  888a							;;line 402;; bul_x_done
   3747  888a
   3748  888a				   .
   3749  888a							;;line 403;;
   3750  888a
   3751  888a				   .L0236		;;line 404;;  if bul_x_hi[iter]  >=  4 then bul_x_hi[iter] = 0
   3752  888a
   3753  888a		       ae 51 01 	      LDX	iter
   3754  888d		       bd 50 22 	      lda	bul_x_hi,x
   3755  8890		       c9 04		      cmp	#4
   3756  8892		       90 08		      bcc	.skipL0236
   3757  8894				   .condpart62
   3758  8894		       a9 00		      lda	#0
   3759  8896		       ae 51 01 	      LDX	iter
   3760  8899		       9d 50 22 	      sta	bul_x_hi,x
   3761  889c				   .skipL0236
   3762  889c				   .L0237		;;line 405;;  if bul_x_hi[iter] = 255 then bul_x_hi[iter] = 3
   3763  889c
   3764  889c		       ae 51 01 	      LDX	iter
   3765  889f		       bd 50 22 	      lda	bul_x_hi,x
   3766  88a2		       c9 ff		      cmp	#255
   3767  88a4		       d0 08		      bne	.skipL0237
   3768  88a6				   .condpart63
   3769  88a6		       a9 03		      lda	#3
   3770  88a8		       ae 51 01 	      LDX	iter
   3771  88ab		       9d 50 22 	      sta	bul_x_hi,x
   3772  88ae				   .skipL0237
   3773  88ae				   .
   3774  88ae							;;line 406;;
   3775  88ae
   3776  88ae				   .
   3777  88ae							;;line 407;;
   3778  88ae
   3779  88ae				   .L0238		;;line 408;;  temp_v = bul_vy[iter]
   3780  88ae
   3781  88ae		       ae 51 01 	      LDX	iter
   3782  88b1		       bd 5e 01 	      lda	bul_vy,x
   3783  88b4		       8d 4f 01 	      sta	temp_v
   3784  88b7				   .L0239		;;line 409;;  if temp_v  >=  128 then goto bul_y_neg
   3785  88b7
   3786  88b7		       ad 4f 01 	      lda	temp_v
   3787  88ba		       c9 80		      cmp	#128
   3788  88bc		       90 03		      bcc	.skipL0239
   3789  88be				   .condpart64
   3790  88be		       4c ee 88 	      jmp	.bul_y_neg
   3791  88c1				   .skipL0239
   3792  88c1				   .
   3793  88c1							;;line 410;;
   3794  88c1
   3795  88c1				   .
   3796  88c1							;;line 411;;
   3797  88c1
   3798  88c1				   .L0240		;;line 412;;  bul_y[iter] = bul_y[iter]  +  temp_v
   3799  88c1
   3800  88c1		       ae 51 01 	      LDX	iter
   3801  88c4		       bd 56 01 	      lda	bul_y,x
   3802  88c7		       18		      CLC
   3803  88c8		       6d 4f 01 	      ADC	temp_v
   3804  88cb		       ae 51 01 	      LDX	iter
   3805  88ce		       9d 56 01 	      sta	bul_y,x
   3806  88d1				   .L0241		;;line 413;;  if bul_y[iter]  <  temp_v then bul_y_hi[iter] = bul_y_hi[iter]  +  1
   3807  88d1
   3808  88d1		       ae 51 01 	      LDX	iter
   3809  88d4		       bd 56 01 	      lda	bul_y,x
   3810  88d7		       cd 4f 01 	      cmp	temp_v
   3811  88da		       b0 0f		      bcs	.skipL0241
   3812  88dc				   .condpart65
   3813  88dc		       ae 51 01 	      LDX	iter
   3814  88df		       bd 54 22 	      lda	bul_y_hi,x
   3815  88e2		       18		      CLC
   3816  88e3		       69 01		      ADC	#1
   3817  88e5		       ae 51 01 	      LDX	iter
   3818  88e8		       9d 54 22 	      sta	bul_y_hi,x
   3819  88eb				   .skipL0241
   3820  88eb				   .L0242		;;line 414;;  goto bul_y_done
   3821  88eb
   3822  88eb		       4c 2a 89 	      jmp	.bul_y_done
   3823  88ee				   .
   3824  88ee							;;line 415;;
   3825  88ee
   3826  88ee				   .bul_y_neg
   3827  88ee							;;line 416;; bul_y_neg
   3828  88ee
   3829  88ee				   .L0243		;;line 417;;  temp_v = 0  -  temp_v
   3830  88ee
   3831  88ee		       a9 00		      lda	#0
   3832  88f0		       38		      SEC
   3833  88f1		       ed 4f 01 	      SBC	temp_v
   3834  88f4		       8d 4f 01 	      sta	temp_v
   3835  88f7				   .L0244		;;line 418;;  temp_w = bul_y[iter]
   3836  88f7
   3837  88f7		       ae 51 01 	      LDX	iter
   3838  88fa		       bd 56 01 	      lda	bul_y,x
   3839  88fd		       8d 87 01 	      sta	temp_w
   3840  8900				   .L0245		;;line 419;;  bul_y[iter] = bul_y[iter]  -  temp_v
   3841  8900
   3842  8900		       ae 51 01 	      LDX	iter
   3843  8903		       bd 56 01 	      lda	bul_y,x
   3844  8906		       38		      SEC
   3845  8907		       ed 4f 01 	      SBC	temp_v
   3846  890a		       ae 51 01 	      LDX	iter
   3847  890d		       9d 56 01 	      sta	bul_y,x
   3848  8910				   .L0246		;;line 420;;  if bul_y[iter]  >  temp_w then bul_y_hi[iter] = bul_y_hi[iter]  -  1
   3849  8910
   3850  8910		       ad 87 01 	      lda	temp_w
   3851  8913		       ae 51 01 	      LDX	iter
   3852  8916		       dd 56 01 	      cmp	bul_y,x
   3853  8919		       b0 0f		      bcs	.skipL0246
   3854  891b				   .condpart66
   3855  891b		       ae 51 01 	      LDX	iter
   3856  891e		       bd 54 22 	      lda	bul_y_hi,x
   3857  8921		       38		      SEC
   3858  8922		       e9 01		      SBC	#1
   3859  8924		       ae 51 01 	      LDX	iter
   3860  8927		       9d 54 22 	      sta	bul_y_hi,x
   3861  892a				   .skipL0246
   3862  892a				   .
   3863  892a							;;line 421;;
   3864  892a
   3865  892a				   .bul_y_done
   3866  892a							;;line 422;; bul_y_done
   3867  892a
   3868  892a				   .
   3869  892a							;;line 423;;
   3870  892a
   3871  892a				   .L0247		;;line 424;;  if bul_y_hi[iter]  >=  4 then bul_y_hi[iter] = 0
   3872  892a
   3873  892a		       ae 51 01 	      LDX	iter
   3874  892d		       bd 54 22 	      lda	bul_y_hi,x
   3875  8930		       c9 04		      cmp	#4
   3876  8932		       90 08		      bcc	.skipL0247
   3877  8934				   .condpart67
   3878  8934		       a9 00		      lda	#0
   3879  8936		       ae 51 01 	      LDX	iter
   3880  8939		       9d 54 22 	      sta	bul_y_hi,x
   3881  893c				   .skipL0247
   3882  893c				   .L0248		;;line 425;;  if bul_y_hi[iter] = 255 then bul_y_hi[iter] = 3
   3883  893c
   3884  893c		       ae 51 01 	      LDX	iter
   3885  893f		       bd 54 22 	      lda	bul_y_hi,x
   3886  8942		       c9 ff		      cmp	#255
   3887  8944		       d0 08		      bne	.skipL0248
   3888  8946				   .condpart68
   3889  8946		       a9 03		      lda	#3
   3890  8948		       ae 51 01 	      LDX	iter
   3891  894b		       9d 54 22 	      sta	bul_y_hi,x
   3892  894e				   .skipL0248
   3893  894e				   .
   3894  894e							;;line 426;;
   3895  894e
   3896  894e				   .
   3897  894e							;;line 427;;
   3898  894e
   3899  894e				   .L0249		;;line 428;;  if blife[iter]  >  0 then blife[iter] = blife[iter]  -  1
   3900  894e
   3901  894e		       a9 00		      lda	#0
   3902  8950		       ae 51 01 	      LDX	iter
   3903  8953		       dd 62 01 	      cmp	blife,x
   3904  8956		       b0 0f		      bcs	.skipL0249
   3905  8958				   .condpart69
   3906  8958		       ae 51 01 	      LDX	iter
   3907  895b		       bd 62 01 	      lda	blife,x
   3908  895e		       38		      SEC
   3909  895f		       e9 01		      SBC	#1
   3910  8961		       ae 51 01 	      LDX	iter
   3911  8964		       9d 62 01 	      sta	blife,x
   3912  8967				   .skipL0249
   3913  8967				   .L0250		;;line 429;;  return
   3914  8967
   3915  8967		       60		      rts
   3916  8968				   .
   3917  8968							;;line 430;;
   3918  8968
   3919  8968				   .fire_bullet
   3920  8968							;;line 431;; fire_bullet
   3921  8968
   3922  8968				   .
   3923  8968							;;line 432;;
   3924  8968
   3925  8968				   .L0251		;;line 433;;  for iter = 0 to 3
   3926  8968
   3927  8968		       a9 00		      lda	#0
   3928  896a		       8d 51 01 	      sta	iter
   3929  896d				   .L0251foriter
   3930  896d				   .L0252		;;line 434;;  if blife[iter] = 0 then goto spawn_bullet
   3931  896d
   3932  896d		       ae 51 01 	      LDX	iter
   3933  8970		       bd 62 01 	      lda	blife,x
   3934  8973		       c9 00		      cmp	#0
   3935  8975		       d0 03		      bne	.skipL0252
   3936  8977				   .condpart70
   3937  8977		       4c 85 89 	      jmp	.spawn_bullet
   3938  897a				   .skipL0252
   3939  897a				   .L0253		;;line 435;;  next
   3940  897a
   3941  897a		       ad 51 01 	      lda	iter
   3942  897d		       c9 03		      cmp	#3
   3943  897f		       ee 51 01 	      inc	iter
   3944  8982					      if	((* - .L0251foriter) < 127) && ((* - .L0251foriter) > -128)
   3945  8982		       90 e9		      bcc	.L0251foriter
   3946  8984				  -	      else
   3947  8984				  -	      bcs	.2skipL0251foriter
   3948  8984				  -	      jmp	.L0251foriter
   3949  8984				  -.2skipL0251foriter
   3950  8984					      endif
   3951  8984				   .L0254		;;line 436;;  return
   3952  8984
   3953  8984		       60		      rts
   3954  8985				   .
   3955  8985							;;line 437;;
   3956  8985
   3957  8985				   .spawn_bullet
   3958  8985							;;line 438;; spawn_bullet
   3959  8985
   3960  8985				   .L0255		;;line 439;;  blife[iter] = 60
   3961  8985
   3962  8985		       a9 3c		      lda	#60
   3963  8987		       ae 51 01 	      LDX	iter
   3964  898a		       9d 62 01 	      sta	blife,x
   3965  898d				   .L0256		;;line 440;;  bul_x[iter] = px
   3966  898d
   3967  898d		       ad 40 01 	      lda	px
   3968  8990		       ae 51 01 	      LDX	iter
   3969  8993		       9d 52 01 	      sta	bul_x,x
   3970  8996				   .L0257		;;line 441;;  bul_x_hi[iter] = px_hi
   3971  8996
   3972  8996		       ad 46 22 	      lda	px_hi
   3973  8999		       ae 51 01 	      LDX	iter
   3974  899c		       9d 50 22 	      sta	bul_x_hi,x
   3975  899f				   .L0258		;;line 442;;  bul_y[iter] = py
   3976  899f
   3977  899f		       ad 41 01 	      lda	py
   3978  89a2		       ae 51 01 	      LDX	iter
   3979  89a5		       9d 56 01 	      sta	bul_y,x
   3980  89a8				   .L0259		;;line 443;;  bul_y_hi[iter] = py_hi
   3981  89a8
   3982  89a8		       ad 47 22 	      lda	py_hi
   3983  89ab		       ae 51 01 	      LDX	iter
   3984  89ae		       9d 54 22 	      sta	bul_y_hi,x
   3985  89b1				   .
   3986  89b1							;;line 444;;
   3987  89b1
   3988  89b1				   .
   3989  89b1							;;line 445;;
   3990  89b1
   3991  89b1				   .
   3992  89b1							;;line 446;;
   3993  89b1
   3994  89b1				   .
   3995  89b1							;;line 447;;
   3996  89b1
   3997  89b1				   .
   3998  89b1							;;line 448;;
   3999  89b1
   4000  89b1				   .
   4001  89b1							;;line 449;;
   4002  89b1
   4003  89b1				   .
   4004  89b1							;;line 450;;
   4005  89b1
   4006  89b1				   .
   4007  89b1							;;line 451;;
   4008  89b1
   4009  89b1				   .
   4010  89b1							;;line 452;;
   4011  89b1
   4012  89b1				   .
   4013  89b1							;;line 453;;
   4014  89b1
   4015  89b1				   .
   4016  89b1							;;line 454;;
   4017  89b1
   4018  89b1				   .L0260		;;line 455;;  temp_v = sin_table[angle]
   4019  89b1
   4020  89b1		       ae 48 01 	      LDX	angle
   4021  89b4		       bd 98 93 	      lda	sin_table,x
   4022  89b7		       8d 4f 01 	      sta	temp_v
   4023  89ba				   .L0261		;;line 456;;  if temp_v  <  128 then temp_v = temp_v  /  2
   4024  89ba
   4025  89ba		       ad 4f 01 	      lda	temp_v
   4026  89bd		       c9 80		      cmp	#128
   4027  89bf		       b0 07		      bcs	.skipL0261
   4028  89c1				   .condpart71
   4029  89c1		       ad 4f 01 	      lda	temp_v
   4030  89c4		       4a		      lsr
   4031  89c5		       8d 4f 01 	      sta	temp_v
   4032  89c8				   .skipL0261
   4033  89c8				   .L0262		;;line 457;;  if temp_v  >=  128 then temp_v =  ( 0  -  temp_v )   /  2  :  temp_v = 0  -  temp_v
   4034  89c8
   4035  89c8		       ad 4f 01 	      lda	temp_v
   4036  89cb		       c9 80		      cmp	#128
   4037  89cd		       90 13		      bcc	.skipL0262
   4038  89cf				   .condpart72
   4039  89cf							; complex statement detected
   4040  89cf		       a9 00		      lda	#0
   4041  89d1		       38		      SEC
   4042  89d2		       ed 4f 01 	      SBC	temp_v
   4043  89d5		       4a		      lsr
   4044  89d6		       8d 4f 01 	      sta	temp_v
   4045  89d9		       a9 00		      lda	#0
   4046  89db		       38		      SEC
   4047  89dc		       ed 4f 01 	      SBC	temp_v
   4048  89df		       8d 4f 01 	      sta	temp_v
   4049  89e2				   .skipL0262
   4050  89e2				   .L0263		;;line 458;;  bul_vx[iter] = temp_v
   4051  89e2
   4052  89e2		       ad 4f 01 	      lda	temp_v
   4053  89e5		       ae 51 01 	      LDX	iter
   4054  89e8		       9d 5a 01 	      sta	bul_vx,x
   4055  89eb				   .
   4056  89eb							;;line 459;;
   4057  89eb
   4058  89eb				   .
   4059  89eb							;;line 460;;
   4060  89eb
   4061  89eb				   .
   4062  89eb							;;line 461;;
   4063  89eb
   4064  89eb				   .
   4065  89eb							;;line 462;;
   4066  89eb
   4067  89eb				   .
   4068  89eb							;;line 463;;
   4069  89eb
   4070  89eb				   .
   4071  89eb							;;line 464;;
   4072  89eb
   4073  89eb				   .
   4074  89eb							;;line 465;;
   4075  89eb
   4076  89eb				   .
   4077  89eb							;;line 466;;
   4078  89eb
   4079  89eb				   .
   4080  89eb							;;line 467;;
   4081  89eb
   4082  89eb				   .
   4083  89eb							;;line 468;;
   4084  89eb
   4085  89eb				   .
   4086  89eb							;;line 469;;
   4087  89eb
   4088  89eb				   .
   4089  89eb							;;line 470;;
   4090  89eb
   4091  89eb				   .L0264		;;line 471;;  temp_v = cos_table[angle]
   4092  89eb
   4093  89eb		       ae 48 01 	      LDX	angle
   4094  89ee		       bd ab 93 	      lda	cos_table,x
   4095  89f1		       8d 4f 01 	      sta	temp_v
   4096  89f4				   .
   4097  89f4							;;line 472;;
   4098  89f4
   4099  89f4				   .
   4100  89f4							;;line 473;;
   4101  89f4
   4102  89f4				   .L0265		;;line 474;;  if temp_v  <  128 then temp_v = temp_v  /  2  :	bul_vy[iter] = 0  -  temp_v
   4103  89f4
   4104  89f4		       ad 4f 01 	      lda	temp_v
   4105  89f7		       c9 80		      cmp	#128
   4106  89f9		       b0 13		      bcs	.skipL0265
   4107  89fb				   .condpart73
   4108  89fb		       ad 4f 01 	      lda	temp_v
   4109  89fe		       4a		      lsr
   4110  89ff		       8d 4f 01 	      sta	temp_v
   4111  8a02		       a9 00		      lda	#0
   4112  8a04		       38		      SEC
   4113  8a05		       ed 4f 01 	      SBC	temp_v
   4114  8a08		       ae 51 01 	      LDX	iter
   4115  8a0b		       9d 5e 01 	      sta	bul_vy,x
   4116  8a0e				   .skipL0265
   4117  8a0e				   .
   4118  8a0e							;;line 475;;
   4119  8a0e
   4120  8a0e				   .
   4121  8a0e							;;line 476;;
   4122  8a0e
   4123  8a0e				   .L0266		;;line 477;;  if temp_v  >=  128 then temp_v =  ( 0  -  temp_v )   /  2  :  bul_vy[iter] = temp_v
   4124  8a0e
   4125  8a0e		       ad 4f 01 	      lda	temp_v
   4126  8a11		       c9 80		      cmp	#128
   4127  8a13		       90 13		      bcc	.skipL0266
   4128  8a15				   .condpart74
   4129  8a15							; complex statement detected
   4130  8a15		       a9 00		      lda	#0
   4131  8a17		       38		      SEC
   4132  8a18		       ed 4f 01 	      SBC	temp_v
   4133  8a1b		       4a		      lsr
   4134  8a1c		       8d 4f 01 	      sta	temp_v
   4135  8a1f		       ad 4f 01 	      lda	temp_v
   4136  8a22		       ae 51 01 	      LDX	iter
   4137  8a25		       9d 5e 01 	      sta	bul_vy,x
   4138  8a28				   .skipL0266
   4139  8a28				   .
   4140  8a28							;;line 478;;
   4141  8a28
   4142  8a28				   .
   4143  8a28							;;line 479;;
   4144  8a28
   4145  8a28				   .L0267		;;line 480;;  playsfx sfx_laser 0
   4146  8a28
   4147  8a28					      ifnconst	NOTIALOCKMUTE
   4148  8a28		       a9 01		      lda	#1
   4149  8a2a		       85 de		      sta	sfxschedulelock
   4150  8a2c		       a9 be		      lda	#<sfx_laser
   4151  8a2e		       85 e0		      sta	sfxinstrumentlo
   4152  8a30		       a9 93		      lda	#>sfx_laser
   4153  8a32		       85 e1		      sta	sfxinstrumenthi
   4154  8a34		       a9 00		      lda	#0
   4155  8a36		       85 e2		      sta	sfxpitchoffset	; pitch modification
   4156  8a38		       a9 00		      lda	#0
   4157  8a3a		       85 e3		      sta	sfxnoteindex	; not a musical note
   4158  8a3c		       20 9d f2 	      jsr	schedulesfx
   4159  8a3f		       a9 00		      lda	#0
   4160  8a41		       85 de		      sta	sfxschedulelock
   4161  8a43					      endif		; NOTIALOCKMUTE
   4162  8a43				   .
   4163  8a43							;;line 481;;
   4164  8a43
   4165  8a43				   .L0268		;;line 482;;  bcooldown = 15
   4166  8a43
   4167  8a43		       a9 0f		      lda	#15
   4168  8a45		       8d 50 01 	      sta	bcooldown
   4169  8a48				   .L0269		;;line 483;;  return
   4170  8a48
   4171  8a48		       60		      rts
   4172  8a49				   .
   4173  8a49							;;line 484;;
   4174  8a49
   4175  8a49				   .update_enemy
   4176  8a49							;;line 485;; update_enemy
   4177  8a49
   4178  8a49				   .
   4179  8a49							;;line 486;;
   4180  8a49
   4181  8a49				   .L0270		;;line 487;;  for iter = 0 to 3
   4182  8a49
   4183  8a49		       a9 00		      lda	#0
   4184  8a4b		       8d 51 01 	      sta	iter
   4185  8a4e				   .L0270foriter
   4186  8a4e				   .L0271		;;line 488;;  if elife[iter] = 0 then goto try_spawn_enemy
   4187  8a4e
   4188  8a4e		       ae 51 01 	      LDX	iter
   4189  8a51		       bd 78 01 	      lda	elife,x
   4190  8a54		       c9 00		      cmp	#0
   4191  8a56		       d0 03		      bne	.skipL0271
   4192  8a58				   .condpart75
   4193  8a58		       4c 0d 8b 	      jmp	.try_spawn_enemy
   4194  8a5b				   .skipL0271
   4195  8a5b				   .
   4196  8a5b							;;line 489;;
   4197  8a5b
   4198  8a5b				   .
   4199  8a5b							;;line 490;;
   4200  8a5b
   4201  8a5b				   .
   4202  8a5b							;;line 491;;
   4203  8a5b
   4204  8a5b				   .L0272		;;line 492;;  if  ( frame  &  1 )   >	0 then goto enemy_logic_done
   4205  8a5b
   4206  8a5b							; complex condition detected
   4207  8a5b							; complex statement detected
   4208  8a5b		       ad 4d 01 	      lda	frame
   4209  8a5e		       29 01		      AND	#1
   4210  8a60		       48		      pha
   4211  8a61		       ba		      tsx
   4212  8a62		       68		      pla
   4213  8a63		       a9 00		      lda	#0
   4214  8a65		       dd 01 01 	      cmp	$101,x
   4215  8a68		       b0 03		      bcs	.skipL0272
   4216  8a6a				   .condpart76
   4217  8a6a		       4c 95 8b 	      jmp	.enemy_logic_done
   4218  8a6d				   .skipL0272
   4219  8a6d				   .
   4220  8a6d							;;line 493;;
   4221  8a6d
   4222  8a6d				   .
   4223  8a6d							;;line 494;;
   4224  8a6d
   4225  8a6d				   .L0273		;;line 495;;  temp_v = ex[iter]
   4226  8a6d
   4227  8a6d		       ae 51 01 	      LDX	iter
   4228  8a70		       bd 68 01 	      lda	ex,x
   4229  8a73		       8d 4f 01 	      sta	temp_v
   4230  8a76				   .L0274		;;line 496;;  temp_w = ey[iter]
   4231  8a76
   4232  8a76		       ae 51 01 	      LDX	iter
   4233  8a79		       bd 6c 01 	      lda	ey,x
   4234  8a7c		       8d 87 01 	      sta	temp_w
   4235  8a7f				   .
   4236  8a7f							;;line 497;;
   4237  8a7f
   4238  8a7f				   .L0275		;;line 498;;  if temp_v  <  px then temp_v = temp_v  +  1
   4239  8a7f
   4240  8a7f		       ad 4f 01 	      lda	temp_v
   4241  8a82		       cd 40 01 	      cmp	px
   4242  8a85		       b0 09		      bcs	.skipL0275
   4243  8a87				   .condpart77
   4244  8a87		       ad 4f 01 	      lda	temp_v
   4245  8a8a		       18		      CLC
   4246  8a8b		       69 01		      ADC	#1
   4247  8a8d		       8d 4f 01 	      sta	temp_v
   4248  8a90				   .skipL0275
   4249  8a90				   .L0276		;;line 499;;  if temp_v  >  px then temp_v = temp_v  -  1
   4250  8a90
   4251  8a90		       ad 40 01 	      lda	px
   4252  8a93		       cd 4f 01 	      cmp	temp_v
   4253  8a96		       b0 09		      bcs	.skipL0276
   4254  8a98				   .condpart78
   4255  8a98		       ad 4f 01 	      lda	temp_v
   4256  8a9b		       38		      SEC
   4257  8a9c		       e9 01		      SBC	#1
   4258  8a9e		       8d 4f 01 	      sta	temp_v
   4259  8aa1				   .skipL0276
   4260  8aa1				   .L0277		;;line 500;;  if temp_w  <  py then temp_w = temp_w  +  1
   4261  8aa1
   4262  8aa1		       ad 87 01 	      lda	temp_w
   4263  8aa4		       cd 41 01 	      cmp	py
   4264  8aa7		       b0 09		      bcs	.skipL0277
   4265  8aa9				   .condpart79
   4266  8aa9		       ad 87 01 	      lda	temp_w
   4267  8aac		       18		      CLC
   4268  8aad		       69 01		      ADC	#1
   4269  8aaf		       8d 87 01 	      sta	temp_w
   4270  8ab2				   .skipL0277
   4271  8ab2				   .L0278		;;line 501;;  if temp_w  >  py then temp_w = temp_w  -  1
   4272  8ab2
   4273  8ab2		       ad 41 01 	      lda	py
   4274  8ab5		       cd 87 01 	      cmp	temp_w
   4275  8ab8		       b0 09		      bcs	.skipL0278
   4276  8aba				   .condpart80
   4277  8aba		       ad 87 01 	      lda	temp_w
   4278  8abd		       38		      SEC
   4279  8abe		       e9 01		      SBC	#1
   4280  8ac0		       8d 87 01 	      sta	temp_w
   4281  8ac3				   .skipL0278
   4282  8ac3				   .
   4283  8ac3							;;line 502;;
   4284  8ac3
   4285  8ac3				   .L0279		;;line 503;;  ex[iter] = temp_v
   4286  8ac3
   4287  8ac3		       ad 4f 01 	      lda	temp_v
   4288  8ac6		       ae 51 01 	      LDX	iter
   4289  8ac9		       9d 68 01 	      sta	ex,x
   4290  8acc				   .L0280		;;line 504;;  ey[iter] = temp_w
   4291  8acc
   4292  8acc		       ad 87 01 	      lda	temp_w
   4293  8acf		       ae 51 01 	      LDX	iter
   4294  8ad2		       9d 6c 01 	      sta	ey,x
   4295  8ad5				   .
   4296  8ad5							;;line 505;;
   4297  8ad5
   4298  8ad5				   .
   4299  8ad5							;;line 506;;
   4300  8ad5
   4301  8ad5				   .L0281		;;line 507;;  if ecooldown  >	0 then goto skip_firing_chance
   4302  8ad5
   4303  8ad5		       a9 00		      lda	#0
   4304  8ad7		       cd 86 01 	      cmp	ecooldown
   4305  8ada		       b0 03		      bcs	.skipL0281
   4306  8adc				   .condpart81
   4307  8adc		       4c fb 8a 	      jmp	.skip_firing_chance
   4308  8adf				   .skipL0281
   4309  8adf				   .
   4310  8adf							;;line 508;;
   4311  8adf
   4312  8adf				   .
   4313  8adf							;;line 509;;
   4314  8adf
   4315  8adf				   .L0282		;;line 510;;  rand_val = frame  +  iter
   4316  8adf
   4317  8adf		       ad 4d 01 	      lda	frame
   4318  8ae2		       18		      CLC
   4319  8ae3		       6d 51 01 	      ADC	iter
   4320  8ae6		       8d 30 22 	      sta	rand_val
   4321  8ae9				   .L0283		;;line 511;;  rand_val = rand_val  &  15
   4322  8ae9
   4323  8ae9		       20 c4 f3 	      jsr	randomize
   4324  8aec		       29 0f		      AND	#15
   4325  8aee		       8d 30 22 	      sta	rand_val
   4326  8af1				   .L0284		;;line 512;;  if rand_val = 0 then gosub fire_enemy_bullet
   4327  8af1
   4328  8af1		       ad 30 22 	      lda	rand_val
   4329  8af4		       c9 00		      cmp	#0
   4330  8af6		       d0 03		      bne	.skipL0284
   4331  8af8				   .condpart82
   4332  8af8		       20 a3 8b 	      jsr	.fire_enemy_bullet
   4333  8afb				   .skipL0284
   4334  8afb				   .
   4335  8afb							;;line 513;;
   4336  8afb
   4337  8afb				   .skip_firing_chance
   4338  8afb							;;line 514;; skip_firing_chance
   4339  8afb
   4340  8afb				   .L0285		;;line 515;;  goto enemy_logic_done
   4341  8afb
   4342  8afb		       4c 95 8b 	      jmp	.enemy_logic_done
   4343  8afe				   .
   4344  8afe							;;line 516;;
   4345  8afe
   4346  8afe				   .L0286		;;line 517;;  P2C1 = $04 :  P2C2 = $08 :  P2C3 = $0C
   4347  8afe
   4348  8afe		       a9 04		      lda	#$04
   4349  8b00		       85 29		      sta	P2C1
   4350  8b02		       a9 08		      lda	#$08
   4351  8b04		       85 2a		      sta	P2C2
   4352  8b06		       a9 0c		      lda	#$0C
   4353  8b08		       85 2b		      sta	P2C3
   4354  8b0a				   .
   4355  8b0a							;;line 518;;
   4356  8b0a
   4357  8b0a				   .L0287		;;line 519;;  goto enemy_logic_done
   4358  8b0a
   4359  8b0a		       4c 95 8b 	      jmp	.enemy_logic_done
   4360  8b0d				   .
   4361  8b0d							;;line 520;;
   4362  8b0d
   4363  8b0d				   .try_spawn_enemy
   4364  8b0d							;;line 521;; try_spawn_enemy
   4365  8b0d
   4366  8b0d				   .
   4367  8b0d							;;line 522;;
   4368  8b0d
   4369  8b0d				   .L0288		;;line 523;;  rand_val = frame  &  127
   4370  8b0d
   4371  8b0d		       ad 4d 01 	      lda	frame
   4372  8b10		       29 7f		      AND	#127
   4373  8b12		       8d 30 22 	      sta	rand_val
   4374  8b15				   .L0289		;;line 524;;  if rand_val  >  5 then goto enemy_logic_done
   4375  8b15
   4376  8b15		       a9 05		      lda	#5
   4377  8b17		       cd 30 22 	      cmp	rand_val
   4378  8b1a		       b0 03		      bcs	.skipL0289
   4379  8b1c				   .condpart83
   4380  8b1c		       4c 95 8b 	      jmp	.enemy_logic_done
   4381  8b1f				   .skipL0289
   4382  8b1f				   .
   4383  8b1f							;;line 525;;
   4384  8b1f
   4385  8b1f				   .
   4386  8b1f							;;line 526;;
   4387  8b1f
   4388  8b1f				   .L0290		;;line 527;;  elife[iter] = 1
   4389  8b1f
   4390  8b1f		       a9 01		      lda	#1
   4391  8b21		       ae 51 01 	      LDX	iter
   4392  8b24		       9d 78 01 	      sta	elife,x
   4393  8b27				   .
   4394  8b27							;;line 528;;
   4395  8b27
   4396  8b27				   .L0291		;;line 529;;  temp_v = frame  +  iter
   4397  8b27
   4398  8b27		       ad 4d 01 	      lda	frame
   4399  8b2a		       18		      CLC
   4400  8b2b		       6d 51 01 	      ADC	iter
   4401  8b2e		       8d 4f 01 	      sta	temp_v
   4402  8b31				   .L0292		;;line 530;;  rand_val = temp_v  &  3
   4403  8b31
   4404  8b31		       ad 4f 01 	      lda	temp_v
   4405  8b34		       29 03		      AND	#3
   4406  8b36		       8d 30 22 	      sta	rand_val
   4407  8b39				   .L0293		;;line 531;;  if rand_val = 0 then ex[iter] = 5  :  ey[iter] = 90
   4408  8b39
   4409  8b39		       ad 30 22 	      lda	rand_val
   4410  8b3c		       c9 00		      cmp	#0
   4411  8b3e		       d0 10		      bne	.skipL0293
   4412  8b40				   .condpart84
   4413  8b40		       a9 05		      lda	#5
   4414  8b42		       ae 51 01 	      LDX	iter
   4415  8b45		       9d 68 01 	      sta	ex,x
   4416  8b48		       a9 5a		      lda	#90
   4417  8b4a		       ae 51 01 	      LDX	iter
   4418  8b4d		       9d 6c 01 	      sta	ey,x
   4419  8b50				   .skipL0293
   4420  8b50				   .L0294		;;line 532;;  if rand_val = 1 then ex[iter] = 155  :  ey[iter] = 90
   4421  8b50
   4422  8b50		       ad 30 22 	      lda	rand_val
   4423  8b53		       c9 01		      cmp	#1
   4424  8b55		       d0 10		      bne	.skipL0294
   4425  8b57				   .condpart85
   4426  8b57		       a9 9b		      lda	#155
   4427  8b59		       ae 51 01 	      LDX	iter
   4428  8b5c		       9d 68 01 	      sta	ex,x
   4429  8b5f		       a9 5a		      lda	#90
   4430  8b61		       ae 51 01 	      LDX	iter
   4431  8b64		       9d 6c 01 	      sta	ey,x
   4432  8b67				   .skipL0294
   4433  8b67				   .L0295		;;line 533;;  if rand_val = 2 then ex[iter] = 80  :  ey[iter] = 5
   4434  8b67
   4435  8b67		       ad 30 22 	      lda	rand_val
   4436  8b6a		       c9 02		      cmp	#2
   4437  8b6c		       d0 10		      bne	.skipL0295
   4438  8b6e				   .condpart86
   4439  8b6e		       a9 50		      lda	#80
   4440  8b70		       ae 51 01 	      LDX	iter
   4441  8b73		       9d 68 01 	      sta	ex,x
   4442  8b76		       a9 05		      lda	#5
   4443  8b78		       ae 51 01 	      LDX	iter
   4444  8b7b		       9d 6c 01 	      sta	ey,x
   4445  8b7e				   .skipL0295
   4446  8b7e				   .L0296		;;line 534;;  if rand_val = 3 then ex[iter] = 80  :  ey[iter] = 175
   4447  8b7e
   4448  8b7e		       ad 30 22 	      lda	rand_val
   4449  8b81		       c9 03		      cmp	#3
   4450  8b83		       d0 10		      bne	.skipL0296
   4451  8b85				   .condpart87
   4452  8b85		       a9 50		      lda	#80
   4453  8b87		       ae 51 01 	      LDX	iter
   4454  8b8a		       9d 68 01 	      sta	ex,x
   4455  8b8d		       a9 af		      lda	#175
   4456  8b8f		       ae 51 01 	      LDX	iter
   4457  8b92		       9d 6c 01 	      sta	ey,x
   4458  8b95				   .skipL0296
   4459  8b95				   .
   4460  8b95							;;line 535;;
   4461  8b95
   4462  8b95				   .enemy_logic_done
   4463  8b95							;;line 536;; enemy_logic_done
   4464  8b95
   4465  8b95				   .L0297		;;line 537;;  next
   4466  8b95
   4467  8b95		       ad 51 01 	      lda	iter
   4468  8b98		       c9 03		      cmp	#3
   4469  8b9a		       ee 51 01 	      inc	iter
   4470  8b9d				  -	      if	((* - .L0270foriter) < 127) && ((* - .L0270foriter) > -128)
   4471  8b9d				  -	      bcc	.L0270foriter
   4472  8b9d					      else
   4473  8b9d		       b0 03		      bcs	.3skipL0270foriter
   4474  8b9f		       4c 4e 8a 	      jmp	.L0270foriter
   4475  8ba2				   .3skipL0270foriter
   4476  8ba2					      endif
   4477  8ba2				   .L0298		;;line 538;;  return
   4478  8ba2
   4479  8ba2		       60		      rts
   4480  8ba3				   .
   4481  8ba3							;;line 539;;
   4482  8ba3
   4483  8ba3				   .fire_enemy_bullet
   4484  8ba3							;;line 540;; fire_enemy_bullet
   4485  8ba3
   4486  8ba3				   .
   4487  8ba3							;;line 541;;
   4488  8ba3
   4489  8ba3				   .
   4490  8ba3							;;line 542;;
   4491  8ba3
   4492  8ba3				   .L0299		;;line 543;;  for temp_acc = 0 to 3
   4493  8ba3
   4494  8ba3		       a9 00		      lda	#0
   4495  8ba5		       8d 4c 01 	      sta	temp_acc
   4496  8ba8				   .L0299fortemp_acc
   4497  8ba8				   .L0300		;;line 544;;  if eblife[temp_acc] = 0 then goto spawn_ebul
   4498  8ba8
   4499  8ba8		       ae 4c 01 	      LDX	temp_acc
   4500  8bab		       bd 40 22 	      lda	eblife,x
   4501  8bae		       c9 00		      cmp	#0
   4502  8bb0		       d0 03		      bne	.skipL0300
   4503  8bb2				   .condpart88
   4504  8bb2		       4c c0 8b 	      jmp	.spawn_ebul
   4505  8bb5				   .skipL0300
   4506  8bb5				   .L0301		;;line 545;;  next
   4507  8bb5
   4508  8bb5		       ad 4c 01 	      lda	temp_acc
   4509  8bb8		       c9 03		      cmp	#3
   4510  8bba		       ee 4c 01 	      inc	temp_acc
   4511  8bbd					      if	((* - .L0299fortemp_acc) < 127) && ((* - .L0299fortemp_acc) > -128)
   4512  8bbd		       90 e9		      bcc	.L0299fortemp_acc
   4513  8bbf				  -	      else
   4514  8bbf				  -	      bcs	.4skipL0299fortemp_acc
   4515  8bbf				  -	      jmp	.L0299fortemp_acc
   4516  8bbf				  -.4skipL0299fortemp_acc
   4517  8bbf					      endif
   4518  8bbf				   .L0302		;;line 546;;  return
   4519  8bbf
   4520  8bbf		       60		      rts
   4521  8bc0				   .
   4522  8bc0							;;line 547;;
   4523  8bc0
   4524  8bc0				   .spawn_ebul
   4525  8bc0							;;line 548;; spawn_ebul
   4526  8bc0
   4527  8bc0				   .
   4528  8bc0							;;line 549;;
   4529  8bc0
   4530  8bc0				   .
   4531  8bc0							;;line 550;;
   4532  8bc0
   4533  8bc0				   .L0303		;;line 551;;  eblife[temp_acc] = 60
   4534  8bc0
   4535  8bc0		       a9 3c		      lda	#60
   4536  8bc2		       ae 4c 01 	      LDX	temp_acc
   4537  8bc5		       9d 40 22 	      sta	eblife,x
   4538  8bc8				   .L0304		;;line 552;;  ebul_x[temp_acc] = ex[iter]
   4539  8bc8
   4540  8bc8		       ae 51 01 	      LDX	iter
   4541  8bcb		       bd 68 01 	      lda	ex,x
   4542  8bce		       ae 4c 01 	      LDX	temp_acc
   4543  8bd1		       9d 7c 01 	      sta	ebul_x,x
   4544  8bd4				   .L0305		;;line 553;;  ebul_x_hi[temp_acc] = cam_x_hi
   4545  8bd4
   4546  8bd4		       ad 49 22 	      lda	cam_x_hi
   4547  8bd7		       ae 4c 01 	      LDX	temp_acc
   4548  8bda		       9d 58 22 	      sta	ebul_x_hi,x
   4549  8bdd				   .L0306		;;line 554;;  ebul_y[temp_acc] = ey[iter]  +  6
   4550  8bdd
   4551  8bdd		       ae 51 01 	      LDX	iter
   4552  8be0		       bd 6c 01 	      lda	ey,x
   4553  8be3		       18		      CLC
   4554  8be4		       69 06		      ADC	#6
   4555  8be6		       ae 4c 01 	      LDX	temp_acc
   4556  8be9		       9d 80 01 	      sta	ebul_y,x
   4557  8bec				   .L0307		;;line 555;;  ebul_y_hi[temp_acc] = cam_y_hi
   4558  8bec
   4559  8bec		       ad 4b 22 	      lda	cam_y_hi
   4560  8bef		       ae 4c 01 	      LDX	temp_acc
   4561  8bf2		       9d 5c 22 	      sta	ebul_y_hi,x
   4562  8bf5				   .
   4563  8bf5							;;line 556;;
   4564  8bf5
   4565  8bf5				   .L0308		;;line 557;;  temp_v = ex[iter]
   4566  8bf5
   4567  8bf5		       ae 51 01 	      LDX	iter
   4568  8bf8		       bd 68 01 	      lda	ex,x
   4569  8bfb		       8d 4f 01 	      sta	temp_v
   4570  8bfe				   .L0309		;;line 558;;  temp_w = ey[iter]
   4571  8bfe
   4572  8bfe		       ae 51 01 	      LDX	iter
   4573  8c01		       bd 6c 01 	      lda	ey,x
   4574  8c04		       8d 87 01 	      sta	temp_w
   4575  8c07				   .
   4576  8c07							;;line 559;;
   4577  8c07
   4578  8c07				   .
   4579  8c07							;;line 560;;
   4580  8c07
   4581  8c07				   .
   4582  8c07							;;line 561;;
   4583  8c07
   4584  8c07				   .L0310		;;line 562;;  if px  <  temp_v then ebul_vx[temp_acc] = 253  :  temp_bx = temp_v  -  px else ebul_vx[temp_acc] = 3  :	temp_bx = px  -  temp_v
   4585  8c07
   4586  8c07		       ad 40 01 	      lda	px
   4587  8c0a		       cd 4f 01 	      cmp	temp_v
   4588  8c0d		       b0 15		      bcs	.skipL0310
   4589  8c0f				   .condpart89
   4590  8c0f		       a9 fd		      lda	#253
   4591  8c11		       ae 4c 01 	      LDX	temp_acc
   4592  8c14		       9d 84 01 	      sta	ebul_vx,x
   4593  8c17		       ad 4f 01 	      lda	temp_v
   4594  8c1a		       38		      SEC
   4595  8c1b		       ed 40 01 	      SBC	px
   4596  8c1e		       8d 66 01 	      sta	temp_bx
   4597  8c21		       4c 36 8c 	      jmp	.skipelse2
   4598  8c24				   .skipL0310
   4599  8c24		       a9 03		      lda	#3
   4600  8c26		       ae 4c 01 	      LDX	temp_acc
   4601  8c29		       9d 84 01 	      sta	ebul_vx,x
   4602  8c2c		       ad 40 01 	      lda	px
   4603  8c2f		       38		      SEC
   4604  8c30		       ed 4f 01 	      SBC	temp_v
   4605  8c33		       8d 66 01 	      sta	temp_bx
   4606  8c36				   .skipelse2
   4607  8c36				   .L0311		;;line 563;;  if py  <  temp_w then ebul_vy[temp_acc] = 253  :  temp_by = temp_w  -  py else ebul_vy[temp_acc] = 3  :	temp_by = py  -  temp_w
   4608  8c36
   4609  8c36		       ad 41 01 	      lda	py
   4610  8c39		       cd 87 01 	      cmp	temp_w
   4611  8c3c		       b0 15		      bcs	.skipL0311
   4612  8c3e				   .condpart90
   4613  8c3e		       a9 fd		      lda	#253
   4614  8c40		       ae 4c 01 	      LDX	temp_acc
   4615  8c43		       9d 3c 22 	      sta	ebul_vy,x
   4616  8c46		       ad 87 01 	      lda	temp_w
   4617  8c49		       38		      SEC
   4618  8c4a		       ed 41 01 	      SBC	py
   4619  8c4d		       8d 67 01 	      sta	temp_by
   4620  8c50		       4c 65 8c 	      jmp	.skipelse3
   4621  8c53				   .skipL0311
   4622  8c53		       a9 03		      lda	#3
   4623  8c55		       ae 4c 01 	      LDX	temp_acc
   4624  8c58		       9d 3c 22 	      sta	ebul_vy,x
   4625  8c5b		       ad 41 01 	      lda	py
   4626  8c5e		       38		      SEC
   4627  8c5f		       ed 87 01 	      SBC	temp_w
   4628  8c62		       8d 67 01 	      sta	temp_by
   4629  8c65				   .skipelse3
   4630  8c65				   .
   4631  8c65							;;line 564;;
   4632  8c65
   4633  8c65				   .
   4634  8c65							;;line 565;;
   4635  8c65
   4636  8c65				   .L0312		;;line 566;;  temp_v = temp_bx  /  2
   4637  8c65
   4638  8c65		       ad 66 01 	      lda	temp_bx
   4639  8c68		       4a		      lsr
   4640  8c69		       8d 4f 01 	      sta	temp_v
   4641  8c6c				   .L0313		;;line 567;;  if temp_v  >  temp_by then ebul_vy[temp_acc] = 0
   4642  8c6c
   4643  8c6c		       ad 67 01 	      lda	temp_by
   4644  8c6f		       cd 4f 01 	      cmp	temp_v
   4645  8c72		       b0 08		      bcs	.skipL0313
   4646  8c74				   .condpart91
   4647  8c74		       a9 00		      lda	#0
   4648  8c76		       ae 4c 01 	      LDX	temp_acc
   4649  8c79		       9d 3c 22 	      sta	ebul_vy,x
   4650  8c7c				   .skipL0313
   4651  8c7c				   .
   4652  8c7c							;;line 568;;
   4653  8c7c
   4654  8c7c				   .L0314		;;line 569;;  temp_v = temp_by  /  2
   4655  8c7c
   4656  8c7c		       ad 67 01 	      lda	temp_by
   4657  8c7f		       4a		      lsr
   4658  8c80		       8d 4f 01 	      sta	temp_v
   4659  8c83				   .L0315		;;line 570;;  if temp_v  >  temp_bx then ebul_vx[temp_acc] = 0
   4660  8c83
   4661  8c83		       ad 66 01 	      lda	temp_bx
   4662  8c86		       cd 4f 01 	      cmp	temp_v
   4663  8c89		       b0 08		      bcs	.skipL0315
   4664  8c8b				   .condpart92
   4665  8c8b		       a9 00		      lda	#0
   4666  8c8d		       ae 4c 01 	      LDX	temp_acc
   4667  8c90		       9d 84 01 	      sta	ebul_vx,x
   4668  8c93				   .skipL0315
   4669  8c93				   .
   4670  8c93							;;line 571;;
   4671  8c93
   4672  8c93				   .L0316		;;line 572;;  ecooldown = 15
   4673  8c93
   4674  8c93		       a9 0f		      lda	#15
   4675  8c95		       8d 86 01 	      sta	ecooldown
   4676  8c98				   .L0317		;;line 573;;  return
   4677  8c98
   4678  8c98		       60		      rts
   4679  8c99				   .
   4680  8c99							;;line 574;;
   4681  8c99
   4682  8c99				   .update_enemy_bullets
   4683  8c99							;;line 575;; update_enemy_bullets
   4684  8c99
   4685  8c99				   .L0318		;;line 576;;  for iter = 0 to 3
   4686  8c99
   4687  8c99		       a9 00		      lda	#0
   4688  8c9b		       8d 51 01 	      sta	iter
   4689  8c9e				   .L0318foriter
   4690  8c9e				   .L0319		;;line 577;;  if eblife[iter] = 0 then goto skip_ebul_update
   4691  8c9e
   4692  8c9e		       ae 51 01 	      LDX	iter
   4693  8ca1		       bd 40 22 	      lda	eblife,x
   4694  8ca4		       c9 00		      cmp	#0
   4695  8ca6		       d0 03		      bne	.skipL0319
   4696  8ca8				   .condpart93
   4697  8ca8		       4c fa 8d 	      jmp	.skip_ebul_update
   4698  8cab				   .skipL0319
   4699  8cab				   .
   4700  8cab							;;line 578;;
   4701  8cab
   4702  8cab				   .L0320		;;line 579;;  eblife[iter] = eblife[iter]  -  1
   4703  8cab
   4704  8cab		       ae 51 01 	      LDX	iter
   4705  8cae		       bd 40 22 	      lda	eblife,x
   4706  8cb1		       38		      SEC
   4707  8cb2		       e9 01		      SBC	#1
   4708  8cb4		       ae 51 01 	      LDX	iter
   4709  8cb7		       9d 40 22 	      sta	eblife,x
   4710  8cba				   .
   4711  8cba							;;line 580;;
   4712  8cba
   4713  8cba				   .
   4714  8cba							;;line 581;;
   4715  8cba
   4716  8cba				   .L0321		;;line 582;;  temp_v = ebul_vx[iter]
   4717  8cba
   4718  8cba		       ae 51 01 	      LDX	iter
   4719  8cbd		       bd 84 01 	      lda	ebul_vx,x
   4720  8cc0		       8d 4f 01 	      sta	temp_v
   4721  8cc3				   .L0322		;;line 583;;  if temp_v  >=  128 then goto ebul_x_neg
   4722  8cc3
   4723  8cc3		       ad 4f 01 	      lda	temp_v
   4724  8cc6		       c9 80		      cmp	#128
   4725  8cc8		       90 03		      bcc	.skipL0322
   4726  8cca				   .condpart94
   4727  8cca		       4c fa 8c 	      jmp	.ebul_x_neg
   4728  8ccd				   .skipL0322
   4729  8ccd				   .
   4730  8ccd							;;line 584;;
   4731  8ccd
   4732  8ccd				   .
   4733  8ccd							;;line 585;;
   4734  8ccd
   4735  8ccd				   .L0323		;;line 586;;  ebul_x[iter] = ebul_x[iter]  +  temp_v
   4736  8ccd
   4737  8ccd		       ae 51 01 	      LDX	iter
   4738  8cd0		       bd 7c 01 	      lda	ebul_x,x
   4739  8cd3		       18		      CLC
   4740  8cd4		       6d 4f 01 	      ADC	temp_v
   4741  8cd7		       ae 51 01 	      LDX	iter
   4742  8cda		       9d 7c 01 	      sta	ebul_x,x
   4743  8cdd				   .L0324		;;line 587;;  if ebul_x[iter]	<  temp_v then ebul_x_hi[iter] = ebul_x_hi[iter]  +  1
   4744  8cdd
   4745  8cdd		       ae 51 01 	      LDX	iter
   4746  8ce0		       bd 7c 01 	      lda	ebul_x,x
   4747  8ce3		       cd 4f 01 	      cmp	temp_v
   4748  8ce6		       b0 0f		      bcs	.skipL0324
   4749  8ce8				   .condpart95
   4750  8ce8		       ae 51 01 	      LDX	iter
   4751  8ceb		       bd 58 22 	      lda	ebul_x_hi,x
   4752  8cee		       18		      CLC
   4753  8cef		       69 01		      ADC	#1
   4754  8cf1		       ae 51 01 	      LDX	iter
   4755  8cf4		       9d 58 22 	      sta	ebul_x_hi,x
   4756  8cf7				   .skipL0324
   4757  8cf7				   .L0325		;;line 588;;  goto ebul_x_done
   4758  8cf7
   4759  8cf7		       4c 36 8d 	      jmp	.ebul_x_done
   4760  8cfa				   .
   4761  8cfa							;;line 589;;
   4762  8cfa
   4763  8cfa				   .ebul_x_neg
   4764  8cfa							;;line 590;; ebul_x_neg
   4765  8cfa
   4766  8cfa				   .L0326		;;line 591;;  temp_v = 0  -  temp_v
   4767  8cfa
   4768  8cfa		       a9 00		      lda	#0
   4769  8cfc		       38		      SEC
   4770  8cfd		       ed 4f 01 	      SBC	temp_v
   4771  8d00		       8d 4f 01 	      sta	temp_v
   4772  8d03				   .L0327		;;line 592;;  temp_w = ebul_x[iter]
   4773  8d03
   4774  8d03		       ae 51 01 	      LDX	iter
   4775  8d06		       bd 7c 01 	      lda	ebul_x,x
   4776  8d09		       8d 87 01 	      sta	temp_w
   4777  8d0c				   .L0328		;;line 593;;  ebul_x[iter] = ebul_x[iter]  -  temp_v
   4778  8d0c
   4779  8d0c		       ae 51 01 	      LDX	iter
   4780  8d0f		       bd 7c 01 	      lda	ebul_x,x
   4781  8d12		       38		      SEC
   4782  8d13		       ed 4f 01 	      SBC	temp_v
   4783  8d16		       ae 51 01 	      LDX	iter
   4784  8d19		       9d 7c 01 	      sta	ebul_x,x
   4785  8d1c				   .L0329		;;line 594;;  if ebul_x[iter]	>  temp_w then ebul_x_hi[iter] = ebul_x_hi[iter]  -  1
   4786  8d1c
   4787  8d1c		       ad 87 01 	      lda	temp_w
   4788  8d1f		       ae 51 01 	      LDX	iter
   4789  8d22		       dd 7c 01 	      cmp	ebul_x,x
   4790  8d25		       b0 0f		      bcs	.skipL0329
   4791  8d27				   .condpart96
   4792  8d27		       ae 51 01 	      LDX	iter
   4793  8d2a		       bd 58 22 	      lda	ebul_x_hi,x
   4794  8d2d		       38		      SEC
   4795  8d2e		       e9 01		      SBC	#1
   4796  8d30		       ae 51 01 	      LDX	iter
   4797  8d33		       9d 58 22 	      sta	ebul_x_hi,x
   4798  8d36				   .skipL0329
   4799  8d36				   .
   4800  8d36							;;line 595;;
   4801  8d36
   4802  8d36				   .ebul_x_done
   4803  8d36							;;line 596;; ebul_x_done
   4804  8d36
   4805  8d36				   .
   4806  8d36							;;line 597;;
   4807  8d36
   4808  8d36				   .L0330		;;line 598;;  if ebul_x_hi[iter]  >=  4 then ebul_x_hi[iter] = 0
   4809  8d36
   4810  8d36		       ae 51 01 	      LDX	iter
   4811  8d39		       bd 58 22 	      lda	ebul_x_hi,x
   4812  8d3c		       c9 04		      cmp	#4
   4813  8d3e		       90 08		      bcc	.skipL0330
   4814  8d40				   .condpart97
   4815  8d40		       a9 00		      lda	#0
   4816  8d42		       ae 51 01 	      LDX	iter
   4817  8d45		       9d 58 22 	      sta	ebul_x_hi,x
   4818  8d48				   .skipL0330
   4819  8d48				   .L0331		;;line 599;;  if ebul_x_hi[iter] = 255 then ebul_x_hi[iter] = 3
   4820  8d48
   4821  8d48		       ae 51 01 	      LDX	iter
   4822  8d4b		       bd 58 22 	      lda	ebul_x_hi,x
   4823  8d4e		       c9 ff		      cmp	#255
   4824  8d50		       d0 08		      bne	.skipL0331
   4825  8d52				   .condpart98
   4826  8d52		       a9 03		      lda	#3
   4827  8d54		       ae 51 01 	      LDX	iter
   4828  8d57		       9d 58 22 	      sta	ebul_x_hi,x
   4829  8d5a				   .skipL0331
   4830  8d5a				   .
   4831  8d5a							;;line 600;;
   4832  8d5a
   4833  8d5a				   .
   4834  8d5a							;;line 601;;
   4835  8d5a
   4836  8d5a				   .L0332		;;line 602;;  temp_v = ebul_vy[iter]
   4837  8d5a
   4838  8d5a		       ae 51 01 	      LDX	iter
   4839  8d5d		       bd 3c 22 	      lda	ebul_vy,x
   4840  8d60		       8d 4f 01 	      sta	temp_v
   4841  8d63				   .L0333		;;line 603;;  if temp_v  >=  128 then goto ebul_y_neg
   4842  8d63
   4843  8d63		       ad 4f 01 	      lda	temp_v
   4844  8d66		       c9 80		      cmp	#128
   4845  8d68		       90 03		      bcc	.skipL0333
   4846  8d6a				   .condpart99
   4847  8d6a		       4c 9a 8d 	      jmp	.ebul_y_neg
   4848  8d6d				   .skipL0333
   4849  8d6d				   .
   4850  8d6d							;;line 604;;
   4851  8d6d
   4852  8d6d				   .
   4853  8d6d							;;line 605;;
   4854  8d6d
   4855  8d6d				   .L0334		;;line 606;;  ebul_y[iter] = ebul_y[iter]  +  temp_v
   4856  8d6d
   4857  8d6d		       ae 51 01 	      LDX	iter
   4858  8d70		       bd 80 01 	      lda	ebul_y,x
   4859  8d73		       18		      CLC
   4860  8d74		       6d 4f 01 	      ADC	temp_v
   4861  8d77		       ae 51 01 	      LDX	iter
   4862  8d7a		       9d 80 01 	      sta	ebul_y,x
   4863  8d7d				   .L0335		;;line 607;;  if ebul_y[iter]	<  temp_v then ebul_y_hi[iter] = ebul_y_hi[iter]  +  1
   4864  8d7d
   4865  8d7d		       ae 51 01 	      LDX	iter
   4866  8d80		       bd 80 01 	      lda	ebul_y,x
   4867  8d83		       cd 4f 01 	      cmp	temp_v
   4868  8d86		       b0 0f		      bcs	.skipL0335
   4869  8d88				   .condpart100
   4870  8d88		       ae 51 01 	      LDX	iter
   4871  8d8b		       bd 5c 22 	      lda	ebul_y_hi,x
   4872  8d8e		       18		      CLC
   4873  8d8f		       69 01		      ADC	#1
   4874  8d91		       ae 51 01 	      LDX	iter
   4875  8d94		       9d 5c 22 	      sta	ebul_y_hi,x
   4876  8d97				   .skipL0335
   4877  8d97				   .L0336		;;line 608;;  goto ebul_y_done
   4878  8d97
   4879  8d97		       4c d6 8d 	      jmp	.ebul_y_done
   4880  8d9a				   .
   4881  8d9a							;;line 609;;
   4882  8d9a
   4883  8d9a				   .ebul_y_neg
   4884  8d9a							;;line 610;; ebul_y_neg
   4885  8d9a
   4886  8d9a				   .L0337		;;line 611;;  temp_v = 0  -  temp_v
   4887  8d9a
   4888  8d9a		       a9 00		      lda	#0
   4889  8d9c		       38		      SEC
   4890  8d9d		       ed 4f 01 	      SBC	temp_v
   4891  8da0		       8d 4f 01 	      sta	temp_v
   4892  8da3				   .L0338		;;line 612;;  temp_w = ebul_y[iter]
   4893  8da3
   4894  8da3		       ae 51 01 	      LDX	iter
   4895  8da6		       bd 80 01 	      lda	ebul_y,x
   4896  8da9		       8d 87 01 	      sta	temp_w
   4897  8dac				   .L0339		;;line 613;;  ebul_y[iter] = ebul_y[iter]  -  temp_v
   4898  8dac
   4899  8dac		       ae 51 01 	      LDX	iter
   4900  8daf		       bd 80 01 	      lda	ebul_y,x
   4901  8db2		       38		      SEC
   4902  8db3		       ed 4f 01 	      SBC	temp_v
   4903  8db6		       ae 51 01 	      LDX	iter
   4904  8db9		       9d 80 01 	      sta	ebul_y,x
   4905  8dbc				   .L0340		;;line 614;;  if ebul_y[iter]	>  temp_w then ebul_y_hi[iter] = ebul_y_hi[iter]  -  1
   4906  8dbc
   4907  8dbc		       ad 87 01 	      lda	temp_w
   4908  8dbf		       ae 51 01 	      LDX	iter
   4909  8dc2		       dd 80 01 	      cmp	ebul_y,x
   4910  8dc5		       b0 0f		      bcs	.skipL0340
   4911  8dc7				   .condpart101
   4912  8dc7		       ae 51 01 	      LDX	iter
   4913  8dca		       bd 5c 22 	      lda	ebul_y_hi,x
   4914  8dcd		       38		      SEC
   4915  8dce		       e9 01		      SBC	#1
   4916  8dd0		       ae 51 01 	      LDX	iter
   4917  8dd3		       9d 5c 22 	      sta	ebul_y_hi,x
   4918  8dd6				   .skipL0340
   4919  8dd6				   .
   4920  8dd6							;;line 615;;
   4921  8dd6
   4922  8dd6				   .ebul_y_done
   4923  8dd6							;;line 616;; ebul_y_done
   4924  8dd6
   4925  8dd6				   .
   4926  8dd6							;;line 617;;
   4927  8dd6
   4928  8dd6				   .L0341		;;line 618;;  if ebul_y_hi[iter]  >=  4 then ebul_y_hi[iter] = 0
   4929  8dd6
   4930  8dd6		       ae 51 01 	      LDX	iter
   4931  8dd9		       bd 5c 22 	      lda	ebul_y_hi,x
   4932  8ddc		       c9 04		      cmp	#4
   4933  8dde		       90 08		      bcc	.skipL0341
   4934  8de0				   .condpart102
   4935  8de0		       a9 00		      lda	#0
   4936  8de2		       ae 51 01 	      LDX	iter
   4937  8de5		       9d 5c 22 	      sta	ebul_y_hi,x
   4938  8de8				   .skipL0341
   4939  8de8				   .L0342		;;line 619;;  if ebul_y_hi[iter] = 255 then ebul_y_hi[iter] = 3
   4940  8de8
   4941  8de8		       ae 51 01 	      LDX	iter
   4942  8deb		       bd 5c 22 	      lda	ebul_y_hi,x
   4943  8dee		       c9 ff		      cmp	#255
   4944  8df0		       d0 08		      bne	.skipL0342
   4945  8df2				   .condpart103
   4946  8df2		       a9 03		      lda	#3
   4947  8df4		       ae 51 01 	      LDX	iter
   4948  8df7		       9d 5c 22 	      sta	ebul_y_hi,x
   4949  8dfa				   .skipL0342
   4950  8dfa				   .
   4951  8dfa							;;line 620;;
   4952  8dfa
   4953  8dfa				   .skip_ebul_update
   4954  8dfa							;;line 621;; skip_ebul_update
   4955  8dfa
   4956  8dfa				   .L0343		;;line 622;;  next
   4957  8dfa
   4958  8dfa		       ad 51 01 	      lda	iter
   4959  8dfd		       c9 03		      cmp	#3
   4960  8dff		       ee 51 01 	      inc	iter
   4961  8e02				  -	      if	((* - .L0318foriter) < 127) && ((* - .L0318foriter) > -128)
   4962  8e02				  -	      bcc	.L0318foriter
   4963  8e02					      else
   4964  8e02		       b0 03		      bcs	.5skipL0318foriter
   4965  8e04		       4c 9e 8c 	      jmp	.L0318foriter
   4966  8e07				   .5skipL0318foriter
   4967  8e07					      endif
   4968  8e07				   .L0344		;;line 623;;  return
   4969  8e07
   4970  8e07		       60		      rts
   4971  8e08				   .
   4972  8e08							;;line 624;;
   4973  8e08
   4974  8e08				   .update_asteroid
   4975  8e08							;;line 625;; update_asteroid
   4976  8e08
   4977  8e08				   .L0345		;;line 626;;  if alife = 0 then gosub spawn_asteroid
   4978  8e08
   4979  8e08		       ad 36 22 	      lda	alife
   4980  8e0b		       c9 00		      cmp	#0
   4981  8e0d		       d0 03		      bne	.skipL0345
   4982  8e0f				   .condpart104
   4983  8e0f		       20 bd 8e 	      jsr	.spawn_asteroid
   4984  8e12				   .skipL0345
   4985  8e12				   .L0346		;;line 627;;  if alife = 0 then return
   4986  8e12
   4987  8e12		       ad 36 22 	      lda	alife
   4988  8e15		       c9 00		      cmp	#0
   4989  8e17		       d0 01		      bne	.skipL0346
   4990  8e19				   .condpart105
   4991  8e19		       60		      rts
   4992  8e1a				   .skipL0346
   4993  8e1a				   .
   4994  8e1a							;;line 628;;
   4995  8e1a
   4996  8e1a				   .
   4997  8e1a							;;line 629;;
   4998  8e1a
   4999  8e1a				   .L0347		;;line 630;;  if  ( frame  &  3 )   >	0 then return
   5000  8e1a
   5001  8e1a							; complex condition detected
   5002  8e1a							; complex statement detected
   5003  8e1a		       ad 4d 01 	      lda	frame
   5004  8e1d		       29 03		      AND	#3
   5005  8e1f		       48		      pha
   5006  8e20		       ba		      tsx
   5007  8e21		       68		      pla
   5008  8e22		       a9 00		      lda	#0
   5009  8e24		       dd 01 01 	      cmp	$101,x
   5010  8e27		       b0 01		      bcs	.skipL0347
   5011  8e29				   .condpart106
   5012  8e29		       60		      rts
   5013  8e2a				   .skipL0347
   5014  8e2a				   .
   5015  8e2a							;;line 631;;
   5016  8e2a
   5017  8e2a				   .
   5018  8e2a							;;line 632;;
   5019  8e2a
   5020  8e2a				   .
   5021  8e2a							;;line 633;;
   5022  8e2a
   5023  8e2a				   .L0348		;;line 634;;  temp_v = avx
   5024  8e2a
   5025  8e2a		       ad 34 22 	      lda	avx
   5026  8e2d		       8d 4f 01 	      sta	temp_v
   5027  8e30				   .L0349		;;line 635;;  if temp_v  <  128 then ax = ax  +  temp_v
   5028  8e30
   5029  8e30		       ad 4f 01 	      lda	temp_v
   5030  8e33		       c9 80		      cmp	#128
   5031  8e35		       b0 0a		      bcs	.skipL0349
   5032  8e37				   .condpart107
   5033  8e37		       ad 32 22 	      lda	ax
   5034  8e3a		       18		      CLC
   5035  8e3b		       6d 4f 01 	      ADC	temp_v
   5036  8e3e		       8d 32 22 	      sta	ax
   5037  8e41				   .skipL0349
   5038  8e41				   .L0350		;;line 636;;  if temp_v  >=  128 then temp_v = 0  -  temp_v  :  ax = ax  -  temp_v
   5039  8e41
   5040  8e41		       ad 4f 01 	      lda	temp_v
   5041  8e44		       c9 80		      cmp	#128
   5042  8e46		       90 13		      bcc	.skipL0350
   5043  8e48				   .condpart108
   5044  8e48		       a9 00		      lda	#0
   5045  8e4a		       38		      SEC
   5046  8e4b		       ed 4f 01 	      SBC	temp_v
   5047  8e4e		       8d 4f 01 	      sta	temp_v
   5048  8e51		       ad 32 22 	      lda	ax
   5049  8e54		       38		      SEC
   5050  8e55		       ed 4f 01 	      SBC	temp_v
   5051  8e58		       8d 32 22 	      sta	ax
   5052  8e5b				   .skipL0350
   5053  8e5b				   .
   5054  8e5b							;;line 637;;
   5055  8e5b
   5056  8e5b				   .L0351		;;line 638;;  temp_v = avy
   5057  8e5b
   5058  8e5b		       ad 35 22 	      lda	avy
   5059  8e5e		       8d 4f 01 	      sta	temp_v
   5060  8e61				   .L0352		;;line 639;;  if temp_v  <  128 then ay = ay  +  temp_v
   5061  8e61
   5062  8e61		       ad 4f 01 	      lda	temp_v
   5063  8e64		       c9 80		      cmp	#128
   5064  8e66		       b0 0a		      bcs	.skipL0352
   5065  8e68				   .condpart109
   5066  8e68		       ad 33 22 	      lda	ay
   5067  8e6b		       18		      CLC
   5068  8e6c		       6d 4f 01 	      ADC	temp_v
   5069  8e6f		       8d 33 22 	      sta	ay
   5070  8e72				   .skipL0352
   5071  8e72				   .L0353		;;line 640;;  if temp_v  >=  128 then temp_v = 0  -  temp_v  :  ay = ay  -  temp_v
   5072  8e72
   5073  8e72		       ad 4f 01 	      lda	temp_v
   5074  8e75		       c9 80		      cmp	#128
   5075  8e77		       90 13		      bcc	.skipL0353
   5076  8e79				   .condpart110
   5077  8e79		       a9 00		      lda	#0
   5078  8e7b		       38		      SEC
   5079  8e7c		       ed 4f 01 	      SBC	temp_v
   5080  8e7f		       8d 4f 01 	      sta	temp_v
   5081  8e82		       ad 33 22 	      lda	ay
   5082  8e85		       38		      SEC
   5083  8e86		       ed 4f 01 	      SBC	temp_v
   5084  8e89		       8d 33 22 	      sta	ay
   5085  8e8c				   .skipL0353
   5086  8e8c				   .
   5087  8e8c							;;line 641;;
   5088  8e8c
   5089  8e8c				   .
   5090  8e8c							;;line 642;;
   5091  8e8c
   5092  8e8c				   .L0354		;;line 643;;  if ax  >  160 then ax = 1
   5093  8e8c
   5094  8e8c		       a9 a0		      lda	#160
   5095  8e8e		       cd 32 22 	      cmp	ax
   5096  8e91		       b0 05		      bcs	.skipL0354
   5097  8e93				   .condpart111
   5098  8e93		       a9 01		      lda	#1
   5099  8e95		       8d 32 22 	      sta	ax
   5100  8e98				   .skipL0354
   5101  8e98				   .L0355		;;line 644;;  if ax = 0 then ax = 159
   5102  8e98
   5103  8e98		       ad 32 22 	      lda	ax
   5104  8e9b		       c9 00		      cmp	#0
   5105  8e9d		       d0 05		      bne	.skipL0355
   5106  8e9f				   .condpart112
   5107  8e9f		       a9 9f		      lda	#159
   5108  8ea1		       8d 32 22 	      sta	ax
   5109  8ea4				   .skipL0355
   5110  8ea4				   .L0356		;;line 645;;  if ay  >  190 then ay = 1
   5111  8ea4
   5112  8ea4		       a9 be		      lda	#190
   5113  8ea6		       cd 33 22 	      cmp	ay
   5114  8ea9		       b0 05		      bcs	.skipL0356
   5115  8eab				   .condpart113
   5116  8eab		       a9 01		      lda	#1
   5117  8ead		       8d 33 22 	      sta	ay
   5118  8eb0				   .skipL0356
   5119  8eb0				   .L0357		;;line 646;;  if ay = 0 then ay = 189
   5120  8eb0
   5121  8eb0		       ad 33 22 	      lda	ay
   5122  8eb3		       c9 00		      cmp	#0
   5123  8eb5		       d0 05		      bne	.skipL0357
   5124  8eb7				   .condpart114
   5125  8eb7		       a9 bd		      lda	#189
   5126  8eb9		       8d 33 22 	      sta	ay
   5127  8ebc				   .skipL0357
   5128  8ebc				   .
   5129  8ebc							;;line 647;;
   5130  8ebc
   5131  8ebc				   .L0358		;;line 648;;  return
   5132  8ebc
   5133  8ebc		       60		      rts
   5134  8ebd				   .
   5135  8ebd							;;line 649;;
   5136  8ebd
   5137  8ebd				   .spawn_asteroid
   5138  8ebd							;;line 650;; spawn_asteroid
   5139  8ebd
   5140  8ebd				   .
   5141  8ebd							;;line 651;;
   5142  8ebd
   5143  8ebd				   .L0359		;;line 652;;  rand_val = frame  &  127
   5144  8ebd
   5145  8ebd		       ad 4d 01 	      lda	frame
   5146  8ec0		       29 7f		      AND	#127
   5147  8ec2		       8d 30 22 	      sta	rand_val
   5148  8ec5				   .L0360		;;line 653;;  if rand_val  >  5 then return
   5149  8ec5
   5150  8ec5		       a9 05		      lda	#5
   5151  8ec7		       cd 30 22 	      cmp	rand_val
   5152  8eca		       b0 01		      bcs	.skipL0360
   5153  8ecc				   .condpart115
   5154  8ecc		       60		      rts
   5155  8ecd				   .skipL0360
   5156  8ecd				   .
   5157  8ecd							;;line 654;;
   5158  8ecd
   5159  8ecd				   .L0361		;;line 655;;  alife = 1
   5160  8ecd
   5161  8ecd		       a9 01		      lda	#1
   5162  8ecf		       8d 36 22 	      sta	alife
   5163  8ed2				   .
   5164  8ed2							;;line 656;;
   5165  8ed2
   5166  8ed2				   .L0362		;;line 657;;  rand_val = frame  &  3
   5167  8ed2
   5168  8ed2		       ad 4d 01 	      lda	frame
   5169  8ed5		       29 03		      AND	#3
   5170  8ed7		       8d 30 22 	      sta	rand_val
   5171  8eda				   .L0363		;;line 658;;  if rand_val = 0 then ax = 5  :  ay = 90
   5172  8eda
   5173  8eda		       ad 30 22 	      lda	rand_val
   5174  8edd		       c9 00		      cmp	#0
   5175  8edf		       d0 0a		      bne	.skipL0363
   5176  8ee1				   .condpart116
   5177  8ee1		       a9 05		      lda	#5
   5178  8ee3		       8d 32 22 	      sta	ax
   5179  8ee6		       a9 5a		      lda	#90
   5180  8ee8		       8d 33 22 	      sta	ay
   5181  8eeb				   .skipL0363
   5182  8eeb				   .L0364		;;line 659;;  if rand_val = 1 then ax = 155  :  ay = 90
   5183  8eeb
   5184  8eeb		       ad 30 22 	      lda	rand_val
   5185  8eee		       c9 01		      cmp	#1
   5186  8ef0		       d0 0a		      bne	.skipL0364
   5187  8ef2				   .condpart117
   5188  8ef2		       a9 9b		      lda	#155
   5189  8ef4		       8d 32 22 	      sta	ax
   5190  8ef7		       a9 5a		      lda	#90
   5191  8ef9		       8d 33 22 	      sta	ay
   5192  8efc				   .skipL0364
   5193  8efc				   .L0365		;;line 660;;  if rand_val = 2 then ax = 80  :	ay = 5
   5194  8efc
   5195  8efc		       ad 30 22 	      lda	rand_val
   5196  8eff		       c9 02		      cmp	#2
   5197  8f01		       d0 0a		      bne	.skipL0365
   5198  8f03				   .condpart118
   5199  8f03		       a9 50		      lda	#80
   5200  8f05		       8d 32 22 	      sta	ax
   5201  8f08		       a9 05		      lda	#5
   5202  8f0a		       8d 33 22 	      sta	ay
   5203  8f0d				   .skipL0365
   5204  8f0d				   .L0366		;;line 661;;  if rand_val = 3 then ax = 80  :	ay = 175
   5205  8f0d
   5206  8f0d		       ad 30 22 	      lda	rand_val
   5207  8f10		       c9 03		      cmp	#3
   5208  8f12		       d0 0a		      bne	.skipL0366
   5209  8f14				   .condpart119
   5210  8f14		       a9 50		      lda	#80
   5211  8f16		       8d 32 22 	      sta	ax
   5212  8f19		       a9 af		      lda	#175
   5213  8f1b		       8d 33 22 	      sta	ay
   5214  8f1e				   .skipL0366
   5215  8f1e				   .
   5216  8f1e							;;line 662;;
   5217  8f1e
   5218  8f1e				   .
   5219  8f1e							;;line 663;;
   5220  8f1e
   5221  8f1e				   .
   5222  8f1e							;;line 664;;
   5223  8f1e
   5224  8f1e				   .L0367		;;line 665;;  rand_val = frame  &  1
   5225  8f1e
   5226  8f1e		       ad 4d 01 	      lda	frame
   5227  8f21		       29 01		      AND	#1
   5228  8f23		       8d 30 22 	      sta	rand_val
   5229  8f26				   .L0368		;;line 666;;  if rand_val = 0 then avx = 1 else avx = 255
   5230  8f26
   5231  8f26		       ad 30 22 	      lda	rand_val
   5232  8f29		       c9 00		      cmp	#0
   5233  8f2b		       d0 08		      bne	.skipL0368
   5234  8f2d				   .condpart120
   5235  8f2d		       a9 01		      lda	#1
   5236  8f2f		       8d 34 22 	      sta	avx
   5237  8f32		       4c 3a 8f 	      jmp	.skipelse4
   5238  8f35				   .skipL0368
   5239  8f35		       a9 ff		      lda	#255
   5240  8f37		       8d 34 22 	      sta	avx
   5241  8f3a				   .skipelse4
   5242  8f3a				   .L0369		;;line 667;;  rand_val = frame  &  2
   5243  8f3a
   5244  8f3a		       ad 4d 01 	      lda	frame
   5245  8f3d		       29 02		      AND	#2
   5246  8f3f		       8d 30 22 	      sta	rand_val
   5247  8f42				   .L0370		;;line 668;;  if rand_val = 0 then avy = 1 else avy = 255
   5248  8f42
   5249  8f42		       ad 30 22 	      lda	rand_val
   5250  8f45		       c9 00		      cmp	#0
   5251  8f47		       d0 08		      bne	.skipL0370
   5252  8f49				   .condpart121
   5253  8f49		       a9 01		      lda	#1
   5254  8f4b		       8d 35 22 	      sta	avy
   5255  8f4e		       4c 56 8f 	      jmp	.skipelse5
   5256  8f51				   .skipL0370
   5257  8f51		       a9 ff		      lda	#255
   5258  8f53		       8d 35 22 	      sta	avy
   5259  8f56				   .skipelse5
   5260  8f56				   .
   5261  8f56							;;line 669;;
   5262  8f56
   5263  8f56				   .L0371		;;line 670;;  return
   5264  8f56
   5265  8f56		       60		      rts
   5266  8f57				   .
   5267  8f57							;;line 671;;
   5268  8f57
   5269  8f57				   .check_collisions
   5270  8f57							;;line 672;; check_collisions
   5271  8f57
   5272  8f57				   .
   5273  8f57							;;line 673;;
   5274  8f57
   5275  8f57				   .L0372		;;line 674;;  for iter = 0 to 3
   5276  8f57
   5277  8f57		       a9 00		      lda	#0
   5278  8f59		       8d 51 01 	      sta	iter
   5279  8f5c				   .L0372foriter
   5280  8f5c				   .L0373		;;line 675;;  if blife[iter] = 0 then goto skip_bullet_coll
   5281  8f5c
   5282  8f5c		       ae 51 01 	      LDX	iter
   5283  8f5f		       bd 62 01 	      lda	blife,x
   5284  8f62		       c9 00		      cmp	#0
   5285  8f64		       d0 03		      bne	.skipL0373
   5286  8f66				   .condpart122
   5287  8f66		       4c ec 8f 	      jmp	.skip_bullet_coll
   5288  8f69				   .skipL0373
   5289  8f69				   .
   5290  8f69							;;line 676;;
   5291  8f69
   5292  8f69				   .L0374		;;line 677;;  for temp_acc = 0 to 3
   5293  8f69
   5294  8f69		       a9 00		      lda	#0
   5295  8f6b		       8d 4c 01 	      sta	temp_acc
   5296  8f6e				   .L0374fortemp_acc
   5297  8f6e				   .L0375		;;line 678;;  if elife[temp_acc] = 0 then goto skip_enemy_coll
   5298  8f6e
   5299  8f6e		       ae 4c 01 	      LDX	temp_acc
   5300  8f71		       bd 78 01 	      lda	elife,x
   5301  8f74		       c9 00		      cmp	#0
   5302  8f76		       d0 03		      bne	.skipL0375
   5303  8f78				   .condpart123
   5304  8f78		       4c e2 8f 	      jmp	.skip_enemy_coll
   5305  8f7b				   .skipL0375
   5306  8f7b				   .
   5307  8f7b							;;line 679;;
   5308  8f7b
   5309  8f7b				   .
   5310  8f7b							;;line 680;;
   5311  8f7b
   5312  8f7b				   .L0376		;;line 681;;  temp_v = bul_x[iter]  -	ex[temp_acc]
   5313  8f7b
   5314  8f7b		       ae 51 01 	      LDX	iter
   5315  8f7e		       bd 52 01 	      lda	bul_x,x
   5316  8f81		       ae 4c 01 	      LDX	temp_acc
   5317  8f84		       38		      SEC
   5318  8f85		       fd 68 01 	      SBC	ex,x
   5319  8f88		       8d 4f 01 	      sta	temp_v
   5320  8f8b				   .L0377		;;line 682;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5321  8f8b
   5322  8f8b		       ad 4f 01 	      lda	temp_v
   5323  8f8e		       c9 80		      cmp	#128
   5324  8f90		       90 09		      bcc	.skipL0377
   5325  8f92				   .condpart124
   5326  8f92		       a9 00		      lda	#0
   5327  8f94		       38		      SEC
   5328  8f95		       ed 4f 01 	      SBC	temp_v
   5329  8f98		       8d 4f 01 	      sta	temp_v
   5330  8f9b				   .skipL0377
   5331  8f9b				   .L0378		;;line 683;;  if temp_v  >=  6 then goto skip_enemy_coll
   5332  8f9b
   5333  8f9b		       ad 4f 01 	      lda	temp_v
   5334  8f9e		       c9 06		      cmp	#6
   5335  8fa0		       90 03		      bcc	.skipL0378
   5336  8fa2				   .condpart125
   5337  8fa2		       4c e2 8f 	      jmp	.skip_enemy_coll
   5338  8fa5				   .skipL0378
   5339  8fa5				   .
   5340  8fa5							;;line 684;;
   5341  8fa5
   5342  8fa5				   .
   5343  8fa5							;;line 685;;
   5344  8fa5
   5345  8fa5				   .L0379		;;line 686;;  temp_v = bul_y[iter]  -	ey[temp_acc]
   5346  8fa5
   5347  8fa5		       ae 51 01 	      LDX	iter
   5348  8fa8		       bd 56 01 	      lda	bul_y,x
   5349  8fab		       ae 4c 01 	      LDX	temp_acc
   5350  8fae		       38		      SEC
   5351  8faf		       fd 6c 01 	      SBC	ey,x
   5352  8fb2		       8d 4f 01 	      sta	temp_v
   5353  8fb5				   .L0380		;;line 687;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5354  8fb5
   5355  8fb5		       ad 4f 01 	      lda	temp_v
   5356  8fb8		       c9 80		      cmp	#128
   5357  8fba		       90 09		      bcc	.skipL0380
   5358  8fbc				   .condpart126
   5359  8fbc		       a9 00		      lda	#0
   5360  8fbe		       38		      SEC
   5361  8fbf		       ed 4f 01 	      SBC	temp_v
   5362  8fc2		       8d 4f 01 	      sta	temp_v
   5363  8fc5				   .skipL0380
   5364  8fc5				   .L0381		;;line 688;;  if temp_v  >=  6 then goto skip_enemy_coll
   5365  8fc5
   5366  8fc5		       ad 4f 01 	      lda	temp_v
   5367  8fc8		       c9 06		      cmp	#6
   5368  8fca		       90 03		      bcc	.skipL0381
   5369  8fcc				   .condpart127
   5370  8fcc		       4c e2 8f 	      jmp	.skip_enemy_coll
   5371  8fcf				   .skipL0381
   5372  8fcf				   .
   5373  8fcf							;;line 689;;
   5374  8fcf
   5375  8fcf				   .
   5376  8fcf							;;line 690;;
   5377  8fcf
   5378  8fcf				   .L0382		;;line 691;;  blife[iter] = 0
   5379  8fcf
   5380  8fcf		       a9 00		      lda	#0
   5381  8fd1		       ae 51 01 	      LDX	iter
   5382  8fd4		       9d 62 01 	      sta	blife,x
   5383  8fd7				   .L0383		;;line 692;;  elife[temp_acc] = 0
   5384  8fd7
   5385  8fd7		       a9 00		      lda	#0
   5386  8fd9		       ae 4c 01 	      LDX	temp_acc
   5387  8fdc		       9d 78 01 	      sta	elife,x
   5388  8fdf				   .L0384		;;line 693;;  goto skip_enemy_coll
   5389  8fdf
   5390  8fdf		       4c e2 8f 	      jmp	.skip_enemy_coll
   5391  8fe2				   .
   5392  8fe2							;;line 694;;
   5393  8fe2
   5394  8fe2				   .skip_enemy_coll
   5395  8fe2							;;line 695;; skip_enemy_coll
   5396  8fe2
   5397  8fe2				   .L0385		;;line 696;;  next
   5398  8fe2
   5399  8fe2		       ad 4c 01 	      lda	temp_acc
   5400  8fe5		       c9 03		      cmp	#3
   5401  8fe7		       ee 4c 01 	      inc	temp_acc
   5402  8fea					      if	((* - .L0374fortemp_acc) < 127) && ((* - .L0374fortemp_acc) > -128)
   5403  8fea		       90 82		      bcc	.L0374fortemp_acc
   5404  8fec				  -	      else
   5405  8fec				  -	      bcs	.6skipL0374fortemp_acc
   5406  8fec				  -	      jmp	.L0374fortemp_acc
   5407  8fec				  -.6skipL0374fortemp_acc
   5408  8fec					      endif
   5409  8fec				   .
   5410  8fec							;;line 697;;
   5411  8fec
   5412  8fec				   .skip_bullet_coll
   5413  8fec							;;line 698;; skip_bullet_coll
   5414  8fec
   5415  8fec				   .L0386		;;line 699;;  next
   5416  8fec
   5417  8fec		       ad 51 01 	      lda	iter
   5418  8fef		       c9 03		      cmp	#3
   5419  8ff1		       ee 51 01 	      inc	iter
   5420  8ff4				  -	      if	((* - .L0372foriter) < 127) && ((* - .L0372foriter) > -128)
   5421  8ff4				  -	      bcc	.L0372foriter
   5422  8ff4					      else
   5423  8ff4		       b0 03		      bcs	.7skipL0372foriter
   5424  8ff6		       4c 5c 8f 	      jmp	.L0372foriter
   5425  8ff9				   .7skipL0372foriter
   5426  8ff9					      endif
   5427  8ff9				   .
   5428  8ff9							;;line 700;;
   5429  8ff9
   5430  8ff9				   .
   5431  8ff9							;;line 701;;
   5432  8ff9
   5433  8ff9				   .L0387		;;line 702;;  for iter = 0 to 3
   5434  8ff9
   5435  8ff9		       a9 00		      lda	#0
   5436  8ffb		       8d 51 01 	      sta	iter
   5437  8ffe				   .L0387foriter
   5438  8ffe				   .L0388		;;line 703;;  if elife[iter] = 0 then goto skip_p_e
   5439  8ffe
   5440  8ffe		       ae 51 01 	      LDX	iter
   5441  9001		       bd 78 01 	      lda	elife,x
   5442  9004		       c9 00		      cmp	#0
   5443  9006		       d0 03		      bne	.skipL0388
   5444  9008				   .condpart128
   5445  9008		       4c 61 90 	      jmp	.skip_p_e
   5446  900b				   .skipL0388
   5447  900b				   .
   5448  900b							;;line 704;;
   5449  900b
   5450  900b				   .L0389		;;line 705;;  temp_v = px  -  ex[iter]
   5451  900b
   5452  900b		       ad 40 01 	      lda	px
   5453  900e		       ae 51 01 	      LDX	iter
   5454  9011		       38		      SEC
   5455  9012		       fd 68 01 	      SBC	ex,x
   5456  9015		       8d 4f 01 	      sta	temp_v
   5457  9018				   .L0390		;;line 706;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5458  9018
   5459  9018		       ad 4f 01 	      lda	temp_v
   5460  901b		       c9 80		      cmp	#128
   5461  901d		       90 09		      bcc	.skipL0390
   5462  901f				   .condpart129
   5463  901f		       a9 00		      lda	#0
   5464  9021		       38		      SEC
   5465  9022		       ed 4f 01 	      SBC	temp_v
   5466  9025		       8d 4f 01 	      sta	temp_v
   5467  9028				   .skipL0390
   5468  9028				   .L0391		;;line 707;;  if temp_v  >=  8 then goto skip_p_e
   5469  9028
   5470  9028		       ad 4f 01 	      lda	temp_v
   5471  902b		       c9 08		      cmp	#8
   5472  902d		       90 03		      bcc	.skipL0391
   5473  902f				   .condpart130
   5474  902f		       4c 61 90 	      jmp	.skip_p_e
   5475  9032				   .skipL0391
   5476  9032				   .
   5477  9032							;;line 708;;
   5478  9032
   5479  9032				   .L0392		;;line 709;;  temp_v = py  -  ey[iter]
   5480  9032
   5481  9032		       ad 41 01 	      lda	py
   5482  9035		       ae 51 01 	      LDX	iter
   5483  9038		       38		      SEC
   5484  9039		       fd 6c 01 	      SBC	ey,x
   5485  903c		       8d 4f 01 	      sta	temp_v
   5486  903f				   .L0393		;;line 710;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5487  903f
   5488  903f		       ad 4f 01 	      lda	temp_v
   5489  9042		       c9 80		      cmp	#128
   5490  9044		       90 09		      bcc	.skipL0393
   5491  9046				   .condpart131
   5492  9046		       a9 00		      lda	#0
   5493  9048		       38		      SEC
   5494  9049		       ed 4f 01 	      SBC	temp_v
   5495  904c		       8d 4f 01 	      sta	temp_v
   5496  904f				   .skipL0393
   5497  904f				   .L0394		;;line 711;;  if temp_v  >=  8 then goto skip_p_e
   5498  904f
   5499  904f		       ad 4f 01 	      lda	temp_v
   5500  9052		       c9 08		      cmp	#8
   5501  9054		       90 03		      bcc	.skipL0394
   5502  9056				   .condpart132
   5503  9056		       4c 61 90 	      jmp	.skip_p_e
   5504  9059				   .skipL0394
   5505  9059				   .
   5506  9059							;;line 712;;
   5507  9059
   5508  9059				   .
   5509  9059							;;line 713;;
   5510  9059
   5511  9059				   .L0395		;;line 714;;  elife[iter] = 0
   5512  9059
   5513  9059		       a9 00		      lda	#0
   5514  905b		       ae 51 01 	      LDX	iter
   5515  905e		       9d 78 01 	      sta	elife,x
   5516  9061				   .
   5517  9061							;;line 715;;
   5518  9061
   5519  9061				   .
   5520  9061							;;line 716;;
   5521  9061
   5522  9061				   .skip_p_e
   5523  9061							;;line 717;; skip_p_e
   5524  9061
   5525  9061				   .L0396		;;line 718;;  next
   5526  9061
   5527  9061		       ad 51 01 	      lda	iter
   5528  9064		       c9 03		      cmp	#3
   5529  9066		       ee 51 01 	      inc	iter
   5530  9069					      if	((* - .L0387foriter) < 127) && ((* - .L0387foriter) > -128)
   5531  9069		       90 93		      bcc	.L0387foriter
   5532  906b				  -	      else
   5533  906b				  -	      bcs	.8skipL0387foriter
   5534  906b				  -	      jmp	.L0387foriter
   5535  906b				  -.8skipL0387foriter
   5536  906b					      endif
   5537  906b				   .
   5538  906b							;;line 719;;
   5539  906b
   5540  906b				   .L0397		;;line 720;;  goto check_asteroid_coll
   5541  906b
   5542  906b		       4c 6e 90 	      jmp	.check_asteroid_coll
   5543  906e				   .
   5544  906e							;;line 721;;
   5545  906e
   5546  906e				   .check_asteroid_coll
   5547  906e							;;line 722;; check_asteroid_coll
   5548  906e
   5549  906e				   .L0398		;;line 723;;  if alife = 0 then goto coll_done
   5550  906e
   5551  906e		       ad 36 22 	      lda	alife
   5552  9071		       c9 00		      cmp	#0
   5553  9073		       d0 03		      bne	.skipL0398
   5554  9075				   .condpart133
   5555  9075		       4c d8 91 	      jmp	.coll_done
   5556  9078				   .skipL0398
   5557  9078				   .
   5558  9078							;;line 724;;
   5559  9078
   5560  9078				   .
   5561  9078							;;line 725;;
   5562  9078
   5563  9078				   .
   5564  9078							;;line 726;;
   5565  9078
   5566  9078				   .
   5567  9078							;;line 727;;
   5568  9078
   5569  9078				   .
   5570  9078							;;line 728;;
   5571  9078
   5572  9078				   .
   5573  9078							;;line 729;;
   5574  9078
   5575  9078				   .
   5576  9078							;;line 730;;
   5577  9078
   5578  9078				   .L0399		;;line 731;;  for iter = 0 to 3
   5579  9078
   5580  9078		       a9 00		      lda	#0
   5581  907a		       8d 51 01 	      sta	iter
   5582  907d				   .L0399foriter
   5583  907d				   .L0400		;;line 732;;  if blife[iter] = 0 then goto skip_bul_ast
   5584  907d
   5585  907d		       ae 51 01 	      LDX	iter
   5586  9080		       bd 62 01 	      lda	blife,x
   5587  9083		       c9 00		      cmp	#0
   5588  9085		       d0 03		      bne	.skipL0400
   5589  9087				   .condpart134
   5590  9087		       4c fa 90 	      jmp	.skip_bul_ast
   5591  908a				   .skipL0400
   5592  908a				   .
   5593  908a							;;line 733;;
   5594  908a
   5595  908a				   .
   5596  908a							;;line 734;;
   5597  908a
   5598  908a				   .
   5599  908a							;;line 735;;
   5600  908a
   5601  908a				   .L0401		;;line 736;;  temp_v = bul_x[iter]  -	ax
   5602  908a
   5603  908a		       ae 51 01 	      LDX	iter
   5604  908d		       bd 52 01 	      lda	bul_x,x
   5605  9090		       38		      SEC
   5606  9091		       ed 32 22 	      SBC	ax
   5607  9094		       8d 4f 01 	      sta	temp_v
   5608  9097				   .L0402		;;line 737;;  temp_v = temp_v	-  8
   5609  9097
   5610  9097		       ad 4f 01 	      lda	temp_v
   5611  909a		       38		      SEC
   5612  909b		       e9 08		      SBC	#8
   5613  909d		       8d 4f 01 	      sta	temp_v
   5614  90a0				   .L0403		;;line 738;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5615  90a0
   5616  90a0		       ad 4f 01 	      lda	temp_v
   5617  90a3		       c9 80		      cmp	#128
   5618  90a5		       90 09		      bcc	.skipL0403
   5619  90a7				   .condpart135
   5620  90a7		       a9 00		      lda	#0
   5621  90a9		       38		      SEC
   5622  90aa		       ed 4f 01 	      SBC	temp_v
   5623  90ad		       8d 4f 01 	      sta	temp_v
   5624  90b0				   .skipL0403
   5625  90b0				   .L0404		;;line 739;;  if temp_v  >=  10 then goto skip_bul_ast
   5626  90b0
   5627  90b0		       ad 4f 01 	      lda	temp_v
   5628  90b3		       c9 0a		      cmp	#10
   5629  90b5		       90 03		      bcc	.skipL0404
   5630  90b7				   .condpart136
   5631  90b7		       4c fa 90 	      jmp	.skip_bul_ast
   5632  90ba				   .skipL0404
   5633  90ba				   .
   5634  90ba							;;line 740;;
   5635  90ba
   5636  90ba				   .
   5637  90ba							;;line 741;;
   5638  90ba
   5639  90ba				   .L0405		;;line 742;;  temp_v = bul_y[iter]  -	ay
   5640  90ba
   5641  90ba		       ae 51 01 	      LDX	iter
   5642  90bd		       bd 56 01 	      lda	bul_y,x
   5643  90c0		       38		      SEC
   5644  90c1		       ed 33 22 	      SBC	ay
   5645  90c4		       8d 4f 01 	      sta	temp_v
   5646  90c7				   .L0406		;;line 743;;  temp_v = temp_v	-  8
   5647  90c7
   5648  90c7		       ad 4f 01 	      lda	temp_v
   5649  90ca		       38		      SEC
   5650  90cb		       e9 08		      SBC	#8
   5651  90cd		       8d 4f 01 	      sta	temp_v
   5652  90d0				   .L0407		;;line 744;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5653  90d0
   5654  90d0		       ad 4f 01 	      lda	temp_v
   5655  90d3		       c9 80		      cmp	#128
   5656  90d5		       90 09		      bcc	.skipL0407
   5657  90d7				   .condpart137
   5658  90d7		       a9 00		      lda	#0
   5659  90d9		       38		      SEC
   5660  90da		       ed 4f 01 	      SBC	temp_v
   5661  90dd		       8d 4f 01 	      sta	temp_v
   5662  90e0				   .skipL0407
   5663  90e0				   .L0408		;;line 745;;  if temp_v  >=  10 then goto skip_bul_ast
   5664  90e0
   5665  90e0		       ad 4f 01 	      lda	temp_v
   5666  90e3		       c9 0a		      cmp	#10
   5667  90e5		       90 03		      bcc	.skipL0408
   5668  90e7				   .condpart138
   5669  90e7		       4c fa 90 	      jmp	.skip_bul_ast
   5670  90ea				   .skipL0408
   5671  90ea				   .
   5672  90ea							;;line 746;;
   5673  90ea
   5674  90ea				   .
   5675  90ea							;;line 747;;
   5676  90ea
   5677  90ea				   .L0409		;;line 748;;  blife[iter] = 0
   5678  90ea
   5679  90ea		       a9 00		      lda	#0
   5680  90ec		       ae 51 01 	      LDX	iter
   5681  90ef		       9d 62 01 	      sta	blife,x
   5682  90f2				   .L0410		;;line 749;;  alife = 0
   5683  90f2
   5684  90f2		       a9 00		      lda	#0
   5685  90f4		       8d 36 22 	      sta	alife
   5686  90f7				   .
   5687  90f7							;;line 750;;
   5688  90f7
   5689  90f7				   .L0411		;;line 751;;  goto coll_done
   5690  90f7
   5691  90f7		       4c d8 91 	      jmp	.coll_done
   5692  90fa				   .
   5693  90fa							;;line 752;;
   5694  90fa
   5695  90fa				   .skip_bul_ast
   5696  90fa							;;line 753;; skip_bul_ast
   5697  90fa
   5698  90fa				   .L0412		;;line 754;;  next
   5699  90fa
   5700  90fa		       ad 51 01 	      lda	iter
   5701  90fd		       c9 03		      cmp	#3
   5702  90ff		       ee 51 01 	      inc	iter
   5703  9102				  -	      if	((* - .L0399foriter) < 127) && ((* - .L0399foriter) > -128)
   5704  9102				  -	      bcc	.L0399foriter
   5705  9102					      else
   5706  9102		       b0 03		      bcs	.9skipL0399foriter
   5707  9104		       4c 7d 90 	      jmp	.L0399foriter
   5708  9107				   .9skipL0399foriter
   5709  9107					      endif
   5710  9107				   .
   5711  9107							;;line 755;;
   5712  9107
   5713  9107				   .
   5714  9107							;;line 756;;
   5715  9107
   5716  9107				   .
   5717  9107							;;line 757;;
   5718  9107
   5719  9107				   .
   5720  9107							;;line 758;;
   5721  9107
   5722  9107				   .L0413		;;line 759;;  temp_v = px  -  ax
   5723  9107
   5724  9107		       ad 40 01 	      lda	px
   5725  910a		       38		      SEC
   5726  910b		       ed 32 22 	      SBC	ax
   5727  910e		       8d 4f 01 	      sta	temp_v
   5728  9111				   .L0414		;;line 760;;  temp_v = temp_v	-  16
   5729  9111
   5730  9111		       ad 4f 01 	      lda	temp_v
   5731  9114		       38		      SEC
   5732  9115		       e9 10		      SBC	#16
   5733  9117		       8d 4f 01 	      sta	temp_v
   5734  911a				   .L0415		;;line 761;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5735  911a
   5736  911a		       ad 4f 01 	      lda	temp_v
   5737  911d		       c9 80		      cmp	#128
   5738  911f		       90 09		      bcc	.skipL0415
   5739  9121				   .condpart139
   5740  9121		       a9 00		      lda	#0
   5741  9123		       38		      SEC
   5742  9124		       ed 4f 01 	      SBC	temp_v
   5743  9127		       8d 4f 01 	      sta	temp_v
   5744  912a				   .skipL0415
   5745  912a				   .L0416		;;line 762;;  if temp_v  >=  20 then goto coll_done
   5746  912a
   5747  912a		       ad 4f 01 	      lda	temp_v
   5748  912d		       c9 14		      cmp	#20
   5749  912f		       90 03		      bcc	.skipL0416
   5750  9131				   .condpart140
   5751  9131		       4c d8 91 	      jmp	.coll_done
   5752  9134				   .skipL0416
   5753  9134				   .
   5754  9134							;;line 763;;
   5755  9134
   5756  9134				   .L0417		;;line 764;;  temp_v = py  -  ay
   5757  9134
   5758  9134		       ad 41 01 	      lda	py
   5759  9137		       38		      SEC
   5760  9138		       ed 33 22 	      SBC	ay
   5761  913b		       8d 4f 01 	      sta	temp_v
   5762  913e				   .L0418		;;line 765;;  temp_v = temp_v	-  32
   5763  913e
   5764  913e		       ad 4f 01 	      lda	temp_v
   5765  9141		       38		      SEC
   5766  9142		       e9 20		      SBC	#32
   5767  9144		       8d 4f 01 	      sta	temp_v
   5768  9147				   .L0419		;;line 766;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5769  9147
   5770  9147		       ad 4f 01 	      lda	temp_v
   5771  914a		       c9 80		      cmp	#128
   5772  914c		       90 09		      bcc	.skipL0419
   5773  914e				   .condpart141
   5774  914e		       a9 00		      lda	#0
   5775  9150		       38		      SEC
   5776  9151		       ed 4f 01 	      SBC	temp_v
   5777  9154		       8d 4f 01 	      sta	temp_v
   5778  9157				   .skipL0419
   5779  9157				   .L0420		;;line 767;;  if temp_v  >=  28 then goto coll_done
   5780  9157
   5781  9157		       ad 4f 01 	      lda	temp_v
   5782  915a		       c9 1c		      cmp	#28
   5783  915c		       90 03		      bcc	.skipL0420
   5784  915e				   .condpart142
   5785  915e		       4c d8 91 	      jmp	.coll_done
   5786  9161				   .skipL0420
   5787  9161				   .
   5788  9161							;;line 768;;
   5789  9161
   5790  9161				   .
   5791  9161							;;line 769;;
   5792  9161
   5793  9161				   .L0421		;;line 770;;  alife = 0
   5794  9161
   5795  9161		       a9 00		      lda	#0
   5796  9163		       8d 36 22 	      sta	alife
   5797  9166				   .
   5798  9166							;;line 771;;
   5799  9166
   5800  9166				   .
   5801  9166							;;line 772;;
   5802  9166
   5803  9166				   .check_player_ebul
   5804  9166							;;line 773;; check_player_ebul
   5805  9166
   5806  9166				   .
   5807  9166							;;line 774;;
   5808  9166
   5809  9166				   .L0422		;;line 775;;  for iter = 0 to 3
   5810  9166
   5811  9166		       a9 00		      lda	#0
   5812  9168		       8d 51 01 	      sta	iter
   5813  916b				   .L0422foriter
   5814  916b				   .L0423		;;line 776;;  if eblife[iter] = 0 then goto skip_ebul_coll
   5815  916b
   5816  916b		       ae 51 01 	      LDX	iter
   5817  916e		       bd 40 22 	      lda	eblife,x
   5818  9171		       c9 00		      cmp	#0
   5819  9173		       d0 03		      bne	.skipL0423
   5820  9175				   .condpart143
   5821  9175		       4c ce 91 	      jmp	.skip_ebul_coll
   5822  9178				   .skipL0423
   5823  9178				   .
   5824  9178							;;line 777;;
   5825  9178
   5826  9178				   .
   5827  9178							;;line 778;;
   5828  9178
   5829  9178				   .L0424		;;line 779;;  temp_v = ebul_x[iter]  -  px
   5830  9178
   5831  9178		       ae 51 01 	      LDX	iter
   5832  917b		       bd 7c 01 	      lda	ebul_x,x
   5833  917e		       38		      SEC
   5834  917f		       ed 40 01 	      SBC	px
   5835  9182		       8d 4f 01 	      sta	temp_v
   5836  9185				   .L0425		;;line 780;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5837  9185
   5838  9185		       ad 4f 01 	      lda	temp_v
   5839  9188		       c9 80		      cmp	#128
   5840  918a		       90 09		      bcc	.skipL0425
   5841  918c				   .condpart144
   5842  918c		       a9 00		      lda	#0
   5843  918e		       38		      SEC
   5844  918f		       ed 4f 01 	      SBC	temp_v
   5845  9192		       8d 4f 01 	      sta	temp_v
   5846  9195				   .skipL0425
   5847  9195				   .L0426		;;line 781;;  if temp_v  >=  6 then goto skip_ebul_coll
   5848  9195
   5849  9195		       ad 4f 01 	      lda	temp_v
   5850  9198		       c9 06		      cmp	#6
   5851  919a		       90 03		      bcc	.skipL0426
   5852  919c				   .condpart145
   5853  919c		       4c ce 91 	      jmp	.skip_ebul_coll
   5854  919f				   .skipL0426
   5855  919f				   .
   5856  919f							;;line 782;;
   5857  919f
   5858  919f				   .
   5859  919f							;;line 783;;
   5860  919f
   5861  919f				   .L0427		;;line 784;;  temp_v = ebul_y[iter]  -  py
   5862  919f
   5863  919f		       ae 51 01 	      LDX	iter
   5864  91a2		       bd 80 01 	      lda	ebul_y,x
   5865  91a5		       38		      SEC
   5866  91a6		       ed 41 01 	      SBC	py
   5867  91a9		       8d 4f 01 	      sta	temp_v
   5868  91ac				   .L0428		;;line 785;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5869  91ac
   5870  91ac		       ad 4f 01 	      lda	temp_v
   5871  91af		       c9 80		      cmp	#128
   5872  91b1		       90 09		      bcc	.skipL0428
   5873  91b3				   .condpart146
   5874  91b3		       a9 00		      lda	#0
   5875  91b5		       38		      SEC
   5876  91b6		       ed 4f 01 	      SBC	temp_v
   5877  91b9		       8d 4f 01 	      sta	temp_v
   5878  91bc				   .skipL0428
   5879  91bc				   .L0429		;;line 786;;  if temp_v  >=  6 then goto skip_ebul_coll
   5880  91bc
   5881  91bc		       ad 4f 01 	      lda	temp_v
   5882  91bf		       c9 06		      cmp	#6
   5883  91c1		       90 03		      bcc	.skipL0429
   5884  91c3				   .condpart147
   5885  91c3		       4c ce 91 	      jmp	.skip_ebul_coll
   5886  91c6				   .skipL0429
   5887  91c6				   .
   5888  91c6							;;line 787;;
   5889  91c6
   5890  91c6				   .
   5891  91c6							;;line 788;;
   5892  91c6
   5893  91c6				   .L0430		;;line 789;;  eblife[iter] = 0
   5894  91c6
   5895  91c6		       a9 00		      lda	#0
   5896  91c8		       ae 51 01 	      LDX	iter
   5897  91cb		       9d 40 22 	      sta	eblife,x
   5898  91ce				   .
   5899  91ce							;;line 790;;
   5900  91ce
   5901  91ce				   .
   5902  91ce							;;line 791;;
   5903  91ce
   5904  91ce				   .skip_ebul_coll
   5905  91ce							;;line 792;; skip_ebul_coll
   5906  91ce
   5907  91ce				   .L0431		;;line 793;;  next
   5908  91ce
   5909  91ce		       ad 51 01 	      lda	iter
   5910  91d1		       c9 03		      cmp	#3
   5911  91d3		       ee 51 01 	      inc	iter
   5912  91d6					      if	((* - .L0422foriter) < 127) && ((* - .L0422foriter) > -128)
   5913  91d6		       90 93		      bcc	.L0422foriter
   5914  91d8				  -	      else
   5915  91d8				  -	      bcs	.10skipL0422foriter
   5916  91d8				  -	      jmp	.L0422foriter
   5917  91d8				  -.10skipL0422foriter
   5918  91d8					      endif
   5919  91d8				   .
   5920  91d8							;;line 794;;
   5921  91d8
   5922  91d8				   .coll_done
   5923  91d8							;;line 795;; coll_done
   5924  91d8
   5925  91d8				   .L0432		;;line 796;;  return
   5926  91d8
   5927  91d8		       60		      rts
   5928  91d9				   .
   5929  91d9							;;line 797;;
   5930  91d9
   5931  91d9				   .init_stars
   5932  91d9							;;line 798;; init_stars
   5933  91d9
   5934  91d9				   .L0433		;;line 799;;  for iter = 0 to 19
   5935  91d9
   5936  91d9		       a9 00		      lda	#0
   5937  91db		       8d 51 01 	      sta	iter
   5938  91de				   .L0433foriter
   5939  91de				   .
   5940  91de							;;line 800;;
   5941  91de
   5942  91de				   .L0434		;;line 801;;  rand_val = frame  &  127  :  temp_v = rand_val
   5943  91de
   5944  91de		       ad 4d 01 	      lda	frame
   5945  91e1		       29 7f		      AND	#127
   5946  91e3		       8d 30 22 	      sta	rand_val
   5947  91e6		       20 c4 f3 	      jsr	randomize
   5948  91e9		       8d 4f 01 	      sta	temp_v
   5949  91ec				   .L0435		;;line 802;;  rand_val = frame  &  32	:  temp_v = temp_v  +  rand_val
   5950  91ec
   5951  91ec		       ad 4d 01 	      lda	frame
   5952  91ef		       29 20		      AND	#32
   5953  91f1		       8d 30 22 	      sta	rand_val
   5954  91f4		       ad 4f 01 	      lda	temp_v
   5955  91f7		       18		      CLC
   5956  91f8		       6d 30 22 	      ADC	rand_val
   5957  91fb		       8d 4f 01 	      sta	temp_v
   5958  91fe				   .L0436		;;line 803;;  if temp_v  >  159 then temp_v = 159
   5959  91fe
   5960  91fe		       a9 9f		      lda	#159
   5961  9200		       cd 4f 01 	      cmp	temp_v
   5962  9203		       b0 05		      bcs	.skipL0436
   5963  9205				   .condpart148
   5964  9205		       a9 9f		      lda	#159
   5965  9207		       8d 4f 01 	      sta	temp_v
   5966  920a				   .skipL0436
   5967  920a				   .L0437		;;line 804;;  star_x[iter] = temp_v
   5968  920a
   5969  920a		       ad 4f 01 	      lda	temp_v
   5970  920d		       ae 51 01 	      LDX	iter
   5971  9210		       9d 90 01 	      sta	star_x,x
   5972  9213				   .
   5973  9213							;;line 805;;
   5974  9213
   5975  9213				   .
   5976  9213							;;line 806;;
   5977  9213
   5978  9213				   .L0438		;;line 807;;  rand_val = frame  &  127
   5979  9213
   5980  9213		       ad 4d 01 	      lda	frame
   5981  9216		       29 7f		      AND	#127
   5982  9218		       8d 30 22 	      sta	rand_val
   5983  921b				   .L0439		;;line 808;;  rand_val = rand_val  +  50
   5984  921b
   5985  921b		       20 c4 f3 	      jsr	randomize
   5986  921e		       18		      CLC
   5987  921f		       69 32		      ADC	#50
   5988  9221		       8d 30 22 	      sta	rand_val
   5989  9224				   .L0440		;;line 809;;  if rand_val  >  180 then rand_val = rand_val  -	100
   5990  9224
   5991  9224		       a9 b4		      lda	#180
   5992  9226		       cd 30 22 	      cmp	rand_val
   5993  9229		       b0 09		      bcs	.skipL0440
   5994  922b				   .condpart149
   5995  922b		       20 c4 f3 	      jsr	randomize
   5996  922e		       38		      SEC
   5997  922f		       e9 64		      SBC	#100
   5998  9231		       8d 30 22 	      sta	rand_val
   5999  9234				   .skipL0440
   6000  9234				   .L0441		;;line 810;;  star_y[iter] = rand_val
   6001  9234
   6002  9234		       20 c4 f3 	      jsr	randomize
   6003  9237		       ae 51 01 	      LDX	iter
   6004  923a		       9d 00 22 	      sta	star_y,x
   6005  923d				   .
   6006  923d							;;line 811;;
   6007  923d
   6008  923d				   .
   6009  923d							;;line 812;;
   6010  923d
   6011  923d				   .L0442		;;line 813;;  rand_val = frame  &  3
   6012  923d
   6013  923d		       ad 4d 01 	      lda	frame
   6014  9240		       29 03		      AND	#3
   6015  9242		       8d 30 22 	      sta	rand_val
   6016  9245				   .L0443		;;line 814;;  if rand_val = 0 then rand_val = 1
   6017  9245
   6018  9245		       ad 30 22 	      lda	rand_val
   6019  9248		       c9 00		      cmp	#0
   6020  924a		       d0 05		      bne	.skipL0443
   6021  924c				   .condpart150
   6022  924c		       a9 01		      lda	#1
   6023  924e		       8d 30 22 	      sta	rand_val
   6024  9251				   .skipL0443
   6025  9251				   .L0444		;;line 815;;  star_c[iter] = rand_val
   6026  9251
   6027  9251		       20 c4 f3 	      jsr	randomize
   6028  9254		       ae 51 01 	      LDX	iter
   6029  9257		       9d 14 22 	      sta	star_c,x
   6030  925a				   .
   6031  925a							;;line 816;;
   6032  925a
   6033  925a				   .
   6034  925a							;;line 817;;
   6035  925a
   6036  925a				   .L0445		;;line 818;;  frame = frame  +  1
   6037  925a
   6038  925a		       ad 4d 01 	      lda	frame
   6039  925d		       18		      CLC
   6040  925e		       69 01		      ADC	#1
   6041  9260		       8d 4d 01 	      sta	frame
   6042  9263				   .L0446		;;line 819;;  next
   6043  9263
   6044  9263		       ad 51 01 	      lda	iter
   6045  9266		       c9 13		      cmp	#19
   6046  9268		       ee 51 01 	      inc	iter
   6047  926b				  -	      if	((* - .L0433foriter) < 127) && ((* - .L0433foriter) > -128)
   6048  926b				  -	      bcc	.L0433foriter
   6049  926b					      else
   6050  926b		       b0 03		      bcs	.11skipL0433foriter
   6051  926d		       4c de 91 	      jmp	.L0433foriter
   6052  9270				   .11skipL0433foriter
   6053  9270					      endif
   6054  9270				   .L0447		;;line 820;;  return
   6055  9270
   6056  9270		       60		      rts
   6057  9271				   .
   6058  9271							;;line 821;;
   6059  9271
   6060  9271				   .draw_stars
   6061  9271							;;line 822;; draw_stars
   6062  9271
   6063  9271				   .L0448		;;line 823;;  for iter = 0 to 19
   6064  9271
   6065  9271		       a9 00		      lda	#0
   6066  9273		       8d 51 01 	      sta	iter
   6067  9276				   .L0448foriter
   6068  9276				   .
   6069  9276							;;line 824;;
   6070  9276
   6071  9276				   .L0449		;;line 825;;  temp_v = star_x[iter]  -  cam_x
   6072  9276
   6073  9276		       ae 51 01 	      LDX	iter
   6074  9279		       bd 90 01 	      lda	star_x,x
   6075  927c		       38		      SEC
   6076  927d		       ed 48 22 	      SBC	cam_x
   6077  9280		       8d 4f 01 	      sta	temp_v
   6078  9283				   .
   6079  9283							;;line 826;;
   6080  9283
   6081  9283				   .L0450		;;line 827;;  temp_w = star_y[iter]  -  cam_y
   6082  9283
   6083  9283		       ae 51 01 	      LDX	iter
   6084  9286		       bd 00 22 	      lda	star_y,x
   6085  9289		       38		      SEC
   6086  928a		       ed 4a 22 	      SBC	cam_y
   6087  928d		       8d 87 01 	      sta	temp_w
   6088  9290				   .
   6089  9290							;;line 828;;
   6090  9290
   6091  9290				   .
   6092  9290							;;line 829;;
   6093  9290
   6094  9290				   .L0451		;;line 830;;  plotsprite bullet_conv 4 temp_v temp_w
   6095  9290
   6096  9290		       a9 40		      lda	#<bullet_conv
   6097  9292		       85 42		      sta	temp1
   6098  9294
   6099  9294		       a9 e0		      lda	#>bullet_conv
   6100  9296		       85 43		      sta	temp2
   6101  9298
   6102  9298		       a9 9c		      lda	#(128|bullet_conv_width_twoscompliment)
   6103  929a		       85 44		      sta	temp3
   6104  929c
   6105  929c		       ad 4f 01 	      lda	temp_v
   6106  929f		       85 45		      sta	temp4
   6107  92a1
   6108  92a1		       ad 87 01 	      lda	temp_w
   6109  92a4
   6110  92a4		       85 46		      sta	temp5
   6111  92a6
   6112  92a6		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   6113  92a8		       85 47		      sta	temp6
   6114  92aa
   6115  92aa		       20 e3 f2 	      jsr	plotsprite
   6116  92ad				   .L0452		;;line 831;;  next
   6117  92ad
   6118  92ad		       ad 51 01 	      lda	iter
   6119  92b0		       c9 13		      cmp	#19
   6120  92b2		       ee 51 01 	      inc	iter
   6121  92b5					      if	((* - .L0448foriter) < 127) && ((* - .L0448foriter) > -128)
   6122  92b5		       90 bf		      bcc	.L0448foriter
   6123  92b7				  -	      else
   6124  92b7				  -	      bcs	.12skipL0448foriter
   6125  92b7				  -	      jmp	.L0448foriter
   6126  92b7				  -.12skipL0448foriter
   6127  92b7					      endif
   6128  92b7				   .L0453		;;line 832;;  return
   6129  92b7
   6130  92b7		       60		      rts
   6131  92b8				   .
   6132  92b8							;;line 833;;
   6133  92b8
   6134  92b8				   .L0454		;;line 834;;  dim sc1 = var140
   6135  92b8
   6136  92b8				   .L0455		;;line 835;;  dim sc2 = var141
   6137  92b8
   6138  92b8				   .L0456		;;line 836;;  dim sc3 = var142
   6139  92b8
   6140  92b8				   .L0457		;;line 837;;  dim cycle_state = var143
   6141  92b8
   6142  92b8				   .
   6143  92b8							;;line 838;;
   6144  92b8
   6145  92b8				   ....
   6146  92b8							;;line 839;; ...
   6147  92b8
   6148  92b8				   .
   6149  92b8							;;line 840;;
   6150  92b8
   6151  92b8				   .cycle_stars
   6152  92b8							;;line 841;; cycle_stars
   6153  92b8
   6154  92b8				   .
   6155  92b8							;;line 842;;
   6156  92b8
   6157  92b8				   .L0458		;;line 843;;  if  ( frame  &  7 )   >	0 then return
   6158  92b8
   6159  92b8							; complex condition detected
   6160  92b8							; complex statement detected
   6161  92b8		       ad 4d 01 	      lda	frame
   6162  92bb		       29 07		      AND	#7
   6163  92bd		       48		      pha
   6164  92be		       ba		      tsx
   6165  92bf		       68		      pla
   6166  92c0		       a9 00		      lda	#0
   6167  92c2		       dd 01 01 	      cmp	$101,x
   6168  92c5		       b0 01		      bcs	.skipL0458
   6169  92c7				   .condpart151
   6170  92c7		       60		      rts
   6171  92c8				   .skipL0458
   6172  92c8				   .
   6173  92c8							;;line 844;;
   6174  92c8
   6175  92c8				   .L0459		;;line 845;;  cycle_state = cycle_state  +  1
   6176  92c8
   6177  92c8		       ad 2b 22 	      lda	cycle_state
   6178  92cb		       18		      CLC
   6179  92cc		       69 01		      ADC	#1
   6180  92ce		       8d 2b 22 	      sta	cycle_state
   6181  92d1				   .L0460		;;line 846;;  if cycle_state  >  2 then cycle_state = 0
   6182  92d1
   6183  92d1		       a9 02		      lda	#2
   6184  92d3		       cd 2b 22 	      cmp	cycle_state
   6185  92d6		       b0 05		      bcs	.skipL0460
   6186  92d8				   .condpart152
   6187  92d8		       a9 00		      lda	#0
   6188  92da		       8d 2b 22 	      sta	cycle_state
   6189  92dd				   .skipL0460
   6190  92dd				   .
   6191  92dd							;;line 847;;
   6192  92dd
   6193  92dd				   .L0461		;;line 848;;  if cycle_state = 0 then P4C1 = $08 :  P4C2 = $0C :  P4C3 = $0F
   6194  92dd
   6195  92dd		       ad 2b 22 	      lda	cycle_state
   6196  92e0		       c9 00		      cmp	#0
   6197  92e2		       d0 0c		      bne	.skipL0461
   6198  92e4				   .condpart153
   6199  92e4		       a9 08		      lda	#$08
   6200  92e6		       85 31		      sta	P4C1
   6201  92e8		       a9 0c		      lda	#$0C
   6202  92ea		       85 32		      sta	P4C2
   6203  92ec		       a9 0f		      lda	#$0F
   6204  92ee		       85 33		      sta	P4C3
   6205  92f0				   .skipL0461
   6206  92f0				   .L0462		;;line 849;;  if cycle_state = 1 then P4C1 = $0C :  P4C2 = $0F :  P4C3 = $08
   6207  92f0
   6208  92f0		       ad 2b 22 	      lda	cycle_state
   6209  92f3		       c9 01		      cmp	#1
   6210  92f5		       d0 0c		      bne	.skipL0462
   6211  92f7				   .condpart154
   6212  92f7		       a9 0c		      lda	#$0C
   6213  92f9		       85 31		      sta	P4C1
   6214  92fb		       a9 0f		      lda	#$0F
   6215  92fd		       85 32		      sta	P4C2
   6216  92ff		       a9 08		      lda	#$08
   6217  9301		       85 33		      sta	P4C3
   6218  9303				   .skipL0462
   6219  9303				   .L0463		;;line 850;;  if cycle_state = 2 then P4C1 = $0F :  P4C2 = $08 :  P4C3 = $0C
   6220  9303
   6221  9303		       ad 2b 22 	      lda	cycle_state
   6222  9306		       c9 02		      cmp	#2
   6223  9308		       d0 0c		      bne	.skipL0463
   6224  930a				   .condpart155
   6225  930a		       a9 0f		      lda	#$0F
   6226  930c		       85 31		      sta	P4C1
   6227  930e		       a9 08		      lda	#$08
   6228  9310		       85 32		      sta	P4C2
   6229  9312		       a9 0c		      lda	#$0C
   6230  9314		       85 33		      sta	P4C3
   6231  9316				   .skipL0463
   6232  9316				   .L0464		;;line 851;;  return
   6233  9316
   6234  9316		       60		      rts
   6235  9317				   .
   6236  9317							;;line 852;;
   6237  9317
   6238  9317				   .update_camera
   6239  9317							;;line 853;; update_camera
   6240  9317
   6241  9317				   .
   6242  9317							;;line 854;;
   6243  9317
   6244  9317				   .
   6245  9317							;;line 855;;
   6246  9317
   6247  9317				   .
   6248  9317							;;line 856;;
   6249  9317
   6250  9317				   .L0465		;;line 857;;  temp_v = px
   6251  9317
   6252  9317		       ad 40 01 	      lda	px
   6253  931a		       8d 4f 01 	      sta	temp_v
   6254  931d				   .L0466		;;line 858;;  cam_x = px  -  80
   6255  931d
   6256  931d		       ad 40 01 	      lda	px
   6257  9320		       38		      SEC
   6258  9321		       e9 50		      SBC	#80
   6259  9323		       8d 48 22 	      sta	cam_x
   6260  9326				   .L0467		;;line 859;;  cam_x_hi = px_hi
   6261  9326
   6262  9326		       ad 46 22 	      lda	px_hi
   6263  9329		       8d 49 22 	      sta	cam_x_hi
   6264  932c				   .L0468		;;line 860;;  if cam_x  >  temp_v then cam_x_hi = cam_x_hi  -	1
   6265  932c
   6266  932c		       ad 4f 01 	      lda	temp_v
   6267  932f		       cd 48 22 	      cmp	cam_x
   6268  9332		       b0 09		      bcs	.skipL0468
   6269  9334				   .condpart156
   6270  9334		       ad 49 22 	      lda	cam_x_hi
   6271  9337		       38		      SEC
   6272  9338		       e9 01		      SBC	#1
   6273  933a		       8d 49 22 	      sta	cam_x_hi
   6274  933d				   .skipL0468
   6275  933d				   .
   6276  933d							;;line 861;;
   6277  933d
   6278  933d				   .
   6279  933d							;;line 862;;
   6280  933d
   6281  933d				   .L0469		;;line 863;;  if cam_x_hi = 255 then cam_x_hi = 3
   6282  933d
   6283  933d		       ad 49 22 	      lda	cam_x_hi
   6284  9340		       c9 ff		      cmp	#255
   6285  9342		       d0 05		      bne	.skipL0469
   6286  9344				   .condpart157
   6287  9344		       a9 03		      lda	#3
   6288  9346		       8d 49 22 	      sta	cam_x_hi
   6289  9349				   .skipL0469
   6290  9349				   .L0470		;;line 864;;  if cam_x_hi  >=	4 then cam_x_hi = 0
   6291  9349
   6292  9349		       ad 49 22 	      lda	cam_x_hi
   6293  934c		       c9 04		      cmp	#4
   6294  934e		       90 05		      bcc	.skipL0470
   6295  9350				   .condpart158
   6296  9350		       a9 00		      lda	#0
   6297  9352		       8d 49 22 	      sta	cam_x_hi
   6298  9355				   .skipL0470
   6299  9355				   .
   6300  9355							;;line 865;;
   6301  9355
   6302  9355				   .
   6303  9355							;;line 866;;
   6304  9355
   6305  9355				   .L0471		;;line 867;;  temp_v = py
   6306  9355
   6307  9355		       ad 41 01 	      lda	py
   6308  9358		       8d 4f 01 	      sta	temp_v
   6309  935b				   .L0472		;;line 868;;  cam_y = py  -  90
   6310  935b
   6311  935b		       ad 41 01 	      lda	py
   6312  935e		       38		      SEC
   6313  935f		       e9 5a		      SBC	#90
   6314  9361		       8d 4a 22 	      sta	cam_y
   6315  9364				   .L0473		;;line 869;;  cam_y_hi = py_hi
   6316  9364
   6317  9364		       ad 47 22 	      lda	py_hi
   6318  9367		       8d 4b 22 	      sta	cam_y_hi
   6319  936a				   .L0474		;;line 870;;  if cam_y  >  temp_v then cam_y_hi = cam_y_hi  -	1
   6320  936a
   6321  936a		       ad 4f 01 	      lda	temp_v
   6322  936d		       cd 4a 22 	      cmp	cam_y
   6323  9370		       b0 09		      bcs	.skipL0474
   6324  9372				   .condpart159
   6325  9372		       ad 4b 22 	      lda	cam_y_hi
   6326  9375		       38		      SEC
   6327  9376		       e9 01		      SBC	#1
   6328  9378		       8d 4b 22 	      sta	cam_y_hi
   6329  937b				   .skipL0474
   6330  937b				   .
   6331  937b							;;line 871;;
   6332  937b
   6333  937b				   .
   6334  937b							;;line 872;;
   6335  937b
   6336  937b				   .L0475		;;line 873;;  if cam_y_hi = 255 then cam_y_hi = 3
   6337  937b
   6338  937b		       ad 4b 22 	      lda	cam_y_hi
   6339  937e		       c9 ff		      cmp	#255
   6340  9380		       d0 05		      bne	.skipL0475
   6341  9382				   .condpart160
   6342  9382		       a9 03		      lda	#3
   6343  9384		       8d 4b 22 	      sta	cam_y_hi
   6344  9387				   .skipL0475
   6345  9387				   .L0476		;;line 874;;  if cam_y_hi  >=	4 then cam_y_hi = 0
   6346  9387
   6347  9387		       ad 4b 22 	      lda	cam_y_hi
   6348  938a		       c9 04		      cmp	#4
   6349  938c		       90 05		      bcc	.skipL0476
   6350  938e				   .condpart161
   6351  938e		       a9 00		      lda	#0
   6352  9390		       8d 4b 22 	      sta	cam_y_hi
   6353  9393				   .skipL0476
   6354  9393				   .
   6355  9393							;;line 875;;
   6356  9393
   6357  9393				   .L0477		;;line 876;;  return
   6358  9393
   6359  9393		       60		      rts
   6360  9394				   .
   6361  9394							;;line 877;;
   6362  9394
   6363  9394				   .
   6364  9394							;;line 878;;
   6365  9394
   6366  9394				   .
   6367  9394							;;line 879;;
   6368  9394
   6369  9394				   .
   6370  9394							;;line 880;;
   6371  9394
   6372  9394				   .
   6373  9394							;;line 881;;
   6374  9394
   6375  9394				   .
   6376  9394							;;line 882;;
   6377  9394
   6378  9394				   .
   6379  9394							;;line 883;;
   6380  9394
   6381  9394				   .L0478		;;line 884;;  return
   6382  9394
   6383  9394		       60		      rts
   6384  9395				   .
   6385  9395							;;line 885;;
   6386  9395
   6387  9395				   .
   6388  9395							;;line 886;;
   6389  9395
   6390  9395				   .
   6391  9395							;;line 887;;
   6392  9395
   6393  9395				   .L0479		;;line 888;;  data sin_table
   6394  9395
   6395  9395		       4c a8 93 	      jmp	.skipL0479
   6396  9398				   sin_table
   6397  9398		       00 02 04 06*	      .byte.b	0, 2, 4, 6, 6, 6, 4, 2, 0, 254, 252, 250, 250, 250, 252, 254
   6398  93a8
   6399  93a8				   .skipL0479
   6400  93a8		       00 10	   sin_table_length =	[. - sin_table]
   6401  93a8				   sin_table_lo SET	#<sin_table
   6402  93a8				   sin_table_hi SET	#>sin_table
   6403  93a8				   .
   6404  93a8							;;line 891;;
   6405  93a8
   6406  93a8				   .L0480		;;line 892;;  data cos_table
   6407  93a8
   6408  93a8		       4c bb 93 	      jmp	.skipL0480
   6409  93ab				   cos_table
   6410  93ab		       06 06 04 02*	      .byte.b	6, 6, 4, 2, 0, 254, 252, 250, 250, 250, 252, 254, 0, 2, 4, 6
   6411  93bb
   6412  93bb				   .skipL0480
   6413  93bb		       00 10	   cos_table_length =	[. - cos_table]
   6414  93bb				   cos_table_lo SET	#<cos_table
   6415  93bb				   cos_table_hi SET	#>cos_table
   6416  93bb				   .
   6417  93bb							;;line 895;;
   6418  93bb
   6419  93bb				   .L0481		;;line 896;;  data sfx_laser
   6420  93bb
   6421  93bb		       4c cd 93 	      jmp	.skipL0481
   6422  93be				   sfx_laser
   6423  93be		       10 01 04 	      .byte.b	16, 1, 4	; version, priority, frames per chunk
   6424  93c1
   6425  93c1		       18 02 06 	      .byte.b	$18,$02,$06	; freq, channel, volume
   6426  93c4
   6427  93c4		       15 02 06 	      .byte.b	$15,$02,$06
   6428  93c7
   6429  93c7		       12 02 06 	      .byte.b	$12,$02,$06
   6430  93ca
   6431  93ca		       00 00 00 	      .byte.b	$00,$00,$00
   6432  93cd
   6433  93cd				   .skipL0481
   6434  93cd		       00 0f	   sfx_laser_length =	[. - sfx_laser]
   6435  93cd				   sfx_laser_lo SET	#<sfx_laser
   6436  93cd				   sfx_laser_hi SET	#>sfx_laser
   6437  93cd				   DMAHOLEEND0 SET	.
   6438  93cd				   gameend
   6439  93cd				   DMAHOLEEND0 SET	.
   19507 bytes of ROM space left in the main area.
   6440  93cd					      echo	" ",[($E000 - gameend)]d , "bytes of ROM space left in the main area."
   6441  93cd				  -	      if	($E000 - gameend) < 0
   6442  93cd				  -SPACEOVERFLOW SET	(SPACEOVERFLOW+1)
   6443  93cd					      endif
   6444  93cd				  -	      if	START_OF_ROM = .	; avoid dasm empty start-rom truncation.
   6445  93cd				  -	      .byte	0
   6446  93cd					      endif
   6447  93cd				   START_OF_ROM SET	0	; scuttle so we always fail subsequent banks
   6448  93cd
   6449  e000					      ORG	$E000,0	; *************
   6450  e000
   6451  e000		       e0 00	   sprite_spaceship1 =	$E000
   6452  e000
   6453  e000				   sprite_spaceship1
   6454  e000		       00 00 00 00	      HEX	00000000
   6455  e000		       e0 04	   sprite_spaceship2 =	$E004
   6456  e004
   6457  e004				   sprite_spaceship2
   6458  e004		       00 00 00 00	      HEX	00000000
   6459  e004		       e0 08	   sprite_spaceship3 =	$E008
   6460  e008
   6461  e008				   sprite_spaceship3
   6462  e008		       00 00 00 00	      HEX	00000000
   6463  e008		       e0 0c	   sprite_spaceship4 =	$E00C
   6464  e00c
   6465  e00c				   sprite_spaceship4
   6466  e00c		       00 00 00 00	      HEX	00000000
   6467  e00c		       e0 10	   sprite_spaceship5 =	$E010
   6468  e010
   6469  e010				   sprite_spaceship5
   6470  e010		       00 0c 00 00	      HEX	000c0000
   6471  e010		       e0 14	   sprite_spaceship6 =	$E014
   6472  e014
   6473  e014				   sprite_spaceship6
   6474  e014		       00 00 00 00	      HEX	00000000
   6475  e014		       e0 18	   sprite_spaceship7 =	$E018
   6476  e018
   6477  e018				   sprite_spaceship7
   6478  e018		       00 00 00 00	      HEX	00000000
   6479  e018		       e0 1c	   sprite_spaceship8 =	$E01C
   6480  e01c
   6481  e01c				   sprite_spaceship8
   6482  e01c		       00 00 00 00	      HEX	00000000
   6483  e01c		       e0 20	   sprite_spaceship9 =	$E020
   6484  e020
   6485  e020				   sprite_spaceship9
   6486  e020		       00 00 00 00	      HEX	00000000
   6487  e020		       e0 24	   sprite_spaceship10 =	$E024
   6488  e024
   6489  e024				   sprite_spaceship10
   6490  e024		       00 00 00 00	      HEX	00000000
   6491  e024		       e0 28	   sprite_spaceship11 =	$E028
   6492  e028
   6493  e028				   sprite_spaceship11
   6494  e028		       00 00 00 00	      HEX	00000000
   6495  e028		       e0 2c	   sprite_spaceship12 =	$E02C
   6496  e02c
   6497  e02c				   sprite_spaceship12
   6498  e02c		       00 00 00 00	      HEX	00000000
   6499  e02c		       e0 30	   sprite_spaceship13 =	$E030
   6500  e030
   6501  e030				   sprite_spaceship13
   6502  e030		       00 00 30 00	      HEX	00003000
   6503  e030		       e0 34	   sprite_spaceship14 =	$E034
   6504  e034
   6505  e034				   sprite_spaceship14
   6506  e034		       00 00 c0 00	      HEX	0000c000
   6507  e034		       e0 38	   sprite_spaceship15 =	$E038
   6508  e038
   6509  e038				   sprite_spaceship15
   6510  e038		       00 00 00 00	      HEX	00000000
   6511  e038		       e0 3c	   sprite_spaceship16 =	$E03C
   6512  e03c
   6513  e03c				   sprite_spaceship16
   6514  e03c		       00 00 00 00	      HEX	00000000
   6515  e03c		       e0 40	   bullet_conv =	$E040
   6516  e040
   6517  e040				   bullet_conv
   6518  e040		       00 00 00 00	      HEX	00000000
   6519  e040		       e0 44	   fighter_conv =	$E044
   6520  e044
   6521  e044				   fighter_conv
   6522  e044		       00 00 00 00	      HEX	00000000
   6523  e044		       e0 48	   asteroid_L_conv =	$E048
   6524  e048
   6525  e048				   asteroid_L_conv
   6526  e048		       00 1a a5 55*	      HEX	001aa55555555400
   6527  e048		       e0 50	   asteroid_L_conv_tallsprite_00 =	$E050
   6528  e050
   6529  e050				   asteroid_L_conv_tallsprite_00
   6530  e050		       15 55 55 55*	      HEX	1555555555555554
   6531  e050		       e0 58	   asteroid_L_conv_tallsprite_01 =	$E058
   6532  e058
   6533  e058				   asteroid_L_conv_tallsprite_01
   6534  e058		       01 55 55 55*	      HEX	0155555555555540
   6535  e058		       e0 60	   asteroid_L_conv_tallsprite_02 =	$E060
   6536  e060
   6537  e060				   asteroid_L_conv_tallsprite_02
   6538  e060		       00 00 00 00*	      HEX	0000000000000000
   6539  e060		       e0 68	   asteroid_M_conv =	$E068
   6540  e068
   6541  e068				   asteroid_M_conv
   6542  e068		       55 aa 55 55	      HEX	55aa5555
   6543  e068		       e0 6c	   asteroid_M_conv_tallsprite_00 =	$E06C
   6544  e06c
   6545  e06c				   asteroid_M_conv_tallsprite_00
   6546  e06c		       00 15 55 00	      HEX	00155500
   6547  e070
   6548  e100					      ORG	$E100,0	; *************
   6549  e100
   6550  e100							;sprite_spaceship1
   6551  e100		       00 01 40 00	      HEX	00014000
   6552  e104							;sprite_spaceship2
   6553  e104		       00 00 00 00	      HEX	00000000
   6554  e108							;sprite_spaceship3
   6555  e108		       00 00 30 00	      HEX	00003000
   6556  e10c							;sprite_spaceship4
   6557  e10c		       00 03 00 00	      HEX	00030000
   6558  e110							;sprite_spaceship5
   6559  e110		       00 0c 00 00	      HEX	000c0000
   6560  e114							;sprite_spaceship6
   6561  e114		       00 00 00 00	      HEX	00000000
   6562  e118							;sprite_spaceship7
   6563  e118		       00 00 00 00	      HEX	00000000
   6564  e11c							;sprite_spaceship8
   6565  e11c		       00 00 00 00	      HEX	00000000
   6566  e120							;sprite_spaceship9
   6567  e120		       00 03 c0 00	      HEX	0003c000
   6568  e124							;sprite_spaceship10
   6569  e124		       00 00 00 00	      HEX	00000000
   6570  e128							;sprite_spaceship11
   6571  e128		       00 00 00 00	      HEX	00000000
   6572  e12c							;sprite_spaceship12
   6573  e12c		       00 00 00 00	      HEX	00000000
   6574  e130							;sprite_spaceship13
   6575  e130		       00 00 30 00	      HEX	00003000
   6576  e134							;sprite_spaceship14
   6577  e134		       00 00 c0 00	      HEX	0000c000
   6578  e138							;sprite_spaceship15
   6579  e138		       00 03 00 00	      HEX	00030000
   6580  e13c							;sprite_spaceship16
   6581  e13c		       00 00 d0 00	      HEX	0000d000
   6582  e140							;bullet_conv
   6583  e140		       00 00 00 00	      HEX	00000000
   6584  e144							;fighter_conv
   6585  e144		       00 00 00 00	      HEX	00000000
   6586  e148							;asteroid_L_conv
   6587  e148		       00 1a a5 55*	      HEX	001aa55555555400
   6588  e150							;asteroid_L_conv_tallsprite_00
   6589  e150		       15 55 55 55*	      HEX	1555555555555554
   6590  e158							;asteroid_L_conv_tallsprite_01
   6591  e158		       01 55 55 55*	      HEX	0155555555555540
   6592  e160							;asteroid_L_conv_tallsprite_02
   6593  e160		       00 00 00 00*	      HEX	0000000000000000
   6594  e168							;asteroid_M_conv
   6595  e168		       55 aa 55 55	      HEX	55aa5555
   6596  e16c							;asteroid_M_conv_tallsprite_00
   6597  e16c		       00 15 55 00	      HEX	00155500
   6598  e170
   6599  e200					      ORG	$E200,0	; *************
   6600  e200
   6601  e200							;sprite_spaceship1
   6602  e200		       00 0e b0 00	      HEX	000eb000
   6603  e204							;sprite_spaceship2
   6604  e204		       00 05 cc 00	      HEX	0005cc00
   6605  e208							;sprite_spaceship3
   6606  e208		       00 03 f0 00	      HEX	0003f000
   6607  e20c							;sprite_spaceship4
   6608  e20c		       00 03 00 00	      HEX	00030000
   6609  e210							;sprite_spaceship5
   6610  e210		       00 0f 00 00	      HEX	000f0000
   6611  e214							;sprite_spaceship6
   6612  e214		       00 30 00 00	      HEX	00300000
   6613  e218							;sprite_spaceship7
   6614  e218		       00 00 10 00	      HEX	00001000
   6615  e21c							;sprite_spaceship8
   6616  e21c		       00 00 f0 00	      HEX	0000f000
   6617  e220							;sprite_spaceship9
   6618  e220		       00 01 40 00	      HEX	00014000
   6619  e224							;sprite_spaceship10
   6620  e224		       00 03 00 00	      HEX	00030000
   6621  e228							;sprite_spaceship11
   6622  e228		       00 0c 00 00	      HEX	000c0000
   6623  e22c							;sprite_spaceship12
   6624  e22c		       00 00 0f 00	      HEX	00000f00
   6625  e230							;sprite_spaceship13
   6626  e230		       00 00 f0 00	      HEX	0000f000
   6627  e234							;sprite_spaceship14
   6628  e234		       00 00 c0 00	      HEX	0000c000
   6629  e238							;sprite_spaceship15
   6630  e238		       00 03 00 00	      HEX	00030000
   6631  e23c							;sprite_spaceship16
   6632  e23c		       00 0f a0 00	      HEX	000fa000
   6633  e240							;bullet_conv
   6634  e240		       00 00 00 00	      HEX	00000000
   6635  e244							;fighter_conv
   6636  e244		       00 00 00 00	      HEX	00000000
   6637  e248							;asteroid_L_conv
   6638  e248		       00 0a a5 55*	      HEX	000aa55555555400
   6639  e250							;asteroid_L_conv_tallsprite_00
   6640  e250		       15 55 55 55*	      HEX	1555555555555554
   6641  e258							;asteroid_L_conv_tallsprite_01
   6642  e258		       01 55 55 55*	      HEX	0155555555555550
   6643  e260							;asteroid_L_conv_tallsprite_02
   6644  e260		       00 00 00 05*	      HEX	0000000555500000
   6645  e268							;asteroid_M_conv
   6646  e268		       5a a5 55 55	      HEX	5aa55555
   6647  e26c							;asteroid_M_conv_tallsprite_00
   6648  e26c		       00 55 55 50	      HEX	00555550
   6649  e270
   6650  e300					      ORG	$E300,0	; *************
   6651  e300
   6652  e300							;sprite_spaceship1
   6653  e300		       00 0b e0 00	      HEX	000be000
   6654  e304							;sprite_spaceship2
   6655  e304		       00 0a bc 00	      HEX	000abc00
   6656  e308							;sprite_spaceship3
   6657  e308		       00 06 f0 00	      HEX	0006f000
   6658  e30c							;sprite_spaceship4
   6659  e30c		       00 0b 40 00	      HEX	000b4000
   6660  e310							;sprite_spaceship5
   6661  e310		       00 0f 00 00	      HEX	000f0000
   6662  e314							;sprite_spaceship6
   6663  e314		       00 3d 00 00	      HEX	003d0000
   6664  e318							;sprite_spaceship7
   6665  e318		       00 00 1c 00	      HEX	00001c00
   6666  e31c							;sprite_spaceship8
   6667  e31c		       00 00 50 00	      HEX	00005000
   6668  e320							;sprite_spaceship9
   6669  e320		       00 02 80 00	      HEX	00028000
   6670  e324							;sprite_spaceship10
   6671  e324		       00 01 80 00	      HEX	00018000
   6672  e328							;sprite_spaceship11
   6673  e328		       00 06 00 00	      HEX	00060000
   6674  e32c							;sprite_spaceship12
   6675  e32c		       00 00 1c 00	      HEX	00001c00
   6676  e330							;sprite_spaceship13
   6677  e330		       00 00 f0 00	      HEX	0000f000
   6678  e334							;sprite_spaceship14
   6679  e334		       00 00 fc 00	      HEX	0000fc00
   6680  e338							;sprite_spaceship15
   6681  e338		       00 03 e4 00	      HEX	0003e400
   6682  e33c							;sprite_spaceship16
   6683  e33c		       00 0f f8 00	      HEX	000ff800
   6684  e340							;bullet_conv
   6685  e340		       00 00 00 00	      HEX	00000000
   6686  e344							;fighter_conv
   6687  e344		       00 00 00 00	      HEX	00000000
   6688  e348							;asteroid_L_conv
   6689  e348		       00 0a a5 55*	      HEX	000aa55555555400
   6690  e350							;asteroid_L_conv_tallsprite_00
   6691  e350		       15 55 55 55*	      HEX	1555555555555554
   6692  e358							;asteroid_L_conv_tallsprite_01
   6693  e358		       01 55 55 55*	      HEX	0155555555555550
   6694  e360							;asteroid_L_conv_tallsprite_02
   6695  e360		       00 00 00 05*	      HEX	0000000555500000
   6696  e368							;asteroid_M_conv
   6697  e368		       5a a5 55 55	      HEX	5aa55555
   6698  e36c							;asteroid_M_conv_tallsprite_00
   6699  e36c		       00 55 55 50	      HEX	00555550
   6700  e370
   6701  e400					      ORG	$E400,0	; *************
   6702  e400
   6703  e400							;sprite_spaceship1
   6704  e400		       00 ff ff 00	      HEX	00ffff00
   6705  e404							;sprite_spaceship2
   6706  e404		       00 3b fc 00	      HEX	003bfc00
   6707  e408							;sprite_spaceship3
   6708  e408		       00 1b d0 00	      HEX	001bd000
   6709  e40c							;sprite_spaceship4
   6710  e40c		       00 0b 40 00	      HEX	000b4000
   6711  e410							;sprite_spaceship5
   6712  e410		       00 3f 40 00	      HEX	003f4000
   6713  e414							;sprite_spaceship6
   6714  e414		       00 3d 74 00	      HEX	003d7400
   6715  e418							;sprite_spaceship7
   6716  e418		       00 f5 64 00	      HEX	00f56400
   6717  e41c							;sprite_spaceship8
   6718  e41c		       00 00 a0 00	      HEX	0000a000
   6719  e420							;sprite_spaceship9
   6720  e420		       00 03 c0 00	      HEX	0003c000
   6721  e424							;sprite_spaceship10
   6722  e424		       00 02 c0 00	      HEX	0002c000
   6723  e428							;sprite_spaceship11
   6724  e428		       00 07 57 00	      HEX	00075700
   6725  e42c							;sprite_spaceship12
   6726  e42c		       00 38 7c 00	      HEX	00387c00
   6727  e430							;sprite_spaceship13
   6728  e430		       00 01 fc 00	      HEX	0001fc00
   6729  e434							;sprite_spaceship14
   6730  e434		       00 00 f8 00	      HEX	0000f800
   6731  e438							;sprite_spaceship15
   6732  e438		       00 03 f8 00	      HEX	0003f800
   6733  e43c							;sprite_spaceship16
   6734  e43c		       00 0f b8 00	      HEX	000fb800
   6735  e440							;bullet_conv
   6736  e440		       00 00 00 00	      HEX	00000000
   6737  e444							;fighter_conv
   6738  e444		       00 03 c0 00	      HEX	0003c000
   6739  e448							;asteroid_L_conv
   6740  e448		       00 02 95 b5*	      HEX	000295b555555000
   6741  e450							;asteroid_L_conv_tallsprite_00
   6742  e450		       15 55 56 55*	      HEX	1555565555555554
   6743  e458							;asteroid_L_conv_tallsprite_01
   6744  e458		       05 55 55 55*	      HEX	0555555555555554
   6745  e460							;asteroid_L_conv_tallsprite_02
   6746  e460		       00 00 05 55*	      HEX	0000055555540000
   6747  e468							;asteroid_M_conv
   6748  e468		       29 69 99 55	      HEX	29699955
   6749  e46c							;asteroid_M_conv_tallsprite_00
   6750  e46c		       05 55 55 54	      HEX	05555554
   6751  e470
   6752  e500					      ORG	$E500,0	; *************
   6753  e500
   6754  e500							;sprite_spaceship1
   6755  e500		       00 fe bf 00	      HEX	00febf00
   6756  e504							;sprite_spaceship2
   6757  e504		       00 2f f0 00	      HEX	002ff000
   6758  e508							;sprite_spaceship3
   6759  e508		       00 1f d0 00	      HEX	001fd000
   6760  e50c							;sprite_spaceship4
   6761  e50c		       00 1f c0 00	      HEX	001fc000
   6762  e510							;sprite_spaceship5
   6763  e510		       00 3f 40 00	      HEX	003f4000
   6764  e514							;sprite_spaceship6
   6765  e514		       00 3f 74 00	      HEX	003f7400
   6766  e518							;sprite_spaceship7
   6767  e518		       00 fd 70 00	      HEX	00fd7000
   6768  e51c							;sprite_spaceship8
   6769  e51c		       00 01 f0 00	      HEX	0001f000
   6770  e520							;sprite_spaceship9
   6771  e520		       00 01 40 00	      HEX	00014000
   6772  e524							;sprite_spaceship10
   6773  e524		       00 03 40 00	      HEX	00034000
   6774  e528							;sprite_spaceship11
   6775  e528		       00 09 ff 00	      HEX	0009ff00
   6776  e52c							;sprite_spaceship12
   6777  e52c		       00 39 fc 00	      HEX	0039fc00
   6778  e530							;sprite_spaceship13
   6779  e530		       00 01 fc 00	      HEX	0001fc00
   6780  e534							;sprite_spaceship14
   6781  e534		       00 01 f9 00	      HEX	0001f900
   6782  e538							;sprite_spaceship15
   6783  e538		       00 03 f8 00	      HEX	0003f800
   6784  e53c							;sprite_spaceship16
   6785  e53c		       00 07 ac 00	      HEX	0007ac00
   6786  e540							;bullet_conv
   6787  e540		       00 00 00 00	      HEX	00000000
   6788  e544							;fighter_conv
   6789  e544		       00 03 c0 00	      HEX	0003c000
   6790  e548							;asteroid_L_conv
   6791  e548		       00 02 95 b5*	      HEX	000295b555555000
   6792  e550							;asteroid_L_conv_tallsprite_00
   6793  e550		       15 55 56 55*	      HEX	1555565555555554
   6794  e558							;asteroid_L_conv_tallsprite_01
   6795  e558		       05 55 55 55*	      HEX	0555555555555554
   6796  e560							;asteroid_L_conv_tallsprite_02
   6797  e560		       00 00 05 55*	      HEX	0000055555540000
   6798  e568							;asteroid_M_conv
   6799  e568		       29 69 99 55	      HEX	29699955
   6800  e56c							;asteroid_M_conv_tallsprite_00
   6801  e56c		       05 55 55 54	      HEX	05555554
   6802  e570
   6803  e600					      ORG	$E600,0	; *************
   6804  e600
   6805  e600							;sprite_spaceship1
   6806  e600		       00 3e bc 00	      HEX	003ebc00
   6807  e604							;sprite_spaceship2
   6808  e604		       00 3e f0 00	      HEX	003ef000
   6809  e608							;sprite_spaceship3
   6810  e608		       00 2e d0 00	      HEX	002ed000
   6811  e60c							;sprite_spaceship4
   6812  e60c		       00 1e c0 00	      HEX	001ec000
   6813  e610							;sprite_spaceship5
   6814  e610		       00 6e db 00	      HEX	006edb00
   6815  e614							;sprite_spaceship6
   6816  e614		       00 2f f4 00	      HEX	002ff400
   6817  e618							;sprite_spaceship7
   6818  e618		       00 3f d0 00	      HEX	003fd000
   6819  e61c							;sprite_spaceship8
   6820  e61c		       00 05 40 00	      HEX	00054000
   6821  e620							;sprite_spaceship9
   6822  e620		       00 07 d0 00	      HEX	0007d000
   6823  e624							;sprite_spaceship10
   6824  e624		       00 01 d0 00	      HEX	0001d000
   6825  e628							;sprite_spaceship11
   6826  e628		       00 01 ff 00	      HEX	0001ff00
   6827  e62c							;sprite_spaceship12
   6828  e62c		       00 39 ff 00	      HEX	0039ff00
   6829  e630							;sprite_spaceship13
   6830  e630		       00 e7 b9 00	      HEX	00e7b900
   6831  e634							;sprite_spaceship14
   6832  e634		       00 01 ed 00	      HEX	0001ed00
   6833  e638							;sprite_spaceship15
   6834  e638		       00 03 bc 00	      HEX	0003bc00
   6835  e63c							;sprite_spaceship16
   6836  e63c		       00 07 ef 00	      HEX	0007ef00
   6837  e640							;bullet_conv
   6838  e640		       00 01 40 00	      HEX	00014000
   6839  e644							;fighter_conv
   6840  e644		       00 0f f0 00	      HEX	000ff000
   6841  e648							;asteroid_L_conv
   6842  e648		       00 00 55 59*	      HEX	0000555955554000
   6843  e650							;asteroid_L_conv_tallsprite_00
   6844  e650		       15 55 55 55*	      HEX	1555555555555554
   6845  e658							;asteroid_L_conv_tallsprite_01
   6846  e658		       05 55 55 55*	      HEX	0555555555555554
   6847  e660							;asteroid_L_conv_tallsprite_02
   6848  e660		       00 00 15 55*	      HEX	0000155555550000
   6849  e668							;asteroid_M_conv
   6850  e668		       0a 6a 65 54	      HEX	0a6a6554
   6851  e66c							;asteroid_M_conv_tallsprite_00
   6852  e66c		       15 55 55 54	      HEX	15555554
   6853  e670
   6854  e700					      ORG	$E700,0	; *************
   6855  e700
   6856  e700							;sprite_spaceship1
   6857  e700		       00 1f f4 00	      HEX	001ff400
   6858  e704							;sprite_spaceship2
   6859  e704		       00 fe d0 00	      HEX	00fed000
   6860  e708							;sprite_spaceship3
   6861  e708		       00 2e d0 00	      HEX	002ed000
   6862  e70c							;sprite_spaceship4
   6863  e70c		       00 2e d0 00	      HEX	002ed000
   6864  e710							;sprite_spaceship5
   6865  e710		       00 6e db 00	      HEX	006edb00
   6866  e714							;sprite_spaceship6
   6867  e714		       00 2b d0 00	      HEX	002bd000
   6868  e718							;sprite_spaceship7
   6869  e718		       00 3f d0 00	      HEX	003fd000
   6870  e71c							;sprite_spaceship8
   6871  e71c		       00 1f d0 00	      HEX	001fd000
   6872  e720							;sprite_spaceship9
   6873  e720		       00 07 d0 00	      HEX	0007d000
   6874  e724							;sprite_spaceship10
   6875  e724		       00 01 f4 00	      HEX	0001f400
   6876  e728							;sprite_spaceship11
   6877  e728		       00 03 ec 00	      HEX	0003ec00
   6878  e72c							;sprite_spaceship12
   6879  e72c		       00 0f ef 00	      HEX	000fef00
   6880  e730							;sprite_spaceship13
   6881  e730		       00 e7 b9 00	      HEX	00e7b900
   6882  e734							;sprite_spaceship14
   6883  e734		       00 01 ed 00	      HEX	0001ed00
   6884  e738							;sprite_spaceship15
   6885  e738		       00 01 ef 00	      HEX	0001ef00
   6886  e73c							;sprite_spaceship16
   6887  e73c		       00 03 ff c0	      HEX	0003ffc0
   6888  e740							;bullet_conv
   6889  e740		       00 01 40 00	      HEX	00014000
   6890  e744							;fighter_conv
   6891  e744		       00 0f f0 00	      HEX	000ff000
   6892  e748							;asteroid_L_conv
   6893  e748		       00 00 55 59*	      HEX	0000555955554000
   6894  e750							;asteroid_L_conv_tallsprite_00
   6895  e750		       15 55 55 55*	      HEX	1555555555555554
   6896  e758							;asteroid_L_conv_tallsprite_01
   6897  e758		       05 55 55 55*	      HEX	0555555555555554
   6898  e760							;asteroid_L_conv_tallsprite_02
   6899  e760		       00 00 15 55*	      HEX	0000155555550000
   6900  e768							;asteroid_M_conv
   6901  e768		       0a 6a 65 54	      HEX	0a6a6554
   6902  e76c							;asteroid_M_conv_tallsprite_00
   6903  e76c		       15 55 55 54	      HEX	15555554
   6904  e770
   6905  e800					      ORG	$E800,0	; *************
   6906  e800
   6907  e800							;sprite_spaceship1
   6908  e800		       00 07 d0 00	      HEX	0007d000
   6909  e804							;sprite_spaceship2
   6910  e804		       00 ff d0 00	      HEX	00ffd000
   6911  e808							;sprite_spaceship3
   6912  e808		       00 3f d0 00	      HEX	003fd000
   6913  e80c							;sprite_spaceship4
   6914  e80c		       00 2b d0 00	      HEX	002bd000
   6915  e810							;sprite_spaceship5
   6916  e810		       00 6e db 00	      HEX	006edb00
   6917  e814							;sprite_spaceship6
   6918  e814		       00 2e d0 00	      HEX	002ed000
   6919  e818							;sprite_spaceship7
   6920  e818		       00 2e d0 00	      HEX	002ed000
   6921  e81c							;sprite_spaceship8
   6922  e81c		       00 ff d0 00	      HEX	00ffd000
   6923  e820							;sprite_spaceship9
   6924  e820		       00 1f f4 00	      HEX	001ff400
   6925  e824							;sprite_spaceship10
   6926  e824		       00 03 ff c0	      HEX	0003ffc0
   6927  e828							;sprite_spaceship11
   6928  e828		       00 01 ef 00	      HEX	0001ef00
   6929  e82c							;sprite_spaceship12
   6930  e82c		       00 01 ed 00	      HEX	0001ed00
   6931  e830							;sprite_spaceship13
   6932  e830		       00 e7 b9 00	      HEX	00e7b900
   6933  e834							;sprite_spaceship14
   6934  e834		       00 0f ef 00	      HEX	000fef00
   6935  e838							;sprite_spaceship15
   6936  e838		       00 03 ec 00	      HEX	0003ec00
   6937  e83c							;sprite_spaceship16
   6938  e83c		       00 01 f4 00	      HEX	0001f400
   6939  e840							;bullet_conv
   6940  e840		       00 01 40 00	      HEX	00014000
   6941  e844							;fighter_conv
   6942  e844		       00 02 40 00	      HEX	00024000
   6943  e848							;asteroid_L_conv
   6944  e848		       00 00 25 5a*	      HEX	0000255a55550000
   6945  e850							;asteroid_L_conv_tallsprite_00
   6946  e850		       05 55 56 55*	      HEX	0555565555555550
   6947  e858							;asteroid_L_conv_tallsprite_01
   6948  e858		       05 55 55 55*	      HEX	0555555555555554
   6949  e860							;asteroid_L_conv_tallsprite_02
   6950  e860		       00 00 55 55*	      HEX	0000555555555000
   6951  e868							;asteroid_M_conv
   6952  e868		       07 ea 95 50	      HEX	07ea9550
   6953  e86c							;asteroid_M_conv_tallsprite_00
   6954  e86c		       15 55 55 55	      HEX	15555555
   6955  e870
   6956  e900					      ORG	$E900,0	; *************
   6957  e900
   6958  e900							;sprite_spaceship1
   6959  e900		       00 07 d0 00	      HEX	0007d000
   6960  e904							;sprite_spaceship2
   6961  e904		       00 1f d0 00	      HEX	001fd000
   6962  e908							;sprite_spaceship3
   6963  e908		       00 3f d0 00	      HEX	003fd000
   6964  e90c							;sprite_spaceship4
   6965  e90c		       00 2f f4 00	      HEX	002ff400
   6966  e910							;sprite_spaceship5
   6967  e910		       00 6e db 00	      HEX	006edb00
   6968  e914							;sprite_spaceship6
   6969  e914		       00 2e c0 00	      HEX	002ec000
   6970  e918							;sprite_spaceship7
   6971  e918		       00 2e d0 00	      HEX	002ed000
   6972  e91c							;sprite_spaceship8
   6973  e91c		       00 fe d0 00	      HEX	00fed000
   6974  e920							;sprite_spaceship9
   6975  e920		       00 3e bc 00	      HEX	003ebc00
   6976  e924							;sprite_spaceship10
   6977  e924		       00 07 ef 00	      HEX	0007ef00
   6978  e928							;sprite_spaceship11
   6979  e928		       00 03 bc 00	      HEX	0003bc00
   6980  e92c							;sprite_spaceship12
   6981  e92c		       00 01 ed 00	      HEX	0001ed00
   6982  e930							;sprite_spaceship13
   6983  e930		       00 e7 b9 00	      HEX	00e7b900
   6984  e934							;sprite_spaceship14
   6985  e934		       00 39 ff 00	      HEX	0039ff00
   6986  e938							;sprite_spaceship15
   6987  e938		       00 01 ff 00	      HEX	0001ff00
   6988  e93c							;sprite_spaceship16
   6989  e93c		       00 01 d0 00	      HEX	0001d000
   6990  e940							;bullet_conv
   6991  e940		       00 01 40 00	      HEX	00014000
   6992  e944							;fighter_conv
   6993  e944		       00 02 40 00	      HEX	00024000
   6994  e948							;asteroid_L_conv
   6995  e948		       00 00 25 5a*	      HEX	0000255a55550000
   6996  e950							;asteroid_L_conv_tallsprite_00
   6997  e950		       05 55 56 55*	      HEX	0555565555555550
   6998  e958							;asteroid_L_conv_tallsprite_01
   6999  e958		       05 55 55 55*	      HEX	0555555555555554
   7000  e960							;asteroid_L_conv_tallsprite_02
   7001  e960		       00 00 55 55*	      HEX	0000555555555000
   7002  e968							;asteroid_M_conv
   7003  e968		       07 ea 95 50	      HEX	07ea9550
   7004  e96c							;asteroid_M_conv_tallsprite_00
   7005  e96c		       15 55 55 55	      HEX	15555555
   7006  e970
   7007  ea00					      ORG	$EA00,0	; *************
   7008  ea00
   7009  ea00							;sprite_spaceship1
   7010  ea00		       00 01 40 00	      HEX	00014000
   7011  ea04							;sprite_spaceship2
   7012  ea04		       00 05 40 00	      HEX	00054000
   7013  ea08							;sprite_spaceship3
   7014  ea08		       00 fd 70 00	      HEX	00fd7000
   7015  ea0c							;sprite_spaceship4
   7016  ea0c		       00 3f 74 00	      HEX	003f7400
   7017  ea10							;sprite_spaceship5
   7018  ea10		       00 3f 40 00	      HEX	003f4000
   7019  ea14							;sprite_spaceship6
   7020  ea14		       00 1f c0 00	      HEX	001fc000
   7021  ea18							;sprite_spaceship7
   7022  ea18		       00 1f d0 00	      HEX	001fd000
   7023  ea1c							;sprite_spaceship8
   7024  ea1c		       00 3e f0 00	      HEX	003ef000
   7025  ea20							;sprite_spaceship9
   7026  ea20		       00 fe bf 00	      HEX	00febf00
   7027  ea24							;sprite_spaceship10
   7028  ea24		       00 07 ac 00	      HEX	0007ac00
   7029  ea28							;sprite_spaceship11
   7030  ea28		       00 03 f8 00	      HEX	0003f800
   7031  ea2c							;sprite_spaceship12
   7032  ea2c		       00 01 f9 00	      HEX	0001f900
   7033  ea30							;sprite_spaceship13
   7034  ea30		       00 01 fc 00	      HEX	0001fc00
   7035  ea34							;sprite_spaceship14
   7036  ea34		       00 39 fc 00	      HEX	0039fc00
   7037  ea38							;sprite_spaceship15
   7038  ea38		       00 09 ff 00	      HEX	0009ff00
   7039  ea3c							;sprite_spaceship16
   7040  ea3c		       00 03 40 00	      HEX	00034000
   7041  ea40							;bullet_conv
   7042  ea40		       00 00 00 00	      HEX	00000000
   7043  ea44							;fighter_conv
   7044  ea44		       00 00 00 00	      HEX	00000000
   7045  ea48							;asteroid_L_conv
   7046  ea48		       00 00 19 6a*	      HEX	0000196a55540000
   7047  ea50							;asteroid_L_conv_tallsprite_00
   7048  ea50		       05 55 66 55*	      HEX	0555665555555550
   7049  ea58							;asteroid_L_conv_tallsprite_01
   7050  ea58		       05 55 55 55*	      HEX	0555555555555554
   7051  ea60							;asteroid_L_conv_tallsprite_02
   7052  ea60		       00 05 55 55*	      HEX	0005555555555400
   7053  ea68							;asteroid_M_conv
   7054  ea68		       03 de a5 50	      HEX	03dea550
   7055  ea6c							;asteroid_M_conv_tallsprite_00
   7056  ea6c		       15 55 55 55	      HEX	15555555
   7057  ea70
   7058  eb00					      ORG	$EB00,0	; *************
   7059  eb00
   7060  eb00							;sprite_spaceship1
   7061  eb00		       00 03 c0 00	      HEX	0003c000
   7062  eb04							;sprite_spaceship2
   7063  eb04		       00 01 f0 00	      HEX	0001f000
   7064  eb08							;sprite_spaceship3
   7065  eb08		       00 f5 64 00	      HEX	00f56400
   7066  eb0c							;sprite_spaceship4
   7067  eb0c		       00 3d 74 00	      HEX	003d7400
   7068  eb10							;sprite_spaceship5
   7069  eb10		       00 3f 40 00	      HEX	003f4000
   7070  eb14							;sprite_spaceship6
   7071  eb14		       00 0b 40 00	      HEX	000b4000
   7072  eb18							;sprite_spaceship7
   7073  eb18		       00 1b d0 00	      HEX	001bd000
   7074  eb1c							;sprite_spaceship8
   7075  eb1c		       00 2f f0 00	      HEX	002ff000
   7076  eb20							;sprite_spaceship9
   7077  eb20		       00 ff ff 00	      HEX	00ffff00
   7078  eb24							;sprite_spaceship10
   7079  eb24		       00 0f b8 00	      HEX	000fb800
   7080  eb28							;sprite_spaceship11
   7081  eb28		       00 03 f8 00	      HEX	0003f800
   7082  eb2c							;sprite_spaceship12
   7083  eb2c		       00 00 f8 00	      HEX	0000f800
   7084  eb30							;sprite_spaceship13
   7085  eb30		       00 01 fc 00	      HEX	0001fc00
   7086  eb34							;sprite_spaceship14
   7087  eb34		       00 38 7c 00	      HEX	00387c00
   7088  eb38							;sprite_spaceship15
   7089  eb38		       00 07 57 00	      HEX	00075700
   7090  eb3c							;sprite_spaceship16
   7091  eb3c		       00 02 c0 00	      HEX	0002c000
   7092  eb40							;bullet_conv
   7093  eb40		       00 00 00 00	      HEX	00000000
   7094  eb44							;fighter_conv
   7095  eb44		       00 00 00 00	      HEX	00000000
   7096  eb48							;asteroid_L_conv
   7097  eb48		       00 00 19 6a*	      HEX	0000196a55540000
   7098  eb50							;asteroid_L_conv_tallsprite_00
   7099  eb50		       05 55 66 55*	      HEX	0555665555555550
   7100  eb58							;asteroid_L_conv_tallsprite_01
   7101  eb58		       05 55 55 55*	      HEX	0555555555555554
   7102  eb60							;asteroid_L_conv_tallsprite_02
   7103  eb60		       00 05 55 55*	      HEX	0005555555555400
   7104  eb68							;asteroid_M_conv
   7105  eb68		       03 de a5 50	      HEX	03dea550
   7106  eb6c							;asteroid_M_conv_tallsprite_00
   7107  eb6c		       15 55 55 55	      HEX	15555555
   7108  eb70
   7109  ec00					      ORG	$EC00,0	; *************
   7110  ec00
   7111  ec00							;sprite_spaceship1
   7112  ec00		       00 02 80 00	      HEX	00028000
   7113  ec04							;sprite_spaceship2
   7114  ec04		       00 00 a0 00	      HEX	0000a000
   7115  ec08							;sprite_spaceship3
   7116  ec08		       00 00 1c 00	      HEX	00001c00
   7117  ec0c							;sprite_spaceship4
   7118  ec0c		       00 3d 00 00	      HEX	003d0000
   7119  ec10							;sprite_spaceship5
   7120  ec10		       00 0f 00 00	      HEX	000f0000
   7121  ec14							;sprite_spaceship6
   7122  ec14		       00 0b 40 00	      HEX	000b4000
   7123  ec18							;sprite_spaceship7
   7124  ec18		       00 06 f0 00	      HEX	0006f000
   7125  ec1c							;sprite_spaceship8
   7126  ec1c		       00 3b fc 00	      HEX	003bfc00
   7127  ec20							;sprite_spaceship9
   7128  ec20		       00 0b e0 00	      HEX	000be000
   7129  ec24							;sprite_spaceship10
   7130  ec24		       00 0f f8 00	      HEX	000ff800
   7131  ec28							;sprite_spaceship11
   7132  ec28		       00 03 e4 00	      HEX	0003e400
   7133  ec2c							;sprite_spaceship12
   7134  ec2c		       00 00 fc 00	      HEX	0000fc00
   7135  ec30							;sprite_spaceship13
   7136  ec30		       00 00 f0 00	      HEX	0000f000
   7137  ec34							;sprite_spaceship14
   7138  ec34		       00 00 1c 00	      HEX	00001c00
   7139  ec38							;sprite_spaceship15
   7140  ec38		       00 06 00 00	      HEX	00060000
   7141  ec3c							;sprite_spaceship16
   7142  ec3c		       00 01 80 00	      HEX	00018000
   7143  ec40							;bullet_conv
   7144  ec40		       00 00 00 00	      HEX	00000000
   7145  ec44							;fighter_conv
   7146  ec44		       00 00 00 00	      HEX	00000000
   7147  ec48							;asteroid_L_conv
   7148  ec48		       00 00 01 69*	      HEX	0000016955400000
   7149  ec50							;asteroid_L_conv_tallsprite_00
   7150  ec50		       01 65 55 55*	      HEX	0165555555555540
   7151  ec58							;asteroid_L_conv_tallsprite_01
   7152  ec58		       15 55 55 55*	      HEX	1555555555555554
   7153  ec60							;asteroid_L_conv_tallsprite_02
   7154  ec60		       00 15 55 55*	      HEX	0015555555555500
   7155  ec68							;asteroid_M_conv
   7156  ec68		       00 67 55 40	      HEX	00675540
   7157  ec6c							;asteroid_M_conv_tallsprite_00
   7158  ec6c		       19 95 55 55	      HEX	19955555
   7159  ec70
   7160  ed00					      ORG	$ED00,0	; *************
   7161  ed00
   7162  ed00							;sprite_spaceship1
   7163  ed00		       00 01 40 00	      HEX	00014000
   7164  ed04							;sprite_spaceship2
   7165  ed04		       00 00 50 00	      HEX	00005000
   7166  ed08							;sprite_spaceship3
   7167  ed08		       00 00 10 00	      HEX	00001000
   7168  ed0c							;sprite_spaceship4
   7169  ed0c		       00 30 00 00	      HEX	00300000
   7170  ed10							;sprite_spaceship5
   7171  ed10		       00 0f 00 00	      HEX	000f0000
   7172  ed14							;sprite_spaceship6
   7173  ed14		       00 03 00 00	      HEX	00030000
   7174  ed18							;sprite_spaceship7
   7175  ed18		       00 03 f0 00	      HEX	0003f000
   7176  ed1c							;sprite_spaceship8
   7177  ed1c		       00 0a bc 00	      HEX	000abc00
   7178  ed20							;sprite_spaceship9
   7179  ed20		       00 0e b0 00	      HEX	000eb000
   7180  ed24							;sprite_spaceship10
   7181  ed24		       00 0f a0 00	      HEX	000fa000
   7182  ed28							;sprite_spaceship11
   7183  ed28		       00 03 00 00	      HEX	00030000
   7184  ed2c							;sprite_spaceship12
   7185  ed2c		       00 00 c0 00	      HEX	0000c000
   7186  ed30							;sprite_spaceship13
   7187  ed30		       00 00 f0 00	      HEX	0000f000
   7188  ed34							;sprite_spaceship14
   7189  ed34		       00 00 0f 00	      HEX	00000f00
   7190  ed38							;sprite_spaceship15
   7191  ed38		       00 0c 00 00	      HEX	000c0000
   7192  ed3c							;sprite_spaceship16
   7193  ed3c		       00 03 00 00	      HEX	00030000
   7194  ed40							;bullet_conv
   7195  ed40		       00 00 00 00	      HEX	00000000
   7196  ed44							;fighter_conv
   7197  ed44		       00 00 00 00	      HEX	00000000
   7198  ed48							;asteroid_L_conv
   7199  ed48		       00 00 01 69*	      HEX	0000016955400000
   7200  ed50							;asteroid_L_conv_tallsprite_00
   7201  ed50		       01 65 55 55*	      HEX	0165555555555540
   7202  ed58							;asteroid_L_conv_tallsprite_01
   7203  ed58		       15 55 55 55*	      HEX	1555555555555554
   7204  ed60							;asteroid_L_conv_tallsprite_02
   7205  ed60		       00 15 55 55*	      HEX	0015555555555500
   7206  ed68							;asteroid_M_conv
   7207  ed68		       00 67 55 40	      HEX	00675540
   7208  ed6c							;asteroid_M_conv_tallsprite_00
   7209  ed6c		       19 95 55 55	      HEX	19955555
   7210  ed70
   7211  ee00					      ORG	$EE00,0	; *************
   7212  ee00
   7213  ee00							;sprite_spaceship1
   7214  ee00		       00 03 c0 00	      HEX	0003c000
   7215  ee04							;sprite_spaceship2
   7216  ee04		       00 00 f0 00	      HEX	0000f000
   7217  ee08							;sprite_spaceship3
   7218  ee08		       00 00 00 00	      HEX	00000000
   7219  ee0c							;sprite_spaceship4
   7220  ee0c		       00 00 00 00	      HEX	00000000
   7221  ee10							;sprite_spaceship5
   7222  ee10		       00 0c 00 00	      HEX	000c0000
   7223  ee14							;sprite_spaceship6
   7224  ee14		       00 03 00 00	      HEX	00030000
   7225  ee18							;sprite_spaceship7
   7226  ee18		       00 00 30 00	      HEX	00003000
   7227  ee1c							;sprite_spaceship8
   7228  ee1c		       00 05 cc 00	      HEX	0005cc00
   7229  ee20							;sprite_spaceship9
   7230  ee20		       00 01 40 00	      HEX	00014000
   7231  ee24							;sprite_spaceship10
   7232  ee24		       00 00 d0 00	      HEX	0000d000
   7233  ee28							;sprite_spaceship11
   7234  ee28		       00 03 00 00	      HEX	00030000
   7235  ee2c							;sprite_spaceship12
   7236  ee2c		       00 00 c0 00	      HEX	0000c000
   7237  ee30							;sprite_spaceship13
   7238  ee30		       00 00 30 00	      HEX	00003000
   7239  ee34							;sprite_spaceship14
   7240  ee34		       00 00 00 00	      HEX	00000000
   7241  ee38							;sprite_spaceship15
   7242  ee38		       00 00 00 00	      HEX	00000000
   7243  ee3c							;sprite_spaceship16
   7244  ee3c		       00 00 00 00	      HEX	00000000
   7245  ee40							;bullet_conv
   7246  ee40		       00 00 00 00	      HEX	00000000
   7247  ee44							;fighter_conv
   7248  ee44		       00 00 00 00	      HEX	00000000
   7249  ee48							;asteroid_L_conv
   7250  ee48		       00 00 00 00*	      HEX	0000000000000000
   7251  ee50							;asteroid_L_conv_tallsprite_00
   7252  ee50		       00 55 55 55*	      HEX	0055555555555540
   7253  ee58							;asteroid_L_conv_tallsprite_01
   7254  ee58		       15 55 55 55*	      HEX	1555555555555554
   7255  ee60							;asteroid_L_conv_tallsprite_02
   7256  ee60		       00 55 55 55*	      HEX	0055555555555540
   7257  ee68							;asteroid_M_conv
   7258  ee68		       00 07 94 00	      HEX	00079400
   7259  ee6c							;asteroid_M_conv_tallsprite_00
   7260  ee6c		       55 a9 55 55	      HEX	55a95555
   7261  ee70
   7262  ef00					      ORG	$EF00,0	; *************
   7263  ef00
   7264  ef00							;sprite_spaceship1
   7265  ef00		       00 00 00 00	      HEX	00000000
   7266  ef04							;sprite_spaceship2
   7267  ef04		       00 00 00 00	      HEX	00000000
   7268  ef08							;sprite_spaceship3
   7269  ef08		       00 00 00 00	      HEX	00000000
   7270  ef0c							;sprite_spaceship4
   7271  ef0c		       00 00 00 00	      HEX	00000000
   7272  ef10							;sprite_spaceship5
   7273  ef10		       00 0c 00 00	      HEX	000c0000
   7274  ef14							;sprite_spaceship6
   7275  ef14		       00 00 00 00	      HEX	00000000
   7276  ef18							;sprite_spaceship7
   7277  ef18		       00 00 00 00	      HEX	00000000
   7278  ef1c							;sprite_spaceship8
   7279  ef1c		       00 00 00 00	      HEX	00000000
   7280  ef20							;sprite_spaceship9
   7281  ef20		       00 00 00 00	      HEX	00000000
   7282  ef24							;sprite_spaceship10
   7283  ef24		       00 00 00 00	      HEX	00000000
   7284  ef28							;sprite_spaceship11
   7285  ef28		       00 00 00 00	      HEX	00000000
   7286  ef2c							;sprite_spaceship12
   7287  ef2c		       00 00 c0 00	      HEX	0000c000
   7288  ef30							;sprite_spaceship13
   7289  ef30		       00 00 30 00	      HEX	00003000
   7290  ef34							;sprite_spaceship14
   7291  ef34		       00 00 00 00	      HEX	00000000
   7292  ef38							;sprite_spaceship15
   7293  ef38		       00 00 00 00	      HEX	00000000
   7294  ef3c							;sprite_spaceship16
   7295  ef3c		       00 00 00 00	      HEX	00000000
   7296  ef40							;bullet_conv
   7297  ef40		       00 00 00 00	      HEX	00000000
   7298  ef44							;fighter_conv
   7299  ef44		       00 00 00 00	      HEX	00000000
   7300  ef48							;asteroid_L_conv
   7301  ef48		       00 00 00 00*	      HEX	0000000000000000
   7302  ef50							;asteroid_L_conv_tallsprite_00
   7303  ef50		       00 55 55 55*	      HEX	0055555555555540
   7304  ef58							;asteroid_L_conv_tallsprite_01
   7305  ef58		       15 55 55 55*	      HEX	1555555555555554
   7306  ef60							;asteroid_L_conv_tallsprite_02
   7307  ef60		       00 55 55 55*	      HEX	0055555555555540
   7308  ef68							;asteroid_M_conv
   7309  ef68		       00 07 94 00	      HEX	00079400
   7310  ef6c							;asteroid_M_conv_tallsprite_00
   7311  ef6c		       55 a9 55 55	      HEX	55a95555
   7312  ef70				  -	      if	SPACEOVERFLOW > 0
   7313  ef70				  -	      echo	""
   7314  ef70				  -	      echo	"######## ERROR: space overflow detected in",[SPACEOVERFLOW]d,"areas."
   7315  ef70				  -	      echo	"######## look above for areas with negative ROM space left."
   7316  ef70					      endif
   7317  ef70
   7318  ef70
   7319  ef70							; Provided under the CC0 license. See the included LICENSE.txt for details.
   7320  ef70
   7321  ef70					      ifnconst	bankswitchmode
   7322  ef70					      if	( * < $f000 )
   7323  f000					      ORG	$F000
   7324  f000					      endif
   7325  f000				  -	      else
   7326  f000				  -	      ifconst	ROM128K
   7327  f000				  -	      if	( * < $f000 )
   7328  f000				  -	      ORG	$27000
   7329  f000				  -	      RORG	$F000
   7330  f000				  -	      endif
   7331  f000				  -	      endif
   7332  f000				  -	      ifconst	ROM144K
   7333  f000				  -	      if	( * < $f000 )
   7334  f000				  -	      ORG	$27000
   7335  f000				  -	      RORG	$F000
   7336  f000				  -	      endif
   7337  f000				  -	      endif
   7338  f000				  -	      ifconst	ROM256K
   7339  f000				  -	      if	( * < $f000 )
   7340  f000				  -	      ORG	$47000
   7341  f000				  -	      RORG	$F000
   7342  f000				  -	      endif
   7343  f000				  -	      endif
   7344  f000				  -	      ifconst	ROM272K
   7345  f000				  -	      if	( * < $f000 )
   7346  f000				  -	      ORG	$47000
   7347  f000				  -	      RORG	$F000
   7348  f000				  -	      endif
   7349  f000				  -	      endif
   7350  f000				  -	      ifconst	ROM512K
   7351  f000				  -	      if	( * < $f000 )
   7352  f000				  -	      ORG	$87000
   7353  f000				  -	      RORG	$F000
   7354  f000				  -	      endif
   7355  f000				  -	      endif
   7356  f000				  -	      ifconst	ROM528K
   7357  f000				  -	      if	( * < $f000 )
   7358  f000				  -	      ORG	$87000
   7359  f000				  -	      RORG	$F000
   7360  f000				  -	      endif
   7361  f000				  -	      endif
   7362  f000					      endif
   7363  f000
   7364  f000							; all of these "modules" have conditional clauses in them, so even though
   7365  f000							; they're always included here, they don't take up rom unless the user
   7366  f000							; explicitly enables support for the feature.
   7367  f000
   7368  f000					      ifnconst	included.rmtplayer.asm
------- FILE rmtplayer.asm LEVEL 2 PASS 3
      0  f000					      include	rmtplayer.asm	; requires page alignment, so go first
      1  f000				  -	      ifconst	RMT
      2  f000				  -
      3  f000				  -rmtmodulestart
      4  f000				  -
      5  f000				  -			;*
      6  f000				  -			;* Raster Music Tracker, RMT Atari routine version 1.20030223
      7  f000				  -			;* (c) Radek Sterba, Raster/C.P.U., 2002 - 2003
      8  f000				  -			;* http://raster.atari.org
      9  f000				  -			;*
     10  f000				  -			;* Some small changes to allow using this code with DASM cross assembler and
     11  f000				  -			;* to compile for cartridge based systems, like the Atari 5200 or 7800,
     12  f000				  -			;* by Eckhard Stolberg ( http://home.arcor.de/estolberg/ ).
     13  f000				  -			;*
     14  f000				  -			;* More small changes were made to use this code with 7800basic, and
     15  f000				  -			;* comments by VinsCool on more recent versions were back-ported.
     16  f000				  -			;* --Mike Saarna.
     17  f000				  -			;*
     18  f000				  -			;* Warnings:
     19  f000				  -			;*
     20  f000				  -			;* 1. RMT player routine needs 19 dedicated zero page bytes, as well as cca
     21  f000				  -			;* 1KB of memory before the "PLAYER" address for frequency tables and
     22  f000				  -			;* functionary variables. It's:
     23  f000				  -			;* a) from PLAYER-$400 to PLAYER for stereo RMTplayer
     24  f000				  -			;* b) from PLAYER-$380 to PLAYER for mono RMTplayer
     25  f000				  -			;*
     26  f000				  -			;* note: This has been changed for 5200 & 7800 compatibility. Now PLAYER
     27  f000				  -			;* points to the start of the frequency tables. The player routines follows
     28  f000				  -			;* after that. The variables are now independent and can be located with
     29  f000				  -			;* PLAYER_VAR_RAM and PLAYER_ZP_RAM (see below):
     30  f000				  -			;*
     31  f000				  -			;* 2. RMT player routine MUST (!!!) be compiled aligned to a memory page.
     32  f000				  -			;* i.e. "PLAYER" address can be $..00 only!
     33  f000				  -			;*
     34  f000				  -			;* 3. Because of RMTplayer provides a lot of effects, it spent a lot of
     35  f000				  -			;* CPU time.
     36  f000				  -			;*
     37  f000				  -			;*
     38  f000				  -			;* Define the following equates here or in your main code file.
     39  f000				  -			;* Set the values according to the system you compile for.
     40  f000				  -			;*
     41  f000				  -
     42  f000				  -POKEY_BASE equ	pokeyaddress
     43  f000				  -PLAYER_ZP_RAM equ	songchannel1layer1lo	;* player routine needs 19 bytes
     44  f000				  -			;* of zero page RAM
     45  f000				  -PLAYER_VAR_RAM equ	RMTRAM	;* variables in main RAM - 173 bytes
     46  f000				  -			;* mono - 337 stereo
     47  f000				  -
     48  f000				  -ROM_BASED  equ	1	;* using a ROM based system - no self modifying code
     49  f000				  -STEREO8T   equ	0	;* 0 => compile RMTplayer for mono 4 tracks
     50  f000				  -			; ;1 => compile RMTplayer for stereo 8 tracks
     51  f000				  -
     52  f000				  -HARD_OF_HEARING equ	1	;* repeat output to pokey
     53  f000				  -
     54  f000				  -rmt_ispeed equ	PLAYER_ZP_RAM+19
     55  f000				  -rmt_intcount equ	PLAYER_ZP_RAM+20
     56  f000				  -
     57  f000				  -			;*
     58  f000				  -
     59  f000				  -	      IF	STEREO8T
     60  f000				  -TRACKS     equ	8
     61  f000				  -	      ELSE
     62  f000				  -TRACKS     equ	4
     63  f000				  -	      ENDIF
     64  f000				  -
     65  f000				  -			;*
     66  f000				  -			;* RMT FEATures definitions
     67  f000				  -			;* For optimizations of RMT player routine to concrete RMT modul only!
     68  f000				  -			;* --------BEGIN--------
     69  f000				  -FEAT_COMMAND1 equ	1	;* cca 8 bytes
     70  f000				  -FEAT_COMMAND2 equ	1	;* cca 20 bytes (+save 1 address in zero page)
     71  f000				  -			;* and quicker whole RMT routine
     72  f000				  -FEAT_COMMAND3 equ	1	;* cca 12 bytes
     73  f000				  -FEAT_COMMAND4 equ	1	;* cca 15 bytes
     74  f000				  -FEAT_COMMAND5 equ	1	;* cca 67 bytes
     75  f000				  -FEAT_COMMAND6 equ	1	;* cca 15 bytes
     76  f000				  -			;* COMMAND7 SETNOTE (i.e. command 7 with parameter != $80)
     77  f000				  -FEAT_COMMAND7SETNOTE equ	1	;* cca 12 bytes
     78  f000				  -			;* COMMAND7 VOLUMEONLY (i.e. command 7 with parameter == $80)
     79  f000				  -FEAT_COMMAND7VOLUMEONLY equ	1	;* cca 74 bytes
     80  f000				  -			;* PORTAMENTO
     81  f000				  -FEAT_PORTAMENTO equ	1	;* cca 138 bytes and quicker whole RMT routine
     82  f000				  -			;* FILTER
     83  f000				  -FEAT_FILTER equ	1	;* cca 179 bytes and quicker whole RMT routine
     84  f000				  -FEAT_FILTERG0L equ	1	;* (cca 38 bytes for each)
     85  f000				  -FEAT_FILTERG1L equ	1
     86  f000				  -FEAT_FILTERG0R equ	1
     87  f000				  -FEAT_FILTERG1R equ	1
     88  f000				  -			;* BASS16B (i.e. distortion value 6)
     89  f000				  -FEAT_BASS16 equ	1	;* cca 194 bytes +128bytes freq table and
     90  f000				  -			;* quicker whole RMT routine
     91  f000				  -FEAT_BASS16G1L equ	1	;* (cca 47 bytes for each)
     92  f000				  -FEAT_BASS16G3L equ	1
     93  f000				  -FEAT_BASS16G1R equ	1
     94  f000				  -FEAT_BASS16G3R equ	1
     95  f000				  -			;* VOLUME ONLY for particular generators
     96  f000				  -FEAT_VOLUMEONLYG0L equ	1	;* (cca 7 bytes for each)
     97  f000				  -FEAT_VOLUMEONLYG2L equ	1
     98  f000				  -FEAT_VOLUMEONLYG3L equ	1
     99  f000				  -FEAT_VOLUMEONLYG0R equ	1
    100  f000				  -FEAT_VOLUMEONLYG2R equ	1
    101  f000				  -FEAT_VOLUMEONLYG3R equ	1
    102  f000				  -			;* TABLE TYPE (i.e. TABLETYPE=1)
    103  f000				  -FEAT_TABLETYPE equ	1	;* cca 53 bytes and quicker whole RMT routine
    104  f000				  -			;* TABLE MODE (i.e. TABLEMODE=1)
    105  f000				  -FEAT_TABLEMODE equ	1	;* cca 16 bytes and quicker whole RMT routine
    106  f000				  -			;* AUDCTLMANUALSET (i.e. any MANUAL AUDCTL setting to nonzero value)
    107  f000				  -FEAT_AUDCTLMANUALSET equ	1	;* cca 27 bytes and quicker whole RMT routine
    108  f000				  -			;* --------END--------
    109  f000				  -			;*
    110  f000				  -			;*
    111  f000				  -			;* RMT ZeroPage addresses
    112  f000				  -
    113  f000				  -MEMLOC     SET	PLAYER_ZP_RAM
    114  f000				  -p_tis      =	MEMLOC
    115  f000				  -p_instrstable =	MEMLOC
    116  f000				  -MEMLOC     SET	(MEMLOC+2)
    117  f000				  -ptrTracksTblLo =	MEMLOC
    118  f000				  -MEMLOC     SET	(MEMLOC+2)
    119  f000				  -ptrTracksTblHi =	MEMLOC
    120  f000				  -MEMLOC     SET	(MEMLOC+2)
    121  f000				  -ptrSongLines =	MEMLOC
    122  f000				  -MEMLOC     SET	(MEMLOC+2)
    123  f000				  -
    124  f000				  -_ns	      =	MEMLOC
    125  f000				  -MEMLOC     SET	(MEMLOC+2)
    126  f000				  -_nr	      =	MEMLOC
    127  f000				  -MEMLOC     SET	(MEMLOC+2)
    128  f000				  -_nt	      =	MEMLOC
    129  f000				  -MEMLOC     SET	(MEMLOC+2)
    130  f000				  -
    131  f000				  -rmtreg1    =	MEMLOC
    132  f000				  -MEMLOC     SET	(MEMLOC+1)
    133  f000				  -rmtreg2    =	MEMLOC
    134  f000				  -MEMLOC     SET	(MEMLOC+1)
    135  f000				  -rmtreg3    =	MEMLOC
    136  f000				  -MEMLOC     SET	(MEMLOC+1)
    137  f000				  -_tmp       =	MEMLOC
    138  f000				  -MEMLOC     SET	(MEMLOC+1)
    139  f000				  -	      IF	FEAT_COMMAND2
    140  f000				  -frqaddcmd2 =	MEMLOC
    141  f000				  -MEMLOC     SET	(MEMLOC+1)
    142  f000				  -	      ENDIF
    143  f000				  -
    144  f000				  -			;*
    145  f000				  -			;* Variables in main RAM used by player routine.
    146  f000				  -			;* 337 bytes for stereo - 173 bytes for mono
    147  f000				  -			;*
    148  f000				  -
    149  f000				  -MEMLOC     SET	PLAYER_VAR_RAM
    150  f000				  -track_variables =	MEMLOC
    151  f000				  -
    152  f000				  -trackn_TblLo =	MEMLOC
    153  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    154  f000				  -trackn_TblHi =	MEMLOC
    155  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    156  f000				  -trackn_idx =	MEMLOC
    157  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    158  f000				  -trackn_pause =	MEMLOC
    159  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    160  f000				  -trackn_note =	MEMLOC
    161  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    162  f000				  -trackn_volume =	MEMLOC
    163  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    164  f000				  -trackn_distor =	MEMLOC
    165  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    166  f000				  -trackn_shiftfrq =	MEMLOC
    167  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    168  f000				  -
    169  f000				  -	      IF	FEAT_PORTAMENTO
    170  f000				  -trackn_portafrqc =	MEMLOC
    171  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    172  f000				  -trackn_portafrqa =	MEMLOC
    173  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    174  f000				  -trackn_portaspeed =	MEMLOC
    175  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    176  f000				  -trackn_portaspeeda =	MEMLOC
    177  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    178  f000				  -trackn_portadepth =	MEMLOC
    179  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    180  f000				  -	      ENDIF
    181  f000				  -
    182  f000				  -trackn_instrx2 =	MEMLOC
    183  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    184  f000				  -trackn_instrdb =	MEMLOC
    185  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    186  f000				  -trackn_instrhb =	MEMLOC
    187  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    188  f000				  -trackn_instridx =	MEMLOC
    189  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    190  f000				  -trackn_instrlen =	MEMLOC
    191  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    192  f000				  -trackn_instrlop =	MEMLOC
    193  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    194  f000				  -trackn_instrreachend =	MEMLOC
    195  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    196  f000				  -trackn_volumeslidedepth =	MEMLOC
    197  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    198  f000				  -trackn_volumeslidevalue =	MEMLOC
    199  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    200  f000				  -trackn_volumemin =	MEMLOC
    201  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    202  f000				  -trackn_effdelay =	MEMLOC
    203  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    204  f000				  -trackn_effvibratoa =	MEMLOC
    205  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    206  f000				  -trackn_effvibratobeg =	MEMLOC
    207  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    208  f000				  -trackn_effvibratoend =	MEMLOC
    209  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    210  f000				  -trackn_effshift =	MEMLOC
    211  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    212  f000				  -trackn_tabletypespeed =	MEMLOC
    213  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    214  f000				  -
    215  f000				  -	      IF	FEAT_TABLEMODE
    216  f000				  -trackn_tablemode =	MEMLOC
    217  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    218  f000				  -	      ENDIF
    219  f000				  -
    220  f000				  -trackn_tablenote =	MEMLOC
    221  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    222  f000				  -
    223  f000				  -trackn_tablea =	MEMLOC
    224  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    225  f000				  -trackn_tableend =	MEMLOC
    226  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    227  f000				  -trackn_tablelop =	MEMLOC
    228  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    229  f000				  -trackn_tablespeeda =	MEMLOC
    230  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    231  f000				  -trackn_command =	MEMLOC
    232  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    233  f000				  -
    234  f000				  -	      IF	FEAT_BASS16
    235  f000				  -trackn_outnote =	MEMLOC
    236  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    237  f000				  -	      ENDIF
    238  f000				  -	      IF	FEAT_FILTER
    239  f000				  -trackn_filter =	MEMLOC
    240  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    241  f000				  -	      ENDIF
    242  f000				  -
    243  f000				  -trackn_audf =	MEMLOC
    244  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    245  f000				  -trackn_audc =	MEMLOC
    246  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    247  f000				  -
    248  f000				  -	      IF	FEAT_AUDCTLMANUALSET
    249  f000				  -trackn_audctl =	MEMLOC
    250  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    251  f000				  -	      ENDIF
    252  f000				  -
    253  f000				  -v_audctl   =	MEMLOC
    254  f000				  -MEMLOC     SET	(MEMLOC+1)
    255  f000				  -v_audctl2  =	MEMLOC
    256  f000				  -MEMLOC     SET	(MEMLOC+1)
    257  f000				  -v_speed    =	MEMLOC
    258  f000				  -MEMLOC     SET	(MEMLOC+1)
    259  f000				  -v_aspeed   =	MEMLOC
    260  f000				  -MEMLOC     SET	(MEMLOC+1)
    261  f000				  -v_bspeed   =	MEMLOC
    262  f000				  -MEMLOC     SET	(MEMLOC+1)
    263  f000				  -v_instrspeed =	MEMLOC
    264  f000				  -MEMLOC     SET	(MEMLOC+1)
    265  f000				  -smc_silence_instrspeed =	MEMLOC
    266  f000				  -MEMLOC     SET	(MEMLOC+1)
    267  f000				  -v_maxtracklen =	MEMLOC
    268  f000				  -MEMLOC     SET	(MEMLOC+1)
    269  f000				  -v_abeat    =	MEMLOC
    270  f000				  -MEMLOC     SET	(MEMLOC+1)
    271  f000				  -
    272  f000				  -track_endvariables =	MEMLOC
    273  f000				  -
    274  f000				  -			;*
    275  f000				  -			;* Data tables used by player routine.
    276  f000				  -			;*
    277  f000				  -	      ALIGN	256
    278  f000				  -PLAYER     =	.
    279  f000				  -
    280  f000				  -volumetab
    281  f000				  -	      dc.b	$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    282  f000				  -	      dc.b	$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    283  f000				  -	      dc.b	$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$02,$02,$02,$02
    284  f000				  -	      dc.b	$00,$00,$00,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02,$03,$03,$03
    285  f000				  -	      dc.b	$00,$00,$01,$01,$01,$01,$02,$02,$02,$02,$03,$03,$03,$03,$04,$04
    286  f000				  -	      dc.b	$00,$00,$01,$01,$01,$02,$02,$02,$03,$03,$03,$04,$04,$04,$05,$05
    287  f000				  -	      dc.b	$00,$00,$01,$01,$02,$02,$02,$03,$03,$04,$04,$04,$05,$05,$06,$06
    288  f000				  -	      dc.b	$00,$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07
    289  f000				  -	      dc.b	$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07,$08
    290  f000				  -	      dc.b	$00,$01,$01,$02,$02,$03,$04,$04,$05,$05,$06,$07,$07,$08,$08,$09
    291  f000				  -	      dc.b	$00,$01,$01,$02,$03,$03,$04,$05,$05,$06,$07,$07,$08,$09,$09,$0A
    292  f000				  -	      dc.b	$00,$01,$01,$02,$03,$04,$04,$05,$06,$07,$07,$08,$09,$0A,$0A,$0B
    293  f000				  -	      dc.b	$00,$01,$02,$02,$03,$04,$05,$06,$06,$07,$08,$09,$0A,$0A,$0B,$0C
    294  f000				  -	      dc.b	$00,$01,$02,$03,$03,$04,$05,$06,$07,$08,$09,$0A,$0A,$0B,$0C,$0D
    295  f000				  -	      dc.b	$00,$01,$02,$03,$04,$05,$06,$07,$07,$08,$09,$0A,$0B,$0C,$0D,$0E
    296  f000				  -	      dc.b	$00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F
    297  f000				  -
    298  f000				  -frqtab
    299  f000				  -			; ERT [<frqtab]!=0 ;* frqtab must begin at the memory page bound!
    300  f000				  -			;* (i.e. $..00 address)
    301  f000				  -frqtabbass1
    302  f000				  -	      dc.b	$BF,$B6,$AA,$A1,$98,$8F,$89,$80,$F2,$E6,$DA,$CE,$BF,$B6,$AA,$A1
    303  f000				  -	      dc.b	$98,$8F,$89,$80,$7A,$71,$6B,$65,$5F,$5C,$56,$50,$4D,$47,$44,$3E
    304  f000				  -	      dc.b	$3C,$38,$35,$32,$2F,$2D,$2A,$28,$25,$23,$21,$1F,$1D,$1C,$1A,$18
    305  f000				  -	      dc.b	$17,$16,$14,$13,$12,$11,$10,$0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07
    306  f000				  -frqtabbass2
    307  f000				  -	      dc.b	$FF,$F1,$E4,$D8,$CA,$C0,$B5,$AB,$A2,$99,$8E,$87,$7F,$79,$73,$70
    308  f000				  -	      dc.b	$66,$61,$5A,$55,$52,$4B,$48,$43,$3F,$3C,$39,$37,$33,$30,$2D,$2A
    309  f000				  -	      dc.b	$28,$25,$24,$21,$1F,$1E,$1C,$1B,$19,$17,$16,$15,$13,$12,$11,$10
    310  f000				  -	      dc.b	$0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00
    311  f000				  -frqtabpure
    312  f000				  -	      dc.b	$F3,$E6,$D9,$CC,$C1,$B5,$AD,$A2,$99,$90,$88,$80,$79,$72,$6C,$66
    313  f000				  -	      dc.b	$60,$5B,$55,$51,$4C,$48,$44,$40,$3C,$39,$35,$32,$2F,$2D,$2A,$28
    314  f000				  -	      dc.b	$25,$23,$21,$1F,$1D,$1C,$1A,$18,$17,$16,$14,$13,$12,$11,$10,$0F
    315  f000				  -	      dc.b	$0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00,$00
    316  f000				  -	      IF	FEAT_BASS16
    317  f000				  -frqtabbasshi
    318  f000				  -	      dc.b	$0D,$0D,$0C,$0B,$0B,$0A,$0A,$09,$08,$08,$07,$07,$07,$06,$06,$05
    319  f000				  -	      dc.b	$05,$05,$04,$04,$04,$04,$03,$03,$03,$03,$03,$02,$02,$02,$02,$02
    320  f000				  -	      dc.b	$02,$02,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00
    321  f000				  -	      dc.b	$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    322  f000				  -	      ENDIF
    323  f000				  -
    324  f000				  -	      IF	FEAT_BASS16
    325  f000				  -frqtabbasslo
    326  f000				  -	      dc.b	$F2,$33,$96,$E2,$38,$8C,$00,$6A,$E8,$6A,$EF,$80,$08,$AE,$46,$E6
    327  f000				  -	      dc.b	$95,$41,$F6,$B0,$6E,$30,$F6,$BB,$84,$52,$22,$F4,$C8,$A0,$7A,$55
    328  f000				  -	      dc.b	$34,$14,$F5,$D8,$BD,$A4,$8D,$77,$60,$4E,$38,$27,$15,$06,$F7,$E8
    329  f000				  -	      dc.b	$DB,$CF,$C3,$B8,$AC,$A2,$9A,$90,$88,$7F,$78,$70,$6A,$64,$5E,$00
    330  f000				  -	      ENDIF
    331  f000				  -
    332  f000				  -	      IF	ROM_BASED
    333  f000				  -rts_tab    dc.w	cmd0-1,cmd1-1,cmd2-1,cmd3-1,cmd4-1,cmd5-1,cmd6-1,cmd7-1
    334  f000				  -	      ENDIF
    335  f000				  -INSTRPAR   equ	12
    336  f000				  -tabbeganddistor
    337  f000				  -	      dc.b	frqtabpure-frqtab,$00
    338  f000				  -	      dc.b	frqtabpure-frqtab,$20
    339  f000				  -	      dc.b	frqtabpure-frqtab,$40
    340  f000				  -	      dc.b	frqtabbass1-frqtab,$c0
    341  f000				  -	      dc.b	frqtabpure-frqtab,$80
    342  f000				  -	      dc.b	frqtabpure-frqtab,$a0
    343  f000				  -	      dc.b	frqtabbass1-frqtab,$c0
    344  f000				  -	      dc.b	frqtabbass2-frqtab,$c0
    345  f000				  -vibtabbeg  dc.b	0,vib1-vib0,vib2-vib0,vib3-vib0,vibx-vib0
    346  f000				  -vib0       dc.b	0
    347  f000				  -vib1       dc.b	1,-1,-1,1
    348  f000				  -vib2       dc.b	1,0,-1,-1,0,1
    349  f000				  -vib3       dc.b	1,1,0,-1,-1,-1,-1,0,1,1
    350  f000				  -vibx
    351  f000				  -emptytrack
    352  f000				  -	      dc.b	62,0
    353  f000				  -
    354  f000				  -			;*
    355  f000				  -			;* Set of RMT main vectors:
    356  f000				  -			;*
    357  f000				  -RASTERMUSICTRACKER
    358  f000				  -	      jmp	rmt_init	;* Must be run first, to clear memory and initialise
    359  f000				  -			;* the player... Once this is done, run rmt_play
    360  f000				  -			;* afterwards, or Set_Pokey if you want to manually
    361  f000				  -			;* time certain things.
    362  f000				  -
    363  f000				  -	      jmp	rmt_play	;* One play each subroutine call. SetPokey is
    364  f000				  -			;* executed first, then all the play code is ran
    365  f000				  -			;* once, until the RTS. rmt_play could be called
    366  f000				  -			;* multiple times per frame if wanted.
    367  f000				  -
    368  f000				  -	      jmp	rmt_p3	;* Similar to rmt_play, but will also skip SetPokey
    369  f000				  -			;* and the instruments/songlines/tracklines
    370  f000				  -			;* initialisation, very useful for playing simple
    371  f000				  -			;* things.
    372  f000				  -
    373  f000				  -	      jmp	rmt_silence	;* Run this to stop the driver, and reset all POKEY
    374  f000				  -			;* registers to 0. This is also part of rmt_init
    375  f000				  -			;* when it is executed first.
    376  f000				  -
    377  f000				  -	      jmp	SetPokey	;* Run to copy the contents of the Shadow POKEY
    378  f000				  -			;* registers (v_audctl, v_skctl, trackn_audf,x etc)
    379  f000				  -			;* into the real ones. Will be run first each time
    380  f000				  -			;* rmt_play is called.
    381  f000				  -rmt_init
    382  f000				  -	      stx	_ns
    383  f000				  -	      sty	_ns+1
    384  f000				  -	      pha
    385  f000				  -	      IF	track_endvariables-track_variables>255
    386  f000				  -	      ldy	#0
    387  f000				  -	      tya
    388  f000				  -ri_clear_loop
    389  f000				  -	      sta	track_variables,y
    390  f000				  -	      sta	track_endvariables-$100,y
    391  f000				  -	      iny
    392  f000				  -	      bne	ri_clear_loop
    393  f000				  -	      ELSE
    394  f000				  -	      ldy	#track_endvariables-track_variables
    395  f000				  -	      lda	#0
    396  f000				  -ri_clear_loop
    397  f000				  -	      sta	track_variables-1,y
    398  f000				  -	      dey
    399  f000				  -	      bne	ri_clear_loop
    400  f000				  -	      ENDIF
    401  f000				  -			;* Parse the RMT module data
    402  f000				  -			;* Track length: +4
    403  f000				  -	      ldy	#4
    404  f000				  -	      lda	(_ns),y
    405  f000				  -	      sta	v_maxtracklen	;* Change the code to store the track length
    406  f000				  -	      iny
    407  f000				  -	      lda	(_ns),y
    408  f000				  -	      sta	v_speed	;* Change the code to store the song speed
    409  f000				  -	      iny
    410  f000				  -	      lda	(_ns),y
    411  f000				  -	      sta	v_instrspeed	;* Change the code to store the instrument speed
    412  f000				  -	      sta	smc_silence_instrspeed
    413  f000				  -
    414  f000				  -			; Copy 4 pointers: +8
    415  f000				  -			; -> InstrumentPtrs[]	       2 bytes
    416  f000				  -			; -> TracksPtrsLow[]	       2 bytes
    417  f000				  -			; -> TracksPtrsHi	       2 bytes
    418  f000				  -			; -> SongData		       2 bytes
    419  f000				  -	      ldy	#8
    420  f000				  -ri_copy_loop
    421  f000				  -	      lda	(_ns),y
    422  f000				  -	      sta	p_tis-8,y
    423  f000				  -	      iny
    424  f000				  -	      cpy	#8+8	;* we started at 8, so loop until 16
    425  f000				  -	      bne	ri_copy_loop
    426  f000				  -
    427  f000				  -	      pla
    428  f000				  -	      pha
    429  f000				  -	      IF	STEREO8T
    430  f000				  -	      asl
    431  f000				  -	      asl
    432  f000				  -	      asl
    433  f000				  -	      clc
    434  f000				  -	      adc	ptrSongLines
    435  f000				  -	      sta	ptrSongLines
    436  f000				  -	      pla
    437  f000				  -	      and	#$e0
    438  f000				  -	      asl
    439  f000				  -	      rol
    440  f000				  -	      rol
    441  f000				  -	      rol
    442  f000				  -	      ELSE
    443  f000				  -	      asl
    444  f000				  -	      asl
    445  f000				  -	      clc
    446  f000				  -	      adc	ptrSongLines
    447  f000				  -	      sta	ptrSongLines
    448  f000				  -	      pla
    449  f000				  -	      and	#$c0
    450  f000				  -	      asl
    451  f000				  -	      rol
    452  f000				  -	      rol
    453  f000				  -	      ENDIF
    454  f000				  -	      adc	ptrSongLines+1
    455  f000				  -	      sta	ptrSongLines+1
    456  f000				  -
    457  f000				  -	      jsr	GetSongLine
    458  f000				  -
    459  f000				  -	      jsr	GetTrackLine
    460  f000				  -	      jsr	InitOfNewSetInstrumentsOnly
    461  f000				  -	      jsr	rmt_silence
    462  f000				  -	      lda	v_instrspeed
    463  f000				  -	      rts
    464  f000				  -
    465  f000				  -rmt_silence
    466  f000				  -	      IF	STEREO8T
    467  f000				  -	      lda	#0
    468  f000				  -	      sta	POKEY_BASE+$08
    469  f000				  -	      sta	POKEY_BASE_S+$08
    470  f000				  -	      ldy	#3
    471  f000				  -	      sty	POKEY_BASE+$0f
    472  f000				  -	      sty	POKEY_BASE_S+$0f
    473  f000				  -	      ldy	#8
    474  f000				  -rmt_silence_loop
    475  f000				  -	      sta	POKEY_BASE+$00,y
    476  f000				  -	      sta	POKEY_BASE_S+$00,y
    477  f000				  -	      dey
    478  f000				  -	      bpl	rmt_silence_loop
    479  f000				  -	      ELSE
    480  f000				  -	      lda	#0
    481  f000				  -	      sta	POKEY_BASE+$08
    482  f000				  -	      ldy	#3
    483  f000				  -	      sty	POKEY_BASE+$0f
    484  f000				  -	      ldy	#8
    485  f000				  -rmt_silence_loop
    486  f000				  -	      sta	POKEY_BASE+$00,y
    487  f000				  -	      dey
    488  f000				  -	      bpl	rmt_silence_loop
    489  f000				  -	      ENDIF
    490  f000				  -	      rts
    491  f000				  -
    492  f000				  -GetSongLine
    493  f000				  -	      ldx	#0
    494  f000				  -	      stx	v_abeat
    495  f000				  -gsl_loop
    496  f000				  -	      ldx	#0
    497  f000				  -gsl_nextSongLine
    498  f000				  -	      txa
    499  f000				  -	      tay
    500  f000				  -	      lda	(ptrSongLines),y
    501  f000				  -			;* Check for special song line commands. Track numbers >= $FE are not real
    502  f000				  -			;* tracks, but control flow commands:
    503  f000				  -			;* $FE = Jump to a new song line pointer.
    504  f000				  -			;* $FF = Empty track line (handled in this 7800 port by setting a max pause).
    505  f000				  -	      cmp	#$fe	;* check for "goto line"
    506  f000				  -	      bcs	gsl_GotoOrEmpty	;* and handle it.
    507  f000				  -			;* (A) = Real track #
    508  f000				  -			;* Get the ptr to the track data and store it in ptrTracksTblLo
    509  f000				  -	      tay
    510  f000				  -	      lda	(ptrTracksTblLo),y
    511  f000				  -	      sta	trackn_TblLo,x
    512  f000				  -	      lda	(ptrTracksTblHi),y
    513  f000				  -gsl_initTrack
    514  f000				  -	      sta	trackn_TblHi,x
    515  f000				  -
    516  f000				  -	      lda	#0	;* reset the track index to 0 trackn_idx[x] = 0
    517  f000				  -	      sta	trackn_idx,x
    518  f000				  -
    519  f000				  -	      lda	#1
    520  f000				  -	      sta	trackn_pause,x	;* #1 is a new track, #0 is no new track
    521  f000				  -
    522  f000				  -	      lda	#$80	;* mark that there is no new instrument
    523  f000				  -	      sta	trackn_instrx2,x	;* #$80 is negative, will BMI when encountered,
    524  f000				  -			;* meaning no new instrument initialisation
    525  f000				  -	      inx
    526  f000				  -	      cpx	#TRACKS	;* if x < TRACKS --> gsl_nextSongLine
    527  f000				  -	      bne	gsl_nextSongLine
    528  f000				  -
    529  f000				  -			;* Done with data points of a song line, move to the next line
    530  f000				  -	      lda	ptrSongLines
    531  f000				  -	      clc
    532  f000				  -	      adc	#TRACKS
    533  f000				  -	      sta	ptrSongLines
    534  f000				  -	      bcc	gsl_skipSongHiIncrement
    535  f000				  -	      inc	ptrSongLines+1
    536  f000				  -gsl_skipSongHiIncrement
    537  f000				  -	      rts
    538  f000				  -
    539  f000				  -gsl_GotoOrEmpty
    540  f000				  -			; "cmp #$FE" performed prior to getting here
    541  f000				  -	      beq	gsl_Goto
    542  f000				  -
    543  f000				  -gsl_Empty
    544  f000				  -	      lda	#<emptytrack
    545  f000				  -	      sta	trackn_TblLo,x
    546  f000				  -	      lda	#>emptytrack
    547  f000				  -	      jmp	gsl_initTrack
    548  f000				  -
    549  f000				  -gsl_Goto
    550  f000				  -			; Data format: 0xFE, ???, low, high bytes of ptr to next song line
    551  f000				  -	      ldy	#2
    552  f000				  -	      lda	(ptrSongLines),y
    553  f000				  -	      tax
    554  f000				  -	      iny
    555  f000				  -	      lda	(ptrSongLines),y
    556  f000				  -	      sta	ptrSongLines+1
    557  f000				  -	      stx	ptrSongLines
    558  f000				  -	      jmp	gsl_loop
    559  f000				  -
    560  f000				  -GetTrackLine
    561  f000				  -rmtoo0
    562  f000				  -rmtoo0a
    563  f000				  -	      lda	v_speed
    564  f000				  -	      sta	v_bspeed
    565  f000				  -	      ldx	#0
    566  f000				  -gtl_loopTracks
    567  f000				  -	      lda	trackn_pause,x
    568  f000				  -	      beq	gtl_checkEndOfLoop
    569  f000				  -	      dec	trackn_pause,x
    570  f000				  -	      bne	gtl_checkEndOfLoop
    571  f000				  -	      inc	trackn_pause,x
    572  f000				  -
    573  f000				  -	      lda	trackn_TblLo,x
    574  f000				  -	      sta	_ns
    575  f000				  -	      lda	trackn_TblHi,x
    576  f000				  -	      sta	_ns+1
    577  f000				  -
    578  f000				  -oo1i
    579  f000				  -	      ldy	trackn_idx,x
    580  f000				  -			;* Get a track data point. The track data stream is a sequence of commands
    581  f000				  -			;* encoded by the first byte's value:
    582  f000				  -			;* 0-60 ($00-$3C): A new note. The next byte contains instrument/volume.
    583  f000				  -			;* 61	 ($3D):      Volume-only change for the current note.
    584  f000				  -			;* 62	 ($3E):      Pause. The next byte specifies duration.
    585  f000				  -			;* 63	 ($3F):      Control command (e.g., change speed, loop, or end track).
    586  f000				  -	      lda	(_ns),y
    587  f000				  -	      sta	rmtreg1
    588  f000				  -	      iny
    589  f000				  -	      lda	(_ns),y
    590  f000				  -	      sta	rmtreg2
    591  f000				  -	      iny
    592  f000				  -	      tya
    593  f000				  -	      sta	trackn_idx,x
    594  f000				  -
    595  f000				  -	      lda	rmtreg1
    596  f000				  -	      and	#$3f
    597  f000				  -	      cmp	#61
    598  f000				  -	      beq	gtl_ProcessVolumeData
    599  f000				  -	      bcs	gtl_Is62or63
    600  f000				  -
    601  f000				  -			;* if we're here it's a note, so store it.
    602  f000				  -	      sta	trackn_note,x
    603  f000				  -	      IF	FEAT_BASS16
    604  f000				  -	      sta	trackn_outnote,x
    605  f000				  -	      ENDIF
    606  f000				  -
    607  f000				  -			;* Process the instrument #
    608  f000				  -	      lda	rmtreg2
    609  f000				  -	      lsr
    610  f000				  -	      and	#$3f*2
    611  f000				  -	      sta	trackn_instrx2,x
    612  f000				  -
    613  f000				  -gtl_ProcessVolumeData
    614  f000				  -			;* The note/instrument/volume data is packed into two bytes to save space.
    615  f000				  -			;* Byte 1: [vvnnnnnn] (v=volume bits 3&2, n=note)
    616  f000				  -			;* Byte 2: [iiiiii vv] (i=instrument, v=volume bits 1&0)
    617  f000				  -			;* This sequence unpacks the 4-bit volume from the two bytes.
    618  f000				  -	      lda	rmtreg2
    619  f000				  -	      lsr
    620  f000				  -	      ror	rmtreg1
    621  f000				  -	      lsr
    622  f000				  -	      ror	rmtreg1
    623  f000				  -	      lda	rmtreg1
    624  f000				  -	      and	#$f0
    625  f000				  -	      sta	trackn_volume,x
    626  f000				  -gtl_checkEndOfLoop
    627  f000				  -	      inx
    628  f000				  -	      cpx	#TRACKS
    629  f000				  -	      bne	gtl_loopTracks
    630  f000				  -	      lda	v_bspeed
    631  f000				  -	      sta	v_speed
    632  f000				  -	      sta	v_aspeed
    633  f000				  -	      rts
    634  f000				  -
    635  f000				  -gtl_Is62or63
    636  f000				  -	      cmp	#63
    637  f000				  -	      beq	rmtoo63
    638  f000				  -	      lda	rmtreg1
    639  f000				  -	      and	#$c0
    640  f000				  -	      beq	rmtoo62_b
    641  f000				  -	      asl
    642  f000				  -	      rol
    643  f000				  -	      rol
    644  f000				  -	      sta	trackn_pause,x
    645  f000				  -	      dec	trackn_idx,x
    646  f000				  -	      jmp	gtl_checkEndOfLoop
    647  f000				  -
    648  f000				  -rmtoo62_b
    649  f000				  -	      lda	rmtreg2
    650  f000				  -	      sta	trackn_pause,x
    651  f000				  -	      jmp	gtl_checkEndOfLoop
    652  f000				  -
    653  f000				  -rmtoo63
    654  f000				  -	      lda	rmtreg1
    655  f000				  -	      bmi	rmtoo63_1X
    656  f000				  -	      lda	rmtreg2
    657  f000				  -	      sta	v_bspeed
    658  f000				  -	      jmp	oo1i
    659  f000				  -rmtoo63_1X
    660  f000				  -	      cmp	#255
    661  f000				  -	      beq	rmtoo63_11
    662  f000				  -	      lda	rmtreg2
    663  f000				  -	      sta	trackn_idx,x
    664  f000				  -	      jmp	oo1i
    665  f000				  -
    666  f000				  -rmtoo63_11
    667  f000				  -	      jsr	GetSongLine
    668  f000				  -	      jmp	rmtoo0
    669  f000				  -
    670  f000				  -InitOfNewSetInstrumentsOnly
    671  f000				  -	      ldx	#0
    672  f000				  -p2x1       ldy	trackn_instrx2,x
    673  f000				  -	      bmi	p2x2	;* if negative, no new instrument to initialise for this channel
    674  f000				  -	      jsr	SetUpInstrumentY2
    675  f000				  -	      lda	#$80
    676  f000				  -	      sta	trackn_instrx2,x
    677  f000				  -p2x2
    678  f000				  -	      inx
    679  f000				  -	      cpx	#TRACKS
    680  f000				  -	      bne	p2x1
    681  f000				  -	      rts
    682  f000				  -
    683  f000				  -			;* rmt_play:
    684  f000				  -			;*   This is the main player entry point, intended to be called once per frame
    685  f000				  -			;*   It orchestrates all player state updates.
    686  f000				  -			;*   The timing is controlled by two counters:
    687  f000				  -			;*   1. v_aspeed: Ticks per song line. When it reaches zero, a new line of
    688  f000				  -			;*	 track data is read by GetTrackLine. This is the "song tempo".
    689  f000				  -			;*   2. smc_silence_instrspeed: Ticks per instrument step. When it reaches
    690  f000				  -			;*	 zero, the instrument envelopes/effects are processed.
    691  f000				  -			;*
    692  f000				  -rmt_play
    693  f000				  -rmt_p0
    694  f000				  -	      jsr	SetPokey
    695  f000				  -rmt_p1
    696  f000				  -	      dec	smc_silence_instrspeed
    697  f000				  -	      beq	rmtp1a
    698  f000				  -	      jmp	rmt_p3
    699  f000				  -rmtp1a
    700  f000				  -	      lda	v_instrspeed
    701  f000				  -	      sta	smc_silence_instrspeed
    702  f000				  -rmt_p2
    703  f000				  -	      dec	v_aspeed
    704  f000				  -	      bne	rmt_p3
    705  f000				  -	      inc	v_abeat
    706  f000				  -	      lda	v_abeat
    707  f000				  -	      cmp	v_maxtracklen
    708  f000				  -	      bne	rmtp2o2
    709  f000				  -	      jsr	GetSongLine
    710  f000				  -rmtp2o2
    711  f000				  -	      jsr	GetTrackLine
    712  f000				  -	      jmp	rmt_p2X
    713  f000				  -go_ppnext
    714  f000				  -	      jmp	ppnext
    715  f000				  -rmt_p2X
    716  f000				  -	      jsr	InitOfNewSetInstrumentsOnly
    717  f000				  -rmt_p3
    718  f000				  -	      lda	#>frqtab
    719  f000				  -	      sta	_nr+1
    720  f000				  -
    721  f000				  -	      ldx	#0
    722  f000				  -rmtpp1
    723  f000				  -	      lda	trackn_instrhb,x
    724  f000				  -	      beq	go_ppnext
    725  f000				  -	      sta	_ns+1
    726  f000				  -	      lda	trackn_instrdb,x
    727  f000				  -	      sta	_ns
    728  f000				  -	      ldy	trackn_instridx,x
    729  f000				  -	      lda	(_ns),y
    730  f000				  -	      sta	rmtreg1
    731  f000				  -	      iny
    732  f000				  -	      lda	(_ns),y
    733  f000				  -	      sta	rmtreg2
    734  f000				  -	      iny
    735  f000				  -	      lda	(_ns),y
    736  f000				  -	      sta	rmtreg3
    737  f000				  -	      iny
    738  f000				  -	      tya
    739  f000				  -	      cmp	trackn_instrlen,x
    740  f000				  -	      bcc	rmtpp2
    741  f000				  -	      beq	rmtpp2
    742  f000				  -	      lda	#$80
    743  f000				  -	      sta	trackn_instrreachend,x
    744  f000				  -rmtpp1b
    745  f000				  -	      lda	trackn_instrlop,x
    746  f000				  -rmtpp2
    747  f000				  -	      sta	trackn_instridx,x
    748  f000				  -	      lda	rmtreg1
    749  f000				  -	      IF	STEREO8T
    750  f000				  -	      cpx	#4
    751  f000				  -	      bcc	rmtpp2s
    752  f000				  -	      lsr
    753  f000				  -	      lsr
    754  f000				  -	      lsr
    755  f000				  -	      lsr
    756  f000				  -rmtpp2s
    757  f000				  -	      ENDIF
    758  f000				  -	      and	#$0f
    759  f000				  -	      ora	trackn_volume,x
    760  f000				  -	      tay
    761  f000				  -	      lda	volumetab,y
    762  f000				  -	      pha
    763  f000				  -	      lda	rmtreg2
    764  f000				  -	      and	#$0e
    765  f000				  -	      tay
    766  f000				  -	      lda	tabbeganddistor,y
    767  f000				  -	      sta	_nr
    768  f000				  -	      pla
    769  f000				  -	      ora	tabbeganddistor+1,y
    770  f000				  -	      sta	trackn_audc,x
    771  f000				  -	      jmp	InstrumentsEffects
    772  f000				  -returnfromInstrumentsEffects
    773  f000				  -	      IF	FEAT_COMMAND2
    774  f000				  -	      lda	#0
    775  f000				  -	      sta	frqaddcmd2
    776  f000				  -	      ENDIF
    777  f000				  -	      lda	rmtreg2
    778  f000				  -	      sta	trackn_command,x
    779  f000				  -	      and	#$70
    780  f000				  -			;* This is the main instrument command dispatcher. The command number (0-7)
    781  f000				  -			;* is stored in the 3 bits of reg2 ($70 mask).
    782  f000				  -			;* The original player used self-modifying code here (sta jmx+1) to jump
    783  f000				  -			;* to the correct command handler.
    784  f000				  -			;* For a ROM-based system like the 7800:
    785  f000				  -			;*   the jump has been changed to use a table of addresses (rts_tab). The code
    786  f000				  -			;*   pushes the correct handler's address-1 onto the stack and executes an RTS,
    787  f000				  -			;*   effectively performing a calculated JMP.
    788  f000				  -			;* For a RAM-based system:
    789  f000				  -			;*   the jump uses self-modifying code to branch to the desired JMP
    790  f000				  -			;*   instruction.
    791  f000				  -	      lsr
    792  f000				  -	      lsr
    793  f000				  -	      IF	ROM_BASED
    794  f000				  -	      lsr
    795  f000				  -	      tay
    796  f000				  -	      lda	rts_tab+1,y
    797  f000				  -	      pha
    798  f000				  -	      lda	rts_tab,y
    799  f000				  -	      pha
    800  f000				  -	      rts
    801  f000				  -	      ELSE
    802  f000				  -	      sta	jmx+1
    803  f000				  -jmx
    804  f000				  -	      bcc	*
    805  f000				  -	      jmp	cmd0
    806  f000				  -	      nop
    807  f000				  -	      jmp	cmd1
    808  f000				  -	      nop
    809  f000				  -	      jmp	cmd2
    810  f000				  -	      nop
    811  f000				  -	      jmp	cmd3
    812  f000				  -	      nop
    813  f000				  -	      jmp	cmd4
    814  f000				  -	      nop
    815  f000				  -	      jmp	cmd5
    816  f000				  -	      nop
    817  f000				  -	      jmp	cmd6
    818  f000				  -	      nop
    819  f000				  -	      jmp	cmd7
    820  f000				  -	      ENDIF
    821  f000				  -cmd0
    822  f000				  -	      lda	trackn_note,x
    823  f000				  -	      clc
    824  f000				  -	      adc	rmtreg3
    825  f000				  -cmd0a
    826  f000				  -	      IF	FEAT_TABLETYPE
    827  f000				  -	      ldy	trackn_tabletypespeed,x
    828  f000				  -	      bmi	cmd0b
    829  f000				  -	      ENDIF
    830  f000				  -	      clc
    831  f000				  -	      adc	trackn_tablenote,x
    832  f000				  -	      cmp	#61
    833  f000				  -	      bcc	cmd0a1
    834  f000				  -	      lda	#0
    835  f000				  -	      sta	trackn_audc,x
    836  f000				  -	      lda	#63
    837  f000				  -cmd0a1
    838  f000				  -	      IF	FEAT_BASS16
    839  f000				  -	      sta	trackn_outnote,x
    840  f000				  -	      ENDIF
    841  f000				  -	      tay
    842  f000				  -	      lda	(_nr),y
    843  f000				  -	      clc
    844  f000				  -	      adc	trackn_shiftfrq,x
    845  f000				  -	      IF	FEAT_COMMAND2
    846  f000				  -	      clc
    847  f000				  -	      adc	frqaddcmd2
    848  f000				  -	      ENDIF
    849  f000				  -	      sta	trackn_audf,x
    850  f000				  -	      jmp	rmtpp9
    851  f000				  -	      IF	FEAT_TABLETYPE
    852  f000				  -cmd0b
    853  f000				  -	      cmp	#61
    854  f000				  -	      bcc	cmd0b1
    855  f000				  -	      lda	#0
    856  f000				  -	      sta	trackn_audc,x
    857  f000				  -	      lda	#63
    858  f000				  -cmd0b1
    859  f000				  -	      tay
    860  f000				  -	      lda	trackn_shiftfrq,x
    861  f000				  -	      clc
    862  f000				  -	      adc	trackn_tablenote,x
    863  f000				  -	      clc
    864  f000				  -	      adc	(_nr),y
    865  f000				  -	      IF	FEAT_COMMAND2
    866  f000				  -	      clc
    867  f000				  -	      adc	frqaddcmd2
    868  f000				  -	      ENDIF
    869  f000				  -	      sta	trackn_audf,x
    870  f000				  -	      jmp	rmtpp9
    871  f000				  -	      ENDIF
    872  f000				  -cmd1
    873  f000				  -	      IF	FEAT_COMMAND1
    874  f000				  -	      lda	rmtreg3
    875  f000				  -	      sta	trackn_audf,x
    876  f000				  -	      jmp	rmtpp9
    877  f000				  -	      ENDIF
    878  f000				  -cmd2
    879  f000				  -	      IF	FEAT_COMMAND2
    880  f000				  -	      lda	rmtreg3
    881  f000				  -	      sta	frqaddcmd2
    882  f000				  -	      lda	trackn_note,x
    883  f000				  -	      jmp	cmd0a
    884  f000				  -	      ENDIF
    885  f000				  -cmd3
    886  f000				  -	      IF	FEAT_COMMAND3
    887  f000				  -	      lda	trackn_note,x
    888  f000				  -	      clc
    889  f000				  -	      adc	rmtreg3
    890  f000				  -	      sta	trackn_note,x
    891  f000				  -	      jmp	cmd0a
    892  f000				  -	      ENDIF
    893  f000				  -cmd4
    894  f000				  -	      IF	FEAT_COMMAND4
    895  f000				  -	      lda	trackn_shiftfrq,x
    896  f000				  -	      clc
    897  f000				  -	      adc	rmtreg3
    898  f000				  -	      sta	trackn_shiftfrq,x
    899  f000				  -	      lda	trackn_note,x
    900  f000				  -	      jmp	cmd0a
    901  f000				  -	      ENDIF
    902  f000				  -cmd5
    903  f000				  -	      IF	FEAT_COMMAND5&&FEAT_PORTAMENTO
    904  f000				  -	      IF	FEAT_TABLETYPE
    905  f000				  -	      lda	trackn_tabletypespeed,x
    906  f000				  -	      bpl	cmd5a1
    907  f000				  -	      ldy	trackn_note,x
    908  f000				  -	      lda	(_nr),y
    909  f000				  -	      clc
    910  f000				  -	      adc	trackn_tablenote,x
    911  f000				  -	      jmp	cmd5ax
    912  f000				  -	      ENDIF
    913  f000				  -cmd5a1
    914  f000				  -	      lda	trackn_note,x
    915  f000				  -	      clc
    916  f000				  -	      adc	trackn_tablenote,x
    917  f000				  -	      cmp	#61
    918  f000				  -	      bcc	cmd5a2
    919  f000				  -	      lda	#63
    920  f000				  -cmd5a2
    921  f000				  -	      tay
    922  f000				  -	      lda	(_nr),y
    923  f000				  -cmd5ax
    924  f000				  -	      sta	trackn_portafrqc,x
    925  f000				  -	      ldy	rmtreg3
    926  f000				  -	      bne	cmd5a
    927  f000				  -	      sta	trackn_portafrqa,x
    928  f000				  -cmd5a
    929  f000				  -	      tya
    930  f000				  -	      lsr
    931  f000				  -	      lsr
    932  f000				  -	      lsr
    933  f000				  -	      lsr
    934  f000				  -	      sta	trackn_portaspeed,x
    935  f000				  -	      sta	trackn_portaspeeda,x
    936  f000				  -	      lda	rmtreg3
    937  f000				  -	      and	#$0f
    938  f000				  -	      sta	trackn_portadepth,x
    939  f000				  -	      lda	trackn_note,x
    940  f000				  -	      jmp	cmd0a
    941  f000				  -	      ELSE
    942  f000				  -	      IF	FEAT_COMMAND5
    943  f000				  -	      jmp	rmtpp9
    944  f000				  -	      ENDIF
    945  f000				  -	      ENDIF
    946  f000				  -cmd6
    947  f000				  -	      IF	FEAT_COMMAND6&&FEAT_FILTER
    948  f000				  -	      lda	rmtreg3
    949  f000				  -	      clc
    950  f000				  -	      adc	trackn_filter,x
    951  f000				  -	      sta	trackn_filter,x
    952  f000				  -	      lda	trackn_note,x
    953  f000				  -	      jmp	cmd0a
    954  f000				  -	      ELSE
    955  f000				  -	      IF	FEAT_COMMAND6
    956  f000				  -	      jmp	rmtpp9
    957  f000				  -	      ENDIF
    958  f000				  -	      ENDIF
    959  f000				  -cmd7
    960  f000				  -	      IF	FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
    961  f000				  -	      IF	FEAT_COMMAND7SETNOTE
    962  f000				  -	      lda	rmtreg3
    963  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY
    964  f000				  -	      cmp	#$80
    965  f000				  -	      beq	cmd7a
    966  f000				  -	      ENDIF
    967  f000				  -	      sta	trackn_note,x
    968  f000				  -	      jmp	cmd0a
    969  f000				  -	      ENDIF
    970  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY
    971  f000				  -cmd7a
    972  f000				  -	      lda	trackn_audc,x
    973  f000				  -	      ora	#$f0
    974  f000				  -	      sta	trackn_audc,x
    975  f000				  -	      lda	trackn_note,x
    976  f000				  -	      jmp	cmd0a
    977  f000				  -	      ENDIF
    978  f000				  -	      ENDIF
    979  f000				  -rmtpp9
    980  f000				  -	      IF	FEAT_PORTAMENTO
    981  f000				  -	      lda	trackn_portaspeeda,x
    982  f000				  -	      beq	rmtpp10
    983  f000				  -	      sec
    984  f000				  -	      sbc	#1
    985  f000				  -	      sta	trackn_portaspeeda,x
    986  f000				  -	      bne	rmtpp10
    987  f000				  -	      lda	trackn_portaspeed,x
    988  f000				  -	      sta	trackn_portaspeeda,x
    989  f000				  -	      lda	trackn_portafrqa,x
    990  f000				  -	      cmp	trackn_portafrqc,x
    991  f000				  -	      beq	rmtpp10
    992  f000				  -	      bcs	pps1
    993  f000				  -	      adc	trackn_portadepth,x
    994  f000				  -	      bcs	pps8
    995  f000				  -	      cmp	trackn_portafrqc,x
    996  f000				  -	      bcs	pps8
    997  f000				  -	      jmp	pps9
    998  f000				  -pps1
    999  f000				  -	      sbc	trackn_portadepth,x
   1000  f000				  -	      bcc	pps8
   1001  f000				  -	      cmp	trackn_portafrqc,x
   1002  f000				  -	      bcs	pps9
   1003  f000				  -pps8
   1004  f000				  -	      lda	trackn_portafrqc,x
   1005  f000				  -pps9
   1006  f000				  -	      sta	trackn_portafrqa,x
   1007  f000				  -rmtpp10
   1008  f000				  -	      lda	rmtreg2
   1009  f000				  -	      and	#$01
   1010  f000				  -	      beq	rmtpp11
   1011  f000				  -	      lda	trackn_portafrqa,x
   1012  f000				  -	      clc
   1013  f000				  -	      adc	trackn_shiftfrq,x
   1014  f000				  -	      sta	trackn_audf,x
   1015  f000				  -rmtpp11
   1016  f000				  -	      ENDIF
   1017  f000				  -ppnext
   1018  f000				  -	      inx
   1019  f000				  -	      cpx	#TRACKS
   1020  f000				  -	      beq	rmt_p4
   1021  f000				  -	      jmp	rmtpp1
   1022  f000				  -rmt_p4
   1023  f000				  -	      IF	FEAT_AUDCTLMANUALSET
   1024  f000				  -	      ldx	#3
   1025  f000				  -	      lda	#0
   1026  f000				  -qq0	      ora	trackn_audctl,x
   1027  f000				  -	      dex
   1028  f000				  -	      bpl	qq0
   1029  f000				  -	      sta	v_audctl
   1030  f000				  -			;* This section handles advanced audio effects that require multiple POKEY
   1031  f000				  -			;* channels. The priority system:
   1032  f000				  -			;* 1. Filters (highest priority): If a track enables a filter, it will
   1033  f000				  -			;*    override the channel it needs (e.g., track 0 filter uses channel 2),
   1034  f000				  -			;*    silencing whatever was playing there.
   1035  f000				  -			;* 2. 16-bit Bass (medium priority): If a filter is not active on a needed
   1036  f000				  -			;*    channel, 16-bit bass can use it (e.g., track 1 bass uses channel 0).
   1037  f000				  -			;* 3. Normal Track Playback (lowest priority).
   1038  f000				  -			;* The code first checks for and applies filters, then checks for 16-bit bass.
   1039  f000				  -qq1
   1040  f000				  -	      ldx	v_audctl
   1041  f000				  -	      ELSE
   1042  f000				  -	      ldx	#0
   1043  f000				  -	      stx	v_audctl
   1044  f000				  -	      ENDIF
   1045  f000				  -	      IF	FEAT_FILTER
   1046  f000				  -	      IF	FEAT_FILTERG0L
   1047  f000				  -	      lda	trackn_command+0
   1048  f000				  -	      bpl	qq2
   1049  f000				  -	      lda	trackn_audc+0
   1050  f000				  -	      and	#$0f
   1051  f000				  -	      beq	qq2
   1052  f000				  -	      lda	trackn_audf+0
   1053  f000				  -	      clc
   1054  f000				  -	      adc	trackn_filter+0
   1055  f000				  -	      sta	trackn_audf+2
   1056  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2L
   1057  f000				  -	      lda	trackn_audc+2
   1058  f000				  -	      and	#$10
   1059  f000				  -	      bne	qq1a
   1060  f000				  -	      ENDIF
   1061  f000				  -	      lda	#0
   1062  f000				  -	      sta	trackn_audc+2
   1063  f000				  -qq1a
   1064  f000				  -	      txa
   1065  f000				  -	      ora	#4
   1066  f000				  -	      tax
   1067  f000				  -	      ENDIF
   1068  f000				  -qq2
   1069  f000				  -	      IF	FEAT_FILTERG1L
   1070  f000				  -	      lda	trackn_command+1
   1071  f000				  -	      bpl	qq3
   1072  f000				  -	      lda	trackn_audc+1
   1073  f000				  -	      and	#$0f
   1074  f000				  -	      beq	qq3
   1075  f000				  -	      lda	trackn_audf+1
   1076  f000				  -	      clc
   1077  f000				  -	      adc	trackn_filter+1
   1078  f000				  -	      sta	trackn_audf+3
   1079  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG3L
   1080  f000				  -	      lda	trackn_audc+3
   1081  f000				  -	      and	#$10
   1082  f000				  -	      bne	qq2a
   1083  f000				  -	      ENDIF
   1084  f000				  -	      lda	#0
   1085  f000				  -	      sta	trackn_audc+3
   1086  f000				  -qq2a
   1087  f000				  -	      txa
   1088  f000				  -	      ora	#2
   1089  f000				  -	      tax
   1090  f000				  -	      ENDIF
   1091  f000				  -qq3
   1092  f000				  -	      IF	FEAT_FILTERG0L||FEAT_FILTERG1L
   1093  f000				  -	      cpx	v_audctl
   1094  f000				  -	      bne	qq5
   1095  f000				  -	      ENDIF
   1096  f000				  -	      ENDIF
   1097  f000				  -	      IF	FEAT_BASS16
   1098  f000				  -	      IF	FEAT_BASS16G1L
   1099  f000				  -	      lda	trackn_command+1
   1100  f000				  -	      and	#$0e
   1101  f000				  -	      cmp	#6
   1102  f000				  -	      bne	qq4
   1103  f000				  -	      lda	trackn_audc+1
   1104  f000				  -	      and	#$0f
   1105  f000				  -	      beq	qq4
   1106  f000				  -	      ldy	trackn_outnote+1
   1107  f000				  -	      lda	frqtabbasslo,y
   1108  f000				  -	      sta	trackn_audf+0
   1109  f000				  -	      lda	frqtabbasshi,y
   1110  f000				  -	      sta	trackn_audf+1
   1111  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG0L
   1112  f000				  -	      lda	trackn_audc+0
   1113  f000				  -	      and	#$10
   1114  f000				  -	      bne	qq3a
   1115  f000				  -	      ENDIF
   1116  f000				  -	      lda	#0
   1117  f000				  -	      sta	trackn_audc+0
   1118  f000				  -qq3a
   1119  f000				  -	      txa
   1120  f000				  -	      ora	#$50
   1121  f000				  -	      tax
   1122  f000				  -	      ENDIF
   1123  f000				  -qq4
   1124  f000				  -	      IF	FEAT_BASS16G3L
   1125  f000				  -	      lda	trackn_command+3
   1126  f000				  -	      and	#$0e
   1127  f000				  -	      cmp	#6
   1128  f000				  -	      bne	qq5
   1129  f000				  -	      lda	trackn_audc+3
   1130  f000				  -	      and	#$0f
   1131  f000				  -	      beq	qq5
   1132  f000				  -	      ldy	trackn_outnote+3
   1133  f000				  -	      lda	frqtabbasslo,y
   1134  f000				  -	      sta	trackn_audf+2
   1135  f000				  -	      lda	frqtabbasshi,y
   1136  f000				  -	      sta	trackn_audf+3
   1137  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2L
   1138  f000				  -	      lda	trackn_audc+2
   1139  f000				  -	      and	#$10
   1140  f000				  -	      bne	qq4a
   1141  f000				  -	      ENDIF
   1142  f000				  -	      lda	#0
   1143  f000				  -	      sta	trackn_audc+2
   1144  f000				  -qq4a
   1145  f000				  -	      txa
   1146  f000				  -	      ora	#$28
   1147  f000				  -	      tax
   1148  f000				  -	      ENDIF
   1149  f000				  -	      ENDIF
   1150  f000				  -qq5
   1151  f000				  -	      stx	v_audctl
   1152  f000				  -	      IF	STEREO8T
   1153  f000				  -	      IF	FEAT_AUDCTLMANUALSET
   1154  f000				  -	      ldx	#3
   1155  f000				  -	      lda	#0
   1156  f000				  -qs0	      ora	trackn_audctl+4,x
   1157  f000				  -	      dex
   1158  f000				  -	      bpl	qs0
   1159  f000				  -	      sta	v_audctl2
   1160  f000				  -qs1
   1161  f000				  -	      ldx	v_audctl2
   1162  f000				  -	      ELSE
   1163  f000				  -	      ldx	#0
   1164  f000				  -	      stx	v_audctl2
   1165  f000				  -	      ENDIF
   1166  f000				  -	      IF	FEAT_FILTER
   1167  f000				  -	      IF	FEAT_FILTERG0R
   1168  f000				  -	      lda	trackn_command+0+4
   1169  f000				  -	      bpl	qs2
   1170  f000				  -	      lda	trackn_audc+0+4
   1171  f000				  -	      and	#$0f
   1172  f000				  -	      beq	qs2
   1173  f000				  -	      lda	trackn_audf+0+4
   1174  f000				  -	      clc
   1175  f000				  -	      adc	trackn_filter+0+4
   1176  f000				  -	      sta	trackn_audf+2+4
   1177  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2R
   1178  f000				  -	      lda	trackn_audc+2+4
   1179  f000				  -	      and	#$10
   1180  f000				  -	      bne	qs1a
   1181  f000				  -	      ENDIF
   1182  f000				  -	      lda	#0
   1183  f000				  -	      sta	trackn_audc+2+4
   1184  f000				  -qs1a
   1185  f000				  -	      txa
   1186  f000				  -	      ora	#4
   1187  f000				  -	      tax
   1188  f000				  -	      ENDIF
   1189  f000				  -qs2
   1190  f000				  -	      IF	FEAT_FILTERG1R
   1191  f000				  -	      lda	trackn_command+1+4
   1192  f000				  -	      bpl	qs3
   1193  f000				  -	      lda	trackn_audc+1+4
   1194  f000				  -	      and	#$0f
   1195  f000				  -	      beq	qs3
   1196  f000				  -	      lda	trackn_audf+1+4
   1197  f000				  -	      clc
   1198  f000				  -	      adc	trackn_filter+1+4
   1199  f000				  -	      sta	trackn_audf+3+4
   1200  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG3R
   1201  f000				  -	      lda	trackn_audc+3+4
   1202  f000				  -	      and	#$10
   1203  f000				  -	      bne	qs2a
   1204  f000				  -	      ENDIF
   1205  f000				  -	      lda	#0
   1206  f000				  -	      sta	trackn_audc+3+4
   1207  f000				  -qs2a
   1208  f000				  -	      txa
   1209  f000				  -	      ora	#2
   1210  f000				  -	      tax
   1211  f000				  -	      ENDIF
   1212  f000				  -qs3
   1213  f000				  -	      IF	FEAT_FILTERG0R||FEAT_FILTERG1R
   1214  f000				  -	      cpx	v_audctl2
   1215  f000				  -	      bne	qs5
   1216  f000				  -	      ENDIF
   1217  f000				  -	      ENDIF
   1218  f000				  -	      IF	FEAT_BASS16
   1219  f000				  -	      IF	FEAT_BASS16G1R
   1220  f000				  -	      lda	trackn_command+1+4
   1221  f000				  -	      and	#$0e
   1222  f000				  -	      cmp	#6
   1223  f000				  -	      bne	qs4
   1224  f000				  -	      lda	trackn_audc+1+4
   1225  f000				  -	      and	#$0f
   1226  f000				  -	      beq	qs4
   1227  f000				  -	      ldy	trackn_outnote+1+4
   1228  f000				  -	      lda	frqtabbasslo,y
   1229  f000				  -	      sta	trackn_audf+0+4
   1230  f000				  -	      lda	frqtabbasshi,y
   1231  f000				  -	      sta	trackn_audf+1+4
   1232  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG0R
   1233  f000				  -	      lda	trackn_audc+0+4
   1234  f000				  -	      and	#$10
   1235  f000				  -	      bne	qs3a
   1236  f000				  -	      ENDIF
   1237  f000				  -	      lda	#0
   1238  f000				  -	      sta	trackn_audc+0+4
   1239  f000				  -qs3a
   1240  f000				  -	      txa
   1241  f000				  -	      ora	#$50
   1242  f000				  -	      tax
   1243  f000				  -	      ENDIF
   1244  f000				  -qs4
   1245  f000				  -	      IF	FEAT_BASS16G3R
   1246  f000				  -	      lda	trackn_command+3+4
   1247  f000				  -	      and	#$0e
   1248  f000				  -	      cmp	#6
   1249  f000				  -	      bne	qs5
   1250  f000				  -	      lda	trackn_audc+3+4
   1251  f000				  -	      and	#$0f
   1252  f000				  -	      beq	qs5
   1253  f000				  -	      ldy	trackn_outnote+3+4
   1254  f000				  -	      lda	frqtabbasslo,y
   1255  f000				  -	      sta	trackn_audf+2+4
   1256  f000				  -	      lda	frqtabbasshi,y
   1257  f000				  -	      sta	trackn_audf+3+4
   1258  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2R
   1259  f000				  -	      lda	trackn_audc+2+4
   1260  f000				  -	      and	#$10
   1261  f000				  -	      bne	qs4a
   1262  f000				  -	      ENDIF
   1263  f000				  -	      lda	#0
   1264  f000				  -	      sta	trackn_audc+2+4
   1265  f000				  -qs4a
   1266  f000				  -	      txa
   1267  f000				  -	      ora	#$28
   1268  f000				  -	      tax
   1269  f000				  -	      ENDIF
   1270  f000				  -	      ENDIF
   1271  f000				  -qs5
   1272  f000				  -	      stx	v_audctl2
   1273  f000				  -	      ENDIF
   1274  f000				  -rmt_p5
   1275  f000				  -	      lda	smc_silence_instrspeed
   1276  f000				  -	      rts
   1277  f000				  -SetPokey
   1278  f000				  -	      IF	STEREO8T
   1279  f000				  -	      ldy	v_audctl2
   1280  f000				  -	      lda	trackn_audf+0+4
   1281  f000				  -	      ldx	trackn_audf+0
   1282  f000				  -	      sta	POKEY_BASE_S+$00
   1283  f000				  -	      stx	POKEY_BASE+$00
   1284  f000				  -	      lda	trackn_audc+0+4
   1285  f000				  -	      ldx	trackn_audc+0
   1286  f000				  -	      sta	POKEY_BASE_S+$01
   1287  f000				  -	      stx	POKEY_BASE+$01
   1288  f000				  -	      lda	trackn_audf+1+4
   1289  f000				  -	      ldx	trackn_audf+1
   1290  f000				  -	      sta	POKEY_BASE_S+$02
   1291  f000				  -	      stx	POKEY_BASE+$02
   1292  f000				  -	      lda	trackn_audc+1+4
   1293  f000				  -	      ldx	trackn_audc+1
   1294  f000				  -	      sta	POKEY_BASE_S+$03
   1295  f000				  -	      stx	POKEY_BASE+$03
   1296  f000				  -	      lda	trackn_audf+2+4
   1297  f000				  -	      ldx	trackn_audf+2
   1298  f000				  -	      sta	POKEY_BASE_S+$04
   1299  f000				  -	      stx	POKEY_BASE+$04
   1300  f000				  -	      lda	trackn_audc+2+4
   1301  f000				  -	      ldx	trackn_audc+2
   1302  f000				  -	      sta	POKEY_BASE_S+$05
   1303  f000				  -	      stx	POKEY_BASE+$05
   1304  f000				  -	      lda	trackn_audf+3+4
   1305  f000				  -	      ldx	trackn_audf+3
   1306  f000				  -	      sta	POKEY_BASE_S+$06
   1307  f000				  -	      stx	POKEY_BASE+$06
   1308  f000				  -	      lda	trackn_audc+3+4
   1309  f000				  -	      ldx	trackn_audc+3
   1310  f000				  -	      sta	POKEY_BASE_S+$07
   1311  f000				  -	      stx	POKEY_BASE+$07
   1312  f000				  -	      lda	v_audctl
   1313  f000				  -	      sty	POKEY_BASE_S+$08
   1314  f000				  -	      sta	POKEY_BASE+$08
   1315  f000				  -	      ELSE
   1316  f000				  -
   1317  f000				  -	      ifconst	RMTVOLUME
   1318  f000				  -	      lda	rmtvolume
   1319  f000				  -	      sta	fourbitfadevalueint
   1320  f000				  -	      endif
   1321  f000				  -	      ldy	v_audctl
   1322  f000				  -	      ldx	trackn_audf+0
   1323  f000				  -	      lda	trackn_audc+0
   1324  f000				  -	      ifconst	RMTVOLUME
   1325  f000				  -	      jsr	fourbitfadeint
   1326  f000				  -	      endif
   1327  f000				  -	      stx	POKEY_BASE+$00+0
   1328  f000				  -	      if	HARD_OF_HEARING
   1329  f000				  -	      stx	POKEY_BASE+$00+0
   1330  f000				  -	      endif
   1331  f000				  -	      sta	POKEY_BASE+$01+0
   1332  f000				  -	      if	HARD_OF_HEARING
   1333  f000				  -	      sta	POKEY_BASE+$01+0
   1334  f000				  -	      endif
   1335  f000				  -
   1336  f000				  -	      ldx	trackn_audf+1
   1337  f000				  -	      lda	trackn_audc+1
   1338  f000				  -	      ifconst	RMTVOLUME
   1339  f000				  -	      jsr	fourbitfadeint
   1340  f000				  -	      endif
   1341  f000				  -	      stx	POKEY_BASE+$00+2
   1342  f000				  -	      if	HARD_OF_HEARING
   1343  f000				  -	      stx	POKEY_BASE+$00+2
   1344  f000				  -	      endif
   1345  f000				  -	      sta	POKEY_BASE+$01+2
   1346  f000				  -	      if	HARD_OF_HEARING
   1347  f000				  -	      sta	POKEY_BASE+$01+2
   1348  f000				  -	      endif
   1349  f000				  -
   1350  f000				  -	      ldx	trackn_audf+2
   1351  f000				  -	      lda	trackn_audc+2
   1352  f000				  -	      ifconst	RMTVOLUME
   1353  f000				  -	      jsr	fourbitfadeint
   1354  f000				  -	      endif
   1355  f000				  -	      stx	POKEY_BASE+$00+4
   1356  f000				  -	      if	HARD_OF_HEARING
   1357  f000				  -	      stx	POKEY_BASE+$00+4
   1358  f000				  -	      endif
   1359  f000				  -	      sta	POKEY_BASE+$01+4
   1360  f000				  -	      if	HARD_OF_HEARING
   1361  f000				  -	      sta	POKEY_BASE+$01+4
   1362  f000				  -	      endif
   1363  f000				  -
   1364  f000				  -	      ldx	trackn_audf+3
   1365  f000				  -	      lda	trackn_audc+3
   1366  f000				  -	      ifconst	RMTVOLUME
   1367  f000				  -	      jsr	fourbitfadeint
   1368  f000				  -	      endif
   1369  f000				  -	      stx	POKEY_BASE+$00+6
   1370  f000				  -	      if	HARD_OF_HEARING
   1371  f000				  -	      stx	POKEY_BASE+$00+6
   1372  f000				  -	      endif
   1373  f000				  -	      sta	POKEY_BASE+$01+6
   1374  f000				  -	      if	HARD_OF_HEARING
   1375  f000				  -	      sta	POKEY_BASE+$01+6
   1376  f000				  -	      endif
   1377  f000				  -
   1378  f000				  -	      sty	POKEY_BASE+$08
   1379  f000				  -	      if	HARD_OF_HEARING
   1380  f000				  -	      sty	POKEY_BASE+$08
   1381  f000				  -	      endif
   1382  f000				  -
   1383  f000				  -	      ENDIF
   1384  f000				  -	      rts
   1385  f000				  -SetUpInstrumentY2
   1386  f000				  -	      lda	(p_instrstable),y
   1387  f000				  -	      sta	trackn_instrdb,x
   1388  f000				  -	      sta	_nt
   1389  f000				  -	      iny
   1390  f000				  -	      lda	(p_instrstable),y
   1391  f000				  -	      sta	trackn_instrhb,x
   1392  f000				  -	      sta	_nt+1
   1393  f000				  -	      ldy	#0
   1394  f000				  -	      lda	(_nt),y
   1395  f000				  -	      sta	trackn_tableend,x
   1396  f000				  -	      clc
   1397  f000				  -	      adc	#1
   1398  f000				  -	      sta	trackn_instridx,x
   1399  f000				  -	      iny
   1400  f000				  -	      lda	(_nt),y
   1401  f000				  -	      sta	trackn_tablelop,x
   1402  f000				  -	      iny
   1403  f000				  -	      lda	(_nt),y
   1404  f000				  -	      sta	trackn_instrlen,x
   1405  f000				  -	      iny
   1406  f000				  -	      lda	(_nt),y
   1407  f000				  -	      sta	trackn_instrlop,x
   1408  f000				  -	      iny
   1409  f000				  -	      lda	(_nt),y
   1410  f000				  -	      sta	trackn_tabletypespeed,x
   1411  f000				  -	      IF	FEAT_TABLETYPE||FEAT_TABLEMODE
   1412  f000				  -	      and	#$3f
   1413  f000				  -	      ENDIF
   1414  f000				  -	      sta	trackn_tablespeeda,x
   1415  f000				  -	      IF	FEAT_TABLEMODE
   1416  f000				  -	      lda	(_nt),y
   1417  f000				  -	      and	#$40
   1418  f000				  -	      sta	trackn_tablemode,x
   1419  f000				  -	      ENDIF
   1420  f000				  -	      iny
   1421  f000				  -	      IF	FEAT_AUDCTLMANUALSET
   1422  f000				  -	      lda	(_nt),y
   1423  f000				  -	      sta	trackn_audctl,x
   1424  f000				  -	      ENDIF
   1425  f000				  -	      iny
   1426  f000				  -	      lda	(_nt),y
   1427  f000				  -	      sta	trackn_volumeslidedepth,x
   1428  f000				  -	      iny
   1429  f000				  -	      lda	(_nt),y
   1430  f000				  -	      sta	trackn_volumemin,x
   1431  f000				  -	      iny
   1432  f000				  -	      lda	(_nt),y
   1433  f000				  -	      sta	trackn_effdelay,x
   1434  f000				  -	      iny
   1435  f000				  -	      lda	(_nt),y
   1436  f000				  -	      tay
   1437  f000				  -	      lda	vibtabbeg,y
   1438  f000				  -	      sta	trackn_effvibratoa,x
   1439  f000				  -	      sta	trackn_effvibratobeg,x
   1440  f000				  -	      lda	vibtabbeg+1,y
   1441  f000				  -	      sta	trackn_effvibratoend,x
   1442  f000				  -	      ldy	#10
   1443  f000				  -	      lda	(_nt),y
   1444  f000				  -	      sta	trackn_effshift,x
   1445  f000				  -	      lda	#128
   1446  f000				  -	      sta	trackn_volumeslidevalue,x
   1447  f000				  -	      lda	#0
   1448  f000				  -	      sta	trackn_instrreachend,x
   1449  f000				  -	      sta	trackn_shiftfrq,x
   1450  f000				  -	      lda	#INSTRPAR
   1451  f000				  -	      sta	trackn_tablea,x
   1452  f000				  -	      tay
   1453  f000				  -	      lda	(_nt),y
   1454  f000				  -	      sta	trackn_tablenote,x
   1455  f000				  -	      IF	FEAT_FILTER
   1456  f000				  -	      lda	#1
   1457  f000				  -	      sta	trackn_filter,x
   1458  f000				  -	      ENDIF
   1459  f000				  -	      rts
   1460  f000				  -InstrumentsEffects
   1461  f000				  -	      lda	trackn_effdelay,x
   1462  f000				  -	      beq	ei2
   1463  f000				  -	      tay
   1464  f000				  -	      dey
   1465  f000				  -	      bne	ei1
   1466  f000				  -	      lda	trackn_shiftfrq,x
   1467  f000				  -	      clc
   1468  f000				  -	      adc	trackn_effshift,x
   1469  f000				  -	      clc
   1470  f000				  -	      ldy	trackn_effvibratoa,x
   1471  f000				  -	      adc	vib0,y
   1472  f000				  -	      sta	trackn_shiftfrq,x
   1473  f000				  -	      iny
   1474  f000				  -	      tya
   1475  f000				  -	      cmp	trackn_effvibratoend,x
   1476  f000				  -	      bne	ei1a
   1477  f000				  -	      lda	trackn_effvibratobeg,x
   1478  f000				  -ei1a
   1479  f000				  -	      sta	trackn_effvibratoa,x
   1480  f000				  -	      jmp	ei2
   1481  f000				  -ei1
   1482  f000				  -	      tya
   1483  f000				  -	      sta	trackn_effdelay,x
   1484  f000				  -ei2
   1485  f000				  -	      lda	trackn_tableend,x
   1486  f000				  -	      cmp	#INSTRPAR
   1487  f000				  -	      beq	ei3
   1488  f000				  -	      lda	trackn_tablespeeda,x
   1489  f000				  -	      bpl	ei2f
   1490  f000				  -ei2c
   1491  f000				  -	      lda	trackn_tablea,x
   1492  f000				  -	      clc
   1493  f000				  -	      adc	#1
   1494  f000				  -	      cmp	trackn_tableend,x
   1495  f000				  -	      bcc	ei2a
   1496  f000				  -	      beq	ei2a
   1497  f000				  -	      lda	trackn_tablelop,x
   1498  f000				  -ei2a
   1499  f000				  -	      sta	trackn_tablea,x
   1500  f000				  -	      lda	trackn_instrdb,x
   1501  f000				  -	      sta	_nt
   1502  f000				  -	      lda	trackn_instrhb,x
   1503  f000				  -	      sta	_nt+1
   1504  f000				  -	      ldy	trackn_tablea,x
   1505  f000				  -	      lda	(_nt),y
   1506  f000				  -	      IF	FEAT_TABLEMODE
   1507  f000				  -	      ldy	trackn_tablemode,x
   1508  f000				  -	      beq	ei2e
   1509  f000				  -	      clc
   1510  f000				  -	      adc	trackn_tablenote,x
   1511  f000				  -ei2e
   1512  f000				  -	      ENDIF
   1513  f000				  -	      sta	trackn_tablenote,x
   1514  f000				  -	      lda	trackn_tabletypespeed,x
   1515  f000				  -	      IF	FEAT_TABLETYPE||FEAT_TABLEMODE
   1516  f000				  -	      and	#$3f
   1517  f000				  -	      ENDIF
   1518  f000				  -ei2f
   1519  f000				  -	      sec
   1520  f000				  -	      sbc	#1
   1521  f000				  -	      sta	trackn_tablespeeda,x
   1522  f000				  -ei3
   1523  f000				  -	      lda	trackn_instrreachend,x
   1524  f000				  -	      bpl	ei4
   1525  f000				  -	      lda	trackn_volume,x
   1526  f000				  -	      beq	ei4
   1527  f000				  -	      cmp	trackn_volumemin,x
   1528  f000				  -	      beq	ei4
   1529  f000				  -	      bcc	ei4
   1530  f000				  -	      tay
   1531  f000				  -	      lda	trackn_volumeslidevalue,x
   1532  f000				  -	      clc
   1533  f000				  -	      adc	trackn_volumeslidedepth,x
   1534  f000				  -	      sta	trackn_volumeslidevalue,x
   1535  f000				  -	      bcc	ei4
   1536  f000				  -	      tya
   1537  f000				  -	      sbc	#16
   1538  f000				  -	      sta	trackn_volume,x
   1539  f000				  -ei4
   1540  f000				  -	      jmp	returnfromInstrumentsEffects
   1541  f000				  -
   1542  f000				  -rmtmoduleend
   1543  f000				  -	      echo	"  (rmtplayer module is using ",[(rmtmoduleend-rmtmodulestart)]d," bytes of rom)"
   1544  f000				  -	      echo	"  (rmtplayer module is using ",[(MEMLOC-RMTRAM-1)]d," bytes of ram)"
   1545  f000				  -
   1546  f000					      endif		; RMT
------- FILE rpmegafighter.bas.asm
   7370  f000					      endif
   7371  f000					      ifnconst	included.7800vox.asm
------- FILE 7800vox.asm LEVEL 2 PASS 3
      0  f000					      include	7800vox.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000							; AtariVox 7800basic wrapper
      4  f000
      5  f000							; to be called with
      6  f000							; A=# of bytes
      7  f000							;
      8  f000
      9  f000				  -	      ifconst	HSSUPPORT
     10  f000				  -
     11  f000				  -_7800voxstart
     12  f000				  -
     13  f000				  -AVoxReadBytes
     14  f000				  -	      sta	temp8
     15  f000				  -	      jsr	i2c_startwrite
     16  f000				  -	      bcs	eeprom_error
     17  f000				  -
     18  f000				  -	      lda	HSVoxHi
     19  f000				  -	      jsr	i2c_txbyte
     20  f000				  -	      lda	HSVoxLo
     21  f000				  -	      jsr	i2c_txbyte
     22  f000				  -	      jsr	i2c_stopwrite
     23  f000				  -
     24  f000				  -	      jsr	i2c_startread
     25  f000				  -
     26  f000				  -	      ldx	#0
     27  f000				  -AVoxReadBytesLoop
     28  f000				  -	      jsr	i2c_rxbyte
     29  f000				  -	      sta	eeprombuffer,x
     30  f000				  -	      inx
     31  f000				  -	      cpx	temp8
     32  f000				  -	      bne	AVoxReadBytesLoop
     33  f000				  -	      jsr	i2c_stopread
     34  f000				  -	      lda	#0
     35  f000				  -	      rts
     36  f000				  -
     37  f000				  -			; to be called with
     38  f000				  -			; A=# of bytes
     39  f000				  -			;
     40  f000				  -
     41  f000				  -AVoxWriteBytes
     42  f000				  -	      sta	temp8
     43  f000				  -	      jsr	i2c_startwrite
     44  f000				  -	      bcs	eeprom_error
     45  f000				  -
     46  f000				  -	      lda	HSVoxHi
     47  f000				  -	      jsr	i2c_txbyte
     48  f000				  -	      lda	HSVoxLo
     49  f000				  -	      jsr	i2c_txbyte
     50  f000				  -
     51  f000				  -	      ldx	#$00
     52  f000				  -AVoxWriteBytesLoop
     53  f000				  -	      lda	eeprombuffer,x
     54  f000				  -	      jsr	i2c_txbyte
     55  f000				  -	      inx
     56  f000				  -	      cpx	temp8
     57  f000				  -	      bne	AVoxWriteBytesLoop
     58  f000				  -	      jsr	i2c_stopwrite
     59  f000				  -
     60  f000				  -	      lda	#0
     61  f000				  -	      rts
     62  f000				  -
     63  f000				  -eeprom_error
     64  f000				  -	      lda	#$ff
     65  f000				  -	      rts
     66  f000				  -
     67  f000				  -AVoxDetect
     68  f000				  -
     69  f000				  -	      jsr	i2c_startwrite
     70  f000				  -	      bcs	eeprom_error
     71  f000				  -	      lda	#$30
     72  f000				  -	      jsr	i2c_txbyte
     73  f000				  -	      lda	#$00
     74  f000				  -	      jsr	i2c_txbyte
     75  f000				  -	      jsr	i2c_stopwrite
     76  f000				  -	      rts
     77  f000				  -
     78  f000				  -	      include	"i2c7800.inc"
     79  f000				  -	      I2C_SUBS	temp9
     80  f000				  -
     81  f000				  -_7800voxend
     82  f000				  -
     83  f000				  -	      echo	"  (7800vox module is using ",[(_7800voxend-_7800voxstart)]d," bytes)"
     84  f000				  -
     85  f000					      endif
     86  f000
------- FILE rpmegafighter.bas.asm
   7373  f000					      endif
   7374  f000					      ifnconst	included.pokeysound.asm
------- FILE pokeysound.asm LEVEL 2 PASS 3
      0  f000					      include	pokeysound.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000
      4  f000				  -	      ifconst	pokeysupport
      5  f000				  -
      6  f000				  -pokeysoundmodulestart
      7  f000				  -
      8  f000				  -mutepokey
      9  f000				  -	      lda	#0
     10  f000				  -	      ldy	#7
     11  f000				  -mutepokeyloop
     12  f000				  -	      sta	pokey1pointlo,y
     13  f000				  -	      sta	(pokeybaselo),y
     14  f000				  -	      dey
     15  f000				  -	      bpl	mutepokeyloop
     16  f000				  -	      rts
     17  f000				  -
     18  f000				  -	      ifconst	pokeysfxsupport
     19  f000				  -
     20  f000				  -checkpokeyplaying
     21  f000				  -	      ldx	#6
     22  f000				  -checkpokeyplayingloop
     23  f000				  -	      lda	pokey1pointlo,x
     24  f000				  -	      ora	pokey1pointhi,x
     25  f000				  -	      beq	pokeychannelinactive
     26  f000				  -	      jsr	playpokeysfxA	; x=channel*2
     27  f000				  -pokeychannelinactive
     28  f000				  -	      dex
     29  f000				  -	      dex
     30  f000				  -	      bpl	checkpokeyplayingloop
     31  f000				  -	      rts
     32  f000				  -
     33  f000				  -playpokeysfxA
     34  f000				  -	      txa
     35  f000				  -	      tay
     36  f000				  -	      lda	pokey1tick,x
     37  f000				  -	      beq	playpokeysfxAcont
     38  f000				  -	      sec
     39  f000				  -	      sbc	#1
     40  f000				  -	      sta	pokey1tick,x	; sound resolution is >1 frame, and we're mid-tock...
     41  f000				  -	      rts
     42  f000				  -
     43  f000				  -playpokeysfxAcont
     44  f000				  -	      lda	pokey1frames,x	; set the frame countdown for this sound chunk
     45  f000				  -	      sta	pokey1tick,x
     46  f000				  -
     47  f000				  -	      lda	pokey1priority,x	; decrease the sound's priority if its non-zero
     48  f000				  -	      beq	playpokeysfxAcont2
     49  f000				  -	      sec
     50  f000				  -	      sbc	#1
     51  f000				  -	      sta	pokey1priority,x
     52  f000				  -playpokeysfxAcont2
     53  f000				  -
     54  f000				  -			; *** FREQUENCY
     55  f000				  -	      lda	(pokey1pointlo,x)
     56  f000				  -	      sta	inttemp1
     57  f000				  -	      clc
     58  f000				  -	      adc	pokey1offset,x	; take into account any pitch modification
     59  f000				  -	      sta	(pokeybaselo),y	; PAUDF0,0
     60  f000				  -
     61  f000				  -			;advance the data pointer +1
     62  f000				  -	      inc	pokey1pointlo,x
     63  f000				  -	      bne	skippokeyhiinc1
     64  f000				  -	      inc	pokey1pointhi,x
     65  f000				  -skippokeyhiinc1
     66  f000				  -
     67  f000				  -			; *** WAVE
     68  f000				  -	      lda	(pokey1pointlo,x)
     69  f000				  -	      asl
     70  f000				  -	      asl
     71  f000				  -	      asl
     72  f000				  -	      asl		; x16
     73  f000				  -
     74  f000				  -			;advance the data pointer +1
     75  f000				  -	      inc	pokey1pointlo,x
     76  f000				  -	      bne	skippokeyhiinc2
     77  f000				  -	      inc	pokey1pointhi,x
     78  f000				  -skippokeyhiinc2
     79  f000				  -
     80  f000				  -	      ora	(pokey1pointlo,x)
     81  f000				  -	      iny
     82  f000				  -	      sta	(pokeybaselo),y
     83  f000				  -
     84  f000				  -	      ora	inttemp1	; check if F|C|V=0
     85  f000				  -	      beq	zeropokeypoint	; if so, we're at the end of the sound.
     86  f000				  -
     87  f000				  -			; advance the pointer +1, on to the next sound chunk
     88  f000				  -	      inc	pokey1pointlo,x
     89  f000				  -	      bne	skippokeyhiinc3
     90  f000				  -	      inc	pokey1pointhi,x
     91  f000				  -skippokeyhiinc3
     92  f000				  -	      rts
     93  f000				  -
     94  f000				  -zeropokeypoint
     95  f000				  -	      sta	pokey1pointlo,x
     96  f000				  -	      sta	pokey1pointhi,x
     97  f000				  -	      sta	pokey1priority,x
     98  f000				  -	      rts
     99  f000				  -
    100  f000				  -schedulepokeysfx
    101  f000				  -	      ldx	#6
    102  f000				  -schedulepokeysfxloop
    103  f000				  -	      lda	pokey1pointlo,x
    104  f000				  -	      ora	pokey1pointhi,x
    105  f000				  -	      bne	schedulespokeysearch
    106  f000				  -	      jmp	schedulepokeyX	; we found an unused channel, so use it...
    107  f000				  -schedulespokeysearch
    108  f000				  -	      dex
    109  f000				  -	      dex
    110  f000				  -	      bpl	schedulepokeysfxloop
    111  f000				  -
    112  f000				  -			; if we're here, all 4 channels are presently playing a sound...
    113  f000				  -	      ldy	#1
    114  f000				  -	      lda	(sfxinstrumentlo),y	; peek at the priority of this sfx...
    115  f000				  -	      bne	schedulepokeysfxcont1
    116  f000				  -	      rts		; ...and skip it if it's 0 priority
    117  f000				  -schedulepokeysfxcont1
    118  f000				  -
    119  f000				  -			; figure out which current sound has the lowest priority...
    120  f000				  -	      lda	#0
    121  f000				  -	      sta	temp8
    122  f000				  -	      lda	pokey1priority
    123  f000				  -	      sta	temp9
    124  f000				  -	      ldx	#6
    125  f000				  -findlowprioritypokeyloop
    126  f000				  -	      lda	pokey1priority,x
    127  f000				  -	      cmp	temp9
    128  f000				  -	      bcs	findlowprioritypokeyloopcontinue
    129  f000				  -	      sta	temp9
    130  f000				  -	      stx	temp8
    131  f000				  -findlowprioritypokeyloopcontinue
    132  f000				  -	      dex
    133  f000				  -	      dex
    134  f000				  -	      bne	findlowprioritypokeyloop
    135  f000				  -	      ldx	temp8	; the low priority channel we'll interrupt
    136  f000				  -
    137  f000				  -schedulepokeyX
    138  f000				  -			;called with X=2*pokey channel to play on...
    139  f000				  -	      ldy	#1	; get priority and sound-resolution (in frames)
    140  f000				  -	      lda	(sfxinstrumentlo),y
    141  f000				  -	      sta	pokey1priority,x
    142  f000				  -	      iny
    143  f000				  -	      lda	(sfxinstrumentlo),y
    144  f000				  -	      sta	pokey1frames,x
    145  f000				  -
    146  f000				  -	      lda	sfxinstrumentlo
    147  f000				  -	      clc
    148  f000				  -	      adc	#3
    149  f000				  -	      sta	pokey1pointlo,x
    150  f000				  -	      lda	sfxinstrumenthi
    151  f000				  -	      adc	#0
    152  f000				  -	      sta	pokey1pointhi,x
    153  f000				  -	      lda	sfxpitchoffset
    154  f000				  -	      sta	pokey1offset,x
    155  f000				  -	      lda	#0
    156  f000				  -	      sta	pokey1tick,x
    157  f000				  -	      rts
    158  f000				  -	      else
    159  f000				  -schedulepokeysfx		; just some stubs
    160  f000				  -checkpokeyplaying
    161  f000				  -	      rts
    162  f000				  -	      endif		; pokeysfxsupport
    163  f000				  -
    164  f000				  -			; pokey detection routine. we check for pokey in the XBOARD/XM location,
    165  f000				  -			; and the standard $4000 location.
    166  f000				  -			; if pokey the pokey is present, this routine will reset it.
    167  f000				  -	      ifconst	pokeyaddress
    168  f000				  -detectpokeylocation
    169  f000				  -	      lda	#<pokeyaddress
    170  f000				  -	      sta	pokeybaselo
    171  f000				  -	      lda	#>pokeyaddress
    172  f000				  -	      sta	pokeybasehi
    173  f000				  -	      lda	#$ff
    174  f000				  -	      sta	pokeydetected
    175  f000				  -
    176  f000				  -	      if	pokeyaddress = $450
    177  f000				  -	      lda	XCTRL1s
    178  f000				  -	      ora	#%00010100
    179  f000				  -	      sta	XCTRL1s
    180  f000				  -	      sta	XCTRL1
    181  f000				  -	      endif
    182  f000				  -
    183  f000				  -
    184  f000				  -	      lda	#0
    185  f000				  -	      ldy	#15
    186  f000				  -clearpokeyloop
    187  f000				  -	      sta	(pokeybase),y
    188  f000				  -	      dey
    189  f000				  -	      bpl	clearpokeyloop
    190  f000				  -			; take pokey out of reset...
    191  f000				  -	      ldy	#PSKCTL
    192  f000				  -	      lda	#3
    193  f000				  -	      sta	(pokeybase),y
    194  f000				  -	      ldy	#PAUDCTL
    195  f000				  -	      lda	#0
    196  f000				  -	      sta	(pokeybase),y
    197  f000				  -	      rts
    198  f000				  -	      else		; !pokeyaddress
    199  f000				  -detectpokeylocation
    200  f000				  -			;XBoard/XM...
    201  f000				  -	      ldx	#2
    202  f000				  -detectpokeyloop
    203  f000				  -	      lda	XCTRL1s
    204  f000				  -	      ora	#%00010100
    205  f000				  -	      and	POKEYXMMASK,x
    206  f000				  -	      sta	XCTRL1s
    207  f000				  -	      sta	XCTRL1
    208  f000				  -
    209  f000				  -	      lda	POKEYCHECKLO,x
    210  f000				  -	      sta	pokeybaselo
    211  f000				  -	      lda	POKEYCHECKHI,x
    212  f000				  -	      sta	pokeybasehi
    213  f000				  -	      jsr	checkforpokey
    214  f000				  -	      lda	pokeydetected
    215  f000				  -	      beq	foundpokeychip
    216  f000				  -	      dex
    217  f000				  -	      bpl	detectpokeyloop
    218  f000				  -foundpokeychip
    219  f000				  -	      eor	#$ff	; invert state for 7800basic if...then test
    220  f000				  -	      sta	pokeydetected
    221  f000				  -	      rts
    222  f000				  -
    223  f000				  -POKEYXMMASK
    224  f000				  -			;     XM POKEY on    XM POKEY off   XM POKEY off
    225  f000				  -	      .byte	%11111111, %11101111, %11101111
    226  f000				  -
    227  f000				  -POKEYCHECKLO
    228  f000				  -	      .byte	<$0450, <$0450, <$4000
    229  f000				  -POKEYCHECKHI
    230  f000				  -	      .byte	>$0450, >$0450, >$4000
    231  f000				  -
    232  f000				  -checkforpokey
    233  f000				  -	      ldy	#$0f
    234  f000				  -	      lda	#$00
    235  f000				  -	      sta	pokeydetected	; start off by assuming pokey will be detected
    236  f000				  -resetpokeyregistersloop
    237  f000				  -	      sta	(pokeybase),y
    238  f000				  -	      dey
    239  f000				  -	      bpl	resetpokeyregistersloop
    240  f000				  -
    241  f000				  -	      ldy	#PAUDCTL
    242  f000				  -	      sta	(pokeybase),y
    243  f000				  -	      ldy	#PSKCTL
    244  f000				  -	      sta	(pokeybase),y
    245  f000				  -
    246  f000				  -			; let the dust settle...
    247  f000				  -	      nop
    248  f000				  -	      nop
    249  f000				  -	      nop
    250  f000				  -
    251  f000				  -	      lda	#4
    252  f000				  -	      sta	temp9
    253  f000				  -pokeycheckloop1
    254  f000				  -			; we're in reset, so the RANDOM register should read $ff...
    255  f000				  -	      ldy	#PRANDOM
    256  f000				  -	      lda	(pokeybase),y
    257  f000				  -	      cmp	#$ff
    258  f000				  -	      bne	nopokeydetected
    259  f000				  -	      dec	temp9
    260  f000				  -	      bne	pokeycheckloop1
    261  f000				  -
    262  f000				  -			; take pokey out of reset...
    263  f000				  -	      ldy	#PSKCTL
    264  f000				  -	      lda	#3
    265  f000				  -	      sta	(pokeybase),y
    266  f000				  -	      ldy	#PAUDCTL
    267  f000				  -	      lda	#0
    268  f000				  -	      sta	(pokeybase),y
    269  f000				  -
    270  f000				  -			; let the dust settle again...
    271  f000				  -	      nop
    272  f000				  -	      nop
    273  f000				  -	      nop
    274  f000				  -
    275  f000				  -	      lda	#4
    276  f000				  -	      sta	temp9
    277  f000				  -pokeycheckloop2
    278  f000				  -			; we're out of reset, so RANDOM should read non-$ff...
    279  f000				  -	      ldy	#PRANDOM
    280  f000				  -	      lda	(pokeybase),y
    281  f000				  -	      cmp	#$ff
    282  f000				  -	      beq	skippokeycheckreturn
    283  f000				  -	      rts
    284  f000				  -skippokeycheckreturn
    285  f000				  -	      dec	temp9
    286  f000				  -	      bne	pokeycheckloop2
    287  f000				  -nopokeydetected
    288  f000				  -	      dec	pokeydetected	; pokeydetected=#$ff
    289  f000				  -	      rts
    290  f000				  -
    291  f000				  -	      endif		; !pokeyaddress
    292  f000				  -
    293  f000				  -pokeysoundmoduleend
    294  f000				  -
    295  f000				  -	      echo	"  (pokeysound module is using ",[(pokeysoundmoduleend-pokeysoundmodulestart)]d," bytes of rom)"
    296  f000				  -
    297  f000					      endif		; pokeysupport
------- FILE rpmegafighter.bas.asm
   7376  f000					      endif
   7377  f000					      ifnconst	included.snes2atari.asm
------- FILE snes2atari.asm LEVEL 2 PASS 3
      0  f000					      include	snes2atari.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000				  -	      ifconst	SNES2ATARISUPPORT
      4  f000				  -snes2atarimodulestart
      5  f000				  -
      6  f000				  -SNES_CLOCK_PORT_BIT
      7  f000				  -	      .byte	$10,$01
      8  f000				  -SNES_CTLSWA_MASK
      9  f000				  -	      .byte	$30,$03
     10  f000				  -SNES_CTLSWA_SIGNAL
     11  f000				  -	      .byte	$C0,$0C
     12  f000				  -
     13  f000				  -			; Probe each port for SNES, and see if autodetection succeeds anywhere.
     14  f000				  -SNES_AUTODETECT
     15  f000				  -	      ifconst	HSSUPPORT
     16  f000				  -			; ** an atarivox might be plugged in, so we skip scanning the second
     17  f000				  -			; ** port for a snes if vox was detected...
     18  f000				  -	      lda	hsdevice	; b1 high means atarivox/savekey was detected
     19  f000				  -	      lsr
     20  f000				  -	      and	#1
     21  f000				  -	      eor	#1
     22  f000				  -	      tax
     23  f000				  -	      else
     24  f000				  -	      ldx	#1
     25  f000				  -	      endif		; HSSUPPORT
     26  f000				  -
     27  f000				  -SNES_AUTODETECT_LOOP
     28  f000				  -	      ifnconst	MULTIBUTTON	; snesdetect shouldn't be used in multibutton mode
     29  f000				  -	      lda	#1	; proline
     30  f000				  -	      sta	port0control,x
     31  f000				  -	      jsr	setportforinput
     32  f000				  -	      jsr	setonebuttonmode
     33  f000				  -	      jsr	SNES_READ
     34  f000				  -	      lda	snesdetected0,x
     35  f000				  -	      bne	SNES_AUTODETECT_FOUND
     36  f000				  -			; detection failed
     37  f000				  -	      jsr	setportforinput
     38  f000				  -	      jsr	settwobuttonmode
     39  f000				  -	      dex
     40  f000				  -	      bpl	SNES_AUTODETECT_LOOP
     41  f000				  -	      rts
     42  f000				  -SNES_AUTODETECT_FOUND
     43  f000				  -	      lda	#11	; formally set the snes controller
     44  f000				  -	      sta	port0control,x
     45  f000				  -	      stx	snesport
     46  f000				  -	      endif		; !MULTIBUTTON
     47  f000				  -	      rts
     48  f000					      endif		; SNES2ATARISUPPORT
     49  f000
     50  f000				   snes2atarihandler
     51  f000				  -	      ifconst	SNES2ATARISUPPORT
     52  f000				  -SNES2ATARI
     53  f000				  -	      jsr	SNES_READ
     54  f000				  -	      jmp	buttonreadloopreturn
     55  f000				  -
     56  f000				  -SNES_READ
     57  f000				  -			; x=0 for left port, x=1 for right
     58  f000				  -	      lda	port0control,x
     59  f000				  -	      cmp	#11	; snes
     60  f000				  -	      bne	snes2atari_signal_go	; if this is a first auto-detection read, go ahead and signal
     61  f000				  -	      lda	snesdetected0,x
     62  f000				  -	      bne	snes2atari_signal_skip	; if snes was available in previous frames, skip signalling
     63  f000				  -snes2atari_signal_go
     64  f000				  -	      jsr	SNES2ATARI_SIGNAL
     65  f000				  -snes2atari_signal_skip
     66  f000				  -
     67  f000				  -	      lda	CTLSWA
     68  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     69  f000				  -	      ora	SNES_CTLSWA_MASK,x
     70  f000				  -	      sta	CTLSWA	; enable pins UP/DOWN to work as outputs
     71  f000				  -
     72  f000				  -	      lda	SWCHA
     73  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     74  f000				  -	      ora	SNES_CTLSWA_MASK,x
     75  f000				  -
     76  f000				  -	      sta	SWCHA	; latch+clock high
     77  f000				  -	      nop
     78  f000				  -	      nop
     79  f000				  -	      nop
     80  f000				  -	      nop
     81  f000				  -	      nop
     82  f000				  -	      nop
     83  f000				  -	      nop
     84  f000				  -	      lda	SWCHA
     85  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     86  f000				  -	      sta	SWCHA	; latch and clock low
     87  f000				  -	      ldy	#16	; 16 bits
     88  f000				  -SNES2ATARILOOP
     89  f000				  -	      rol	INPT4,x	; sample data into carry
     90  f000				  -	      lda	SWCHA
     91  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     92  f000				  -	      ora	SNES_CLOCK_PORT_BIT,x
     93  f000				  -	      sta	SWCHA	; clock low
     94  f000				  -	      rol	snes2atari0lo,x
     95  f000				  -	      rol	snes2atari0hi,x
     96  f000				  -	      lda	SWCHA
     97  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     98  f000				  -	      sta	SWCHA	; latch and clock low
     99  f000				  -	      dey		; next bit
    100  f000				  -	      bne	SNES2ATARILOOP
    101  f000				  -	      rol	INPT4,x	; 17th bit should be lo if controller is there.
    102  f000				  -	      rol		; 17th snes bit into A low bit
    103  f000				  -	      eor	snes2atari0lo,x	; 16th bit should be hi if controller is there.
    104  f000				  -	      and	#1
    105  f000				  -	      sta	snesdetected0,x
    106  f000				  -	      beq	SNES_STOP_CLOCK	; if snes isn't detected, leave port in default state
    107  f000				  -	      stx	snesport	; snesport keeps the index of the latest autodetected controller
    108  f000				  -	      lda	SWCHA
    109  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
    110  f000				  -	      ora	SNES_CLOCK_PORT_BIT,x
    111  f000				  -	      jmp	SNES_STOP_CLOCK
    112  f000				  -SNES_STOP_CLOCK
    113  f000				  -	      sta	SWCHA	; clock low
    114  f000				  -	      lda	CTLSWA
    115  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
    116  f000				  -			;ora SNES_CLOCK_PORT_BIT,x
    117  f000				  -	      sta	CTLSWA	; set port bits to input avoid conflict with other drivers
    118  f000				  -	      ifconst	MULTIBUTTON
    119  f000				  -	      lda	snesdetected0,x
    120  f000				  -	      bne	snesexit
    121  f000				  -	      lda	#1	; proline
    122  f000				  -	      sta	port0control,x
    123  f000				  -	      jmp	settwobuttonmode
    124  f000				  -snesexit
    125  f000				  -	      lda	#6
    126  f000				  -	      sta	multibuttoncount0,x
    127  f000				  -			; stuff directions into sSWCHA nibble and buttons into sINPT1,x...
    128  f000				  -	      lda	s2a_joyshiftcount,x
    129  f000				  -	      tay
    130  f000				  -	      lda	snes2atari0hi,x
    131  f000				  -snesjoypadloop
    132  f000				  -	      lsr
    133  f000				  -	      rol	inttemp6
    134  f000				  -	      dey
    135  f000				  -	      bpl	snesjoypadloop
    136  f000				  -	      lda	sSWCHA
    137  f000				  -	      ora	SWCHA_DIRMASK,x	; turn off the bits for this port
    138  f000				  -	      sta	sSWCHA
    139  f000				  -	      lda	inttemp6
    140  f000				  -	      ora	SWCHA_DIRMASK+1,x	; don't change the other port
    141  f000				  -	      and	sSWCHA
    142  f000				  -	      sta	sSWCHA
    143  f000				  -
    144  f000				  -			; snes2atari0hi = B  Y  Se St *  *  *	*
    145  f000				  -			; snes2atari0lo = A  X  Ls Rs
    146  f000				  -			; sINPT1	 = B  A  Y  X  Ls Rs Se St
    147  f000				  -	      lda	snes2atari0lo,x
    148  f000				  -	      sta	inttemp5
    149  f000				  -	      lda	snes2atari0hi,x
    150  f000				  -	      sta	inttemp6
    151  f000				  -	      asl	inttemp5	; A
    152  f000				  -	      rol
    153  f000				  -	      asl	inttemp6	; B
    154  f000				  -	      rol
    155  f000				  -	      asl	inttemp6	; Y
    156  f000				  -	      rol
    157  f000				  -	      asl	inttemp5	; X
    158  f000				  -	      rol
    159  f000				  -	      asl	inttemp5	; Ls
    160  f000				  -	      rol
    161  f000				  -	      asl	inttemp5	; Rs
    162  f000				  -	      rol
    163  f000				  -	      asl	inttemp6	; Ls
    164  f000				  -	      rol
    165  f000				  -	      asl	inttemp6	; Rs
    166  f000				  -	      rol
    167  f000				  -	      eor	#%11000000	; invert to match proline
    168  f000				  -	      sta	sINPT1,x
    169  f000				  -	      endif		; MULTIBUTTON
    170  f000				  -	      rts
    171  f000				  -SNES2ATARI_SIGNAL
    172  f000				  -			; signal to SNES2ATARI++ that we want SNES mode...
    173  f000				  -	      lda	CTLSWA
    174  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
    175  f000				  -	      ora	SNES_CTLSWA_SIGNAL,x
    176  f000				  -	      sta	CTLSWA
    177  f000				  -	      lda	SWCHA
    178  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
    179  f000				  -	      sta	SWCHA
    180  f000				  -	      ldy	#16
    181  f000				  -SNES_SIGNAL_LOOP
    182  f000				  -	      dey
    183  f000				  -	      bne	SNES_SIGNAL_LOOP
    184  f000				  -	      lda	SWCHA
    185  f000				  -	      ora	SWCHA_DIRMASK,x
    186  f000				  -	      sta	SWCHA
    187  f000				  -	      rts
    188  f000				  -s2a_joyshiftcount
    189  f000				  -	      .byte	7,3
    190  f000				  -snes2atarimoduleend
    191  f000				  -	      echo	"  (snes2atari module is using ",[(snes2atarimoduleend-snes2atarimodulestart)]d," bytes of rom)"
    192  f000					      endif		; SNES2ATARISUPPORT
    193  f000
    194  f000
------- FILE rpmegafighter.bas.asm
   7379  f000					      endif
   7380  f000					      ifnconst	included.mega7800.asm
------- FILE mega7800.asm LEVEL 2 PASS 3
      0  f000					      include	mega7800.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000				   mega7800handlerstart
      4  f000				   mega7800handler
      5  f000				  -	      ifconst	MEGA7800SUPPORT
      6  f000				  -
      7  f000				  -			; ** stuff the joyick directions into the shadow register
      8  f000				  -	      lda	sSWCHA	; clear previous dirs for this pad, from
      9  f000				  -	      ora	SWCHA_DIRMASK,x	; our sSWCHA nibble.
     10  f000				  -	      sta	sSWCHA
     11  f000				  -	      lda	SWCHA	; load the actual joystick dirs, ensuring
     12  f000				  -	      ora	SWCHA_DIRMASK+1,x	; we don't change the other nibble.
     13  f000				  -	      and	sSWCHA
     14  f000				  -	      sta	sSWCHA
     15  f000				  -
     16  f000				  -			; x=0 for left port, x=1 for right
     17  f000				  -
     18  f000				  -	      lda	#0
     19  f000				  -	      sta	inttemp5	; temporary button-state storage
     20  f000				  -	      sta	inttemp6	; temporary button-state storage
     21  f000				  -
     22  f000				  -	      lda	CTLSWA
     23  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     24  f000				  -	      ora	MEGA_INIT,x
     25  f000				  -	      sta	CTLSWA	; enable pins UP/DOWN to work as outputs
     26  f000				  -
     27  f000				  -			; the controller type bits take a few cycles to get set after we start
     28  f000				  -			; an extended read, so we'll start the first extended read early...
     29  f000				  -	      lda	SWCHA
     30  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     31  f000				  -	      sta	SWCHA	; all bits are low, which STARTS the extended read
     32  f000				  -	      nop
     33  f000				  -	      nop
     34  f000				  -
     35  f000				  -			; first read  will be pad state (mega7800 connect and controller type)
     36  f000				  -			; second read will be 3 button support (SACB)
     37  f000				  -			; third read  will be 6 button support (MXYZ)
     38  f000				  -
     39  f000				  -	      ldy	#5	; read 6x states, with the first 2x being the controller type
     40  f000				  -m7readloop
     41  f000				  -	      lda	SWCHA
     42  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     43  f000				  -	      sta	SWCHA	; all bits are low, which STARTS the read
     44  f000				  -
     45  f000				  -	      lda	SWCHA
     46  f000				  -	      cpx	#1
     47  f000				  -	      bne	m7skipp1shift
     48  f000				  -	      asl
     49  f000				  -	      asl
     50  f000				  -	      asl
     51  f000				  -	      asl
     52  f000				  -m7skipp1shift
     53  f000				  -	      asl		; button bit 1 into carry
     54  f000				  -	      rol	inttemp6
     55  f000				  -	      rol	inttemp5
     56  f000				  -	      asl		; button bit 0 into carry
     57  f000				  -	      rol	inttemp6
     58  f000				  -	      rol	inttemp5
     59  f000				  -
     60  f000				  -	      lda	SWCHA
     61  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     62  f000				  -	      ora	MEGA_NEXT,x
     63  f000				  -	      sta	SWCHA
     64  f000				  -
     65  f000				  -	      dey
     66  f000				  -	      bpl	m7readloop
     67  f000				  -
     68  f000				  -	      lda	CTLSWA
     69  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     70  f000				  -	      sta	CTLSWA	; set this port back to input
     71  f000				  -
     72  f000				  -			; if mega7800 isn't detected this frame, unpress any buttons...
     73  f000				  -	      lda	inttemp5
     74  f000				  -	      and	#%00000011
     75  f000				  -	      beq	m7skipscuttle
     76  f000				  -	      lda	#$ff
     77  f000				  -	      sta	inttemp6
     78  f000				  -	      ifconst	MULTIBUTTON
     79  f000				  -			; the controller isn't present... revert to proline
     80  f000				  -	      lda	#1	; proline
     81  f000				  -	      sta	port0control,x
     82  f000				  -	      rts
     83  f000				  -	      endif		; MULTIBUTTON
     84  f000				  -m7skipscuttle
     85  f000				  -	      ifconst	MULTIBUTTON
     86  f000				  -	      lda	inttemp5
     87  f000				  -	      lsr
     88  f000				  -	      lsr
     89  f000				  -	      and	#3
     90  f000				  -	      tay
     91  f000				  -	      lda	megabuttons,y
     92  f000				  -	      sta	multibuttoncount0,x
     93  f000				  -	      endif		; MULTIBUTTON
     94  f000				  -
     95  f000				  -	      lda	inttemp5
     96  f000				  -	      sta	mega7800state0,x
     97  f000				  -	      lda	inttemp6
     98  f000				  -	      sta	mega7800data0,x
     99  f000				  -
    100  f000				  -	      ifconst	MULTIBUTTON
    101  f000				  -			; now update the genric multi-button bits...
    102  f000				  -	      ldy	#7
    103  f000				  -m7shuffleloop
    104  f000				  -	      lda	inttemp6
    105  f000				  -	      and	m7reorder,y
    106  f000				  -	      clc
    107  f000				  -	      adc	#$FF	; bit value in carry
    108  f000				  -	      rol	inttemp5
    109  f000				  -	      dey
    110  f000				  -	      bpl	m7shuffleloop
    111  f000				  -	      lda	inttemp5
    112  f000				  -	      eor	#%11000000
    113  f000				  -	      sta	sINPT1,x
    114  f000				  -	      rts
    115  f000				  -
    116  f000				  -megabuttons
    117  f000				  -	      .byte	6,2,3,2
    118  f000				  -m7reorder
    119  f000				  -			;	  S	     M	       Z	 Y
    120  f000				  -	      .byte	%00100000,%00000010,%00000100,%00001000
    121  f000				  -			;	  X	     C	       A	 B
    122  f000				  -	      .byte	%00000001,%10000000,%00010000,%01000000
    123  f000				  -	      else		;  !MULTIBUTTON
    124  f000				  -	      rts
    125  f000				  -	      endif		; !MULTIBUTTON
    126  f000				  -
    127  f000				  -MEGA_INIT
    128  f000				  -	      .byte	%00110000,%00000011
    129  f000				  -MEGA_NEXT
    130  f000				  -	      .byte	%00100000,%00000010
    131  f000				  -
    132  f000				  -mega7800handlerend
    133  f000				  -	      echo	"  (mega7800 module is using ",[(mega7800handlerend-mega7800handlerstart)]d," bytes of rom)"
    134  f000				  -
    135  f000					      endif		; MEGA7800SUPPORT
    136  f000
------- FILE rpmegafighter.bas.asm
   7382  f000					      endif
   7383  f000					      ifnconst	included.tracker.asm
------- FILE tracker.asm LEVEL 2 PASS 3
      0  f000					      include	tracker.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000
      4  f000				  -	      ifconst	MUSICTRACKER
      5  f000				  -
      6  f000				  -trackerstart
      7  f000				  -
      8  f000				  -			; ** songtempo lists how many 256ths of a frame a 16th note lasts
      9  f000				  -			; ** the player operates on a 16th note grid.
     10  f000				  -
     11  f000				  -servicesongover
     12  f000				  -	      rts
     13  f000				  -servicesong
     14  f000				  -	      ifconst	PAUSESILENT
     15  f000				  -	      lda	pausestate
     16  f000				  -	      bne	servicesongover
     17  f000				  -	      endif
     18  f000				  -	      lda	songtempo
     19  f000				  -	      beq	servicesongover	; ** if song is off/paused then return
     20  f000				  -servicesongcontinue
     21  f000				  -	      lda	sfxschedulelock
     22  f000				  -	      sta	sfxschedulemissed
     23  f000				  -	      bne	servicesongover
     24  f000				  -	      lda	songtempo
     25  f000				  -	      clc
     26  f000				  -	      adc	songtick	; add songtempo to songtick until it rolls over
     27  f000				  -	      sta	songtick	; this is how we break away from 50/60Hz timing.
     28  f000				  -	      bcc	servicesongover
     29  f000				  -			; ** if we're here a new 16th note has passed
     30  f000				  -			; ** check if a new note is due on any of the 4 channels
     31  f000				  -servicesongredo
     32  f000				  -	      ldx	#3
     33  f000				  -checkchannelloop
     34  f000				  -	      dec	songchannel1busywait,x
     35  f000				  -	      bpl	carryoncheckingchannel
     36  f000				  -	      txa
     37  f000				  -	      pha		; save X for the loop
     38  f000				  -	      jsr	processsongdata
     39  f000				  -	      pla		; restore X for the loop
     40  f000				  -	      tax
     41  f000				  -carryoncheckingchannel
     42  f000				  -	      dex
     43  f000				  -	      bpl	checkchannelloop
     44  f000				  -	      lda	inactivechannelcount
     45  f000				  -	      cmp	#15
     46  f000				  -	      bne	skipstopsong
     47  f000				  -	      lda	songloops
     48  f000				  -	      bne	doasongloop
     49  f000				  -			;lda #0
     50  f000				  -	      sta	songtempo	; all channels are done. stop the song
     51  f000				  -	      rts
     52  f000				  -doasongloop
     53  f000				  -	      bmi	skipsongloopadjust
     54  f000				  -	      dec	songloops
     55  f000				  -skipsongloopadjust
     56  f000				  -	      jsr	setsongchannels
     57  f000				  -	      jmp	servicesongredo
     58  f000				  -skipstopsong
     59  f000				  -	      rts
     60  f000				  -
     61  f000				  -processsongdata
     62  f000				  -			; channel needs processing
     63  f000				  -			; X=channel #
     64  f000				  -
     65  f000				  -	      txa
     66  f000				  -	      clc
     67  f000				  -	      adc	songchannel1stackdepth,x	; stack depth value will be 0, 4, or 8
     68  f000				  -	      tay
     69  f000				  -
     70  f000				  -
     71  f000				  -			; ** indirect x is cumbersome with mult-byte commands.
     72  f000				  -			; ** setup a pointer to the song data for indirect y addressing.
     73  f000				  -	      lda	songchannel1layer1lo,y
     74  f000				  -	      sta	songdatalo
     75  f000				  -	      lda	songchannel1layer1hi,y
     76  f000				  -	      sta	songdatahi
     77  f000				  -			;ora songdatalo
     78  f000				  -	      bne	channelhasdata
     79  f000				  -			;channel data is pointing at $0000
     80  f000				  -	      lda	#$7F
     81  f000				  -	      sta	songchannel1busywait,x	; skip a bunch of notes
     82  f000				  -setchannelcountbits
     83  f000				  -	      lda	channel2bits,x
     84  f000				  -	      ora	inactivechannelcount
     85  f000				  -	      sta	inactivechannelcount
     86  f000				  -	      rts
     87  f000				  -channelhasdata
     88  f000				  -
     89  f000				  -	      sty	songstackindex
     90  f000				  -	      ldy	#0
     91  f000				  -	      lda	(songdatalo),y	; ** load in the next byte of song data, so we can decode it
     92  f000				  -	      cmp	#$ff
     93  f000				  -	      bne	carryoncheckingdatatype	; ** $ff=pattern end marker
     94  f000				  -	      jmp	handlechannelEOD
     95  f000				  -
     96  f000				  -carryoncheckingdatatype
     97  f000				  -	      and	#$F0
     98  f000				  -	      cmp	#$C0
     99  f000				  -	      beq	handlechannelrest	; 0000XXXX=rest
    100  f000				  -	      cmp	#$F0
    101  f000				  -	      beq	handlemultibytecommand
    102  f000				  -	      cmp	#$D0
    103  f000				  -	      beq	handlesemiup
    104  f000				  -	      cmp	#$E0
    105  f000				  -	      beq	handlesemidown
    106  f000				  -handlenotedata
    107  f000				  -			; ** TODO: note playing is a terrible choice for fall-through
    108  f000				  -
    109  f000				  -			; ** its simple note data, prepare arguments for schedulesfx
    110  f000				  -
    111  f000				  -			; ** set the note length
    112  f000				  -	      lda	(songdatalo),y
    113  f000				  -	      and	#$0F
    114  f000				  -	      sta	songchannel1busywait,x
    115  f000				  -
    116  f000				  -			; ** load the instrument
    117  f000				  -	      lda	songchannel1instrumentlo,x
    118  f000				  -	      sta	sfxinstrumentlo
    119  f000				  -	      lda	songchannel1instrumenthi,x
    120  f000				  -	      sta	sfxinstrumenthi
    121  f000				  -
    122  f000				  -			; ** get the note, and transpose
    123  f000				  -	      lda	(songdatalo),y
    124  f000				  -	      lsr
    125  f000				  -	      lsr
    126  f000				  -	      lsr
    127  f000				  -	      lsr
    128  f000				  -	      clc
    129  f000				  -	      adc	songchannel1transpose,x	; ** add it to the transpose index
    130  f000				  -			; ** its up the respective SFX scheduler to handle and save the note data
    131  f000				  -	      sta	sfxnoteindex
    132  f000				  -
    133  f000				  -	      lda	#0
    134  f000				  -	      sta	sfxpitchoffset
    135  f000				  -
    136  f000				  -	      jsr	schedulesfx
    137  f000				  -skipnoteschedule
    138  f000				  -	      jmp	advancethesongpointer1byte	; advance to the next data byte and exit
    139  f000				  -
    140  f000				  -handlechannelrest
    141  f000				  -			; ** set the note length
    142  f000				  -	      lda	(songdatalo),y
    143  f000				  -	      and	#$0F
    144  f000				  -	      sta	songchannel1busywait,x
    145  f000				  -	      jmp	advancethesongpointer1byte	; advance to the next data byte and exit
    146  f000				  -
    147  f000				  -handlesemiup
    148  f000				  -	      lda	(songdatalo),y	; ** reload the song data, so we can get at the lower nibble
    149  f000				  -	      and	#$0f	; ** since we need to mask the nibble of the subtracted value,
    150  f000				  -	      clc
    151  f000				  -handlesemidownentry
    152  f000				  -	      adc	songchannel1transpose,x	; ** add it to the transpose index
    153  f000				  -	      sta	songchannel1transpose,x
    154  f000				  -	      jsr	advancethesongpointer1byte
    155  f000				  -	      jmp	processsongdata	; semi doesn't have note length, so process the next data byte...
    156  f000				  -
    157  f000				  -handlesemidown
    158  f000				  -	      lda	(songdatalo),y	; ** reload the song data, so we can get at the lower nibble
    159  f000				  -	      and	#$0f	; ** since we need to mask the nibble of the subtracted value,
    160  f000				  -	      eor	#$ff	; ** its easier if we negate it, and then add it instead.
    161  f000				  -	      sec
    162  f000				  -	      jmp	handlesemidownentry
    163  f000				  -
    164  f000				  -handlemultibytecommand
    165  f000				  -	      lda	(songdatalo),y	; ** reload the song data, so we can get at the lower nibble
    166  f000				  -	      and	#$0f	; ** since we need to mask the nibble of the subtracted value,
    167  f000				  -	      cmp	#$08	; ** load new instrument?
    168  f000				  -	      bne	nothandleinstrumentchange
    169  f000				  -handleinstrumentchange
    170  f000				  -	      iny
    171  f000				  -	      lda	(songdatalo),y
    172  f000				  -	      sta	songchannel1instrumentlo,x
    173  f000				  -	      iny
    174  f000				  -	      lda	(songdatalo),y
    175  f000				  -	      sta	songchannel1instrumenthi,x
    176  f000				  -	      lda	#3
    177  f000				  -	      jsr	advancethesongpointerNbytes	; advance 3 bytes
    178  f000				  -	      jmp	processsongdata
    179  f000				  -
    180  f000				  -nothandleinstrumentchange
    181  f000				  -	      cmp	#$09	; ** absolute tempo change?
    182  f000				  -	      bne	nothandletempochange
    183  f000				  -	      lda	#0
    184  f000				  -	      sta	songtempo
    185  f000				  -handlerelativetempochange
    186  f000				  -	      iny
    187  f000				  -	      lda	(songdatalo),y
    188  f000				  -	      clc
    189  f000				  -	      adc	songtempo
    190  f000				  -	      sta	songtempo
    191  f000				  -	      lda	#2
    192  f000				  -	      jsr	advancethesongpointerNbytes	; advance 2 bytes
    193  f000				  -	      jmp	processsongdata
    194  f000				  -
    195  f000				  -nothandletempochange
    196  f000				  -	      cmp	#$0A	; ** relative tempo change?:
    197  f000				  -	      beq	handlerelativetempochange
    198  f000				  -	      cmp	#$0B	; ** octave/semi change?
    199  f000				  -	      beq	handleoctavesemichange
    200  f000				  -handlepatterndata
    201  f000				  -			; ** if we're here its a pattern/loop "subroutine"
    202  f000				  -			; ** move the channel's "stack" pointer and populate the new stack level
    203  f000				  -
    204  f000				  -	      lda	#4
    205  f000				  -	      clc
    206  f000				  -	      adc	songchannel1stackdepth,x
    207  f000				  -	      sta	songchannel1stackdepth,x	; stack depth value will be 0, 4, or 8
    208  f000				  -
    209  f000				  -	      stx	inttemp6	; about to invalidate x. save it.
    210  f000				  -	      lda	songstackindex
    211  f000				  -	      adc	#4
    212  f000				  -	      tax
    213  f000				  -
    214  f000				  -	      lda	(songdatalo),y
    215  f000				  -	      and	#$7
    216  f000				  -	      sta	songchannel1layer1loops,x
    217  f000				  -	      iny
    218  f000				  -	      lda	(songdatalo),y
    219  f000				  -	      sta	songchannel1layer1lo,x
    220  f000				  -	      iny
    221  f000				  -	      lda	(songdatalo),y
    222  f000				  -	      sta	songchannel1layer1hi,x
    223  f000				  -
    224  f000				  -	      ldx	inttemp6	; restore x with the channel #
    225  f000				  -
    226  f000				  -			; ** advance will operate on the old stack level, since we didn't store the updated songstackindex...
    227  f000				  -	      lda	#3
    228  f000				  -	      jsr	advancethesongpointerNbytes	; advance 3 bytes
    229  f000				  -
    230  f000				  -			; ** ...but the new stack level will be correctly picked up when we process the next byte.
    231  f000				  -	      jmp	processsongdata
    232  f000				  -
    233  f000				  -handlechannelEOD
    234  f000				  -			; ** check if there are loops remaining on the pattern
    235  f000				  -	      stx	inttemp6
    236  f000				  -	      ldx	songstackindex
    237  f000				  -	      dec	songchannel1layer1loops,x
    238  f000				  -	      bmi	handlechannelEODnoloop
    239  f000				  -			; ** loops are remaining. set the pattern pointer to the pattern start, which is contained after the EOD
    240  f000				  -	      iny
    241  f000				  -	      lda	(songdatalo),y
    242  f000				  -	      sta	songchannel1layer1lo,x
    243  f000				  -	      iny
    244  f000				  -	      lda	(songdatalo),y
    245  f000				  -	      sta	songchannel1layer1hi,x
    246  f000				  -	      ldx	inttemp6
    247  f000				  -	      jmp	processsongdata	; EOD handling doesn't have note length, so process the next data byte...
    248  f000				  -
    249  f000				  -handlechannelEODnoloop
    250  f000				  -			; this pattern/loop is done playing. "pop" the stack
    251  f000				  -	      ldx	inttemp6
    252  f000				  -	      lda	songchannel1stackdepth,x
    253  f000				  -	      beq	handlerootchannelEOD
    254  f000				  -	      sec
    255  f000				  -	      sbc	#4
    256  f000				  -	      sta	songchannel1stackdepth,x
    257  f000				  -	      jmp	processsongdata	; EOD handling doesn't have note length, so process the next data byte...
    258  f000				  -
    259  f000				  -handlerootchannelEOD
    260  f000				  -			; this channel is done. point it to $ff data so we no longer process this channel.
    261  f000				  -	      lda	#0
    262  f000				  -	      sta	songchannel1layer1lo,x
    263  f000				  -	      sta	songchannel1layer1hi,x
    264  f000				  -	      sta	songchannel1busywait,x
    265  f000				  -	      jmp	setchannelcountbits
    266  f000				  -	      rts
    267  f000				  -
    268  f000				  -nothandlepatternchange
    269  f000				  -handleoctavesemichange
    270  f000				  -	      iny
    271  f000				  -	      lda	(songdatalo),y
    272  f000				  -	      sta	songchannel1transpose,x
    273  f000				  -	      lda	#2
    274  f000				  -	      jsr	advancethesongpointerNbytes	; advance 2 bytes
    275  f000				  -	      jmp	processsongdata
    276  f000				  -
    277  f000				  -advancethesongpointer1byte
    278  f000				  -	      txa
    279  f000				  -	      ldx	songstackindex
    280  f000				  -	      inc	songchannel1layer1lo,x
    281  f000				  -	      bne	skiphiadvancethesongpointer1byte
    282  f000				  -	      inc	songchannel1layer1hi,x
    283  f000				  -skiphiadvancethesongpointer1byte
    284  f000				  -	      tax
    285  f000				  -	      rts
    286  f000				  -
    287  f000				  -advancethesongpointerNbytes
    288  f000				  -			; entered with A=# of byte to advance
    289  f000				  -	      stx	inttemp6
    290  f000				  -	      ldx	songstackindex
    291  f000				  -	      clc
    292  f000				  -	      adc	songchannel1layer1lo,x
    293  f000				  -	      sta	songchannel1layer1lo,x
    294  f000				  -	      lda	#0
    295  f000				  -	      adc	songchannel1layer1hi,x
    296  f000				  -	      sta	songchannel1layer1hi,x
    297  f000				  -	      ldx	inttemp6
    298  f000				  -	      rts
    299  f000				  -
    300  f000				  -clearsongmemory
    301  f000				  -	      lda	#0
    302  f000				  -	      ldx	#(songchannel4instrumenthi-songchannel1layer1lo)
    303  f000				  -clearsongmemoryloop1
    304  f000				  -	      sta	songchannel1layer1lo,x
    305  f000				  -	      dex
    306  f000				  -	      bpl	clearsongmemoryloop1
    307  f000				  -
    308  f000				  -	      ldx	#(songchannel4stackdepth-songchannel1layer1loops)
    309  f000				  -clearsongmemoryloop2
    310  f000				  -	      sta	songchannel1layer1loops,x
    311  f000				  -	      dex
    312  f000				  -	      bpl	clearsongmemoryloop2
    313  f000				  -
    314  f000				  -	      lda	#$ff
    315  f000				  -	      ldx	#3
    316  f000				  -clearsongmemoryloop3
    317  f000				  -	      sta	songchannel1busywait,x
    318  f000				  -	      dex
    319  f000				  -	      bpl	clearsongmemoryloop3
    320  f000				  -	      rts
    321  f000				  -
    322  f000				  -setsongchannels
    323  f000				  -	      jsr	clearsongmemory
    324  f000				  -	      ldy	#7
    325  f000				  -	      ldx	#3
    326  f000				  -setsongchannelsloop
    327  f000				  -	      lda	(songpointerlo),y
    328  f000				  -	      sta	songchannel1layer1hi,x
    329  f000				  -	      dey
    330  f000				  -	      lda	(songpointerlo),y
    331  f000				  -	      sta	songchannel1layer1lo,x
    332  f000				  -	      dex
    333  f000				  -	      dey
    334  f000				  -	      bpl	setsongchannelsloop
    335  f000				  -	      rts
    336  f000				  -
    337  f000				  -channel2bits
    338  f000				  -	      .byte	1,2,4,8
    339  f000				  -
    340  f000				  -tiatrackeroctavenotes
    341  f000				  -	      ifconst	BUZZBASS
    342  f000				  -LOWC       =	15
    343  f000				  -	      else
    344  f000				  -LOWC       =	14
    345  f000				  -	      endif
    346  f000				  -			; ****** ELECTRONIC (0 to 11)
    347  f000				  -	      .byte	LOWC,20	; c0	 16.1Hz
    348  f000				  -	      .byte	LOWC,18	; c#0
    349  f000				  -	      .byte	LOWC,17	; d0
    350  f000				  -	      .byte	LOWC,16	; d#0
    351  f000				  -	      .byte	LOWC,15	; e0
    352  f000				  -	      .byte	LOWC,14	; f0  (very off)
    353  f000				  -	      .byte	LOWC,14	; f#0
    354  f000				  -	      .byte	LOWC,13	; g0
    355  f000				  -	      .byte	LOWC,12	; g#0
    356  f000				  -	      .byte	LOWC,11	; a0
    357  f000				  -	      .byte	LOWC,11	; a#0 (very off)
    358  f000				  -	      .byte	LOWC,10	; b0	 30.7Hz
    359  f000				  -
    360  f000				  -			; ****** SLIGHTLY BUZZY (12 to 23)
    361  f000				  -	      .byte	6,30	; c1	 32.7Hz
    362  f000				  -	      .byte	6,28	; c#1
    363  f000				  -	      .byte	6,27	; d1
    364  f000				  -	      .byte	6,25	; d#1
    365  f000				  -	      .byte	6,24	; e1
    366  f000				  -	      .byte	6,22	; f1
    367  f000				  -	      .byte	6,21	; f#1
    368  f000				  -	      .byte	6,20	; g1
    369  f000				  -	      .byte	6,18	; g#1
    370  f000				  -	      .byte	6,17	; a1
    371  f000				  -	      .byte	6,16	; a#1
    372  f000				  -	      .byte	6,15	; b1	 63.4Hz
    373  f000				  -
    374  f000				  -			; ****** BUZZY (24 to 39)
    375  f000				  -	      .byte	1,31	; c2	 65.5
    376  f000				  -	      .byte	1,30	; c#2	 67.6
    377  f000				  -	      .byte	1,27	; d2	 72.3
    378  f000				  -	      .byte	1,26	; d#2	 77.6
    379  f000				  -	      .byte	1,24	; e2
    380  f000				  -	      .byte	1,23	; f2
    381  f000				  -	      .byte	1,22	; f#2
    382  f000				  -	      .byte	1,20	; g2
    383  f000				  -	      .byte	1,19	; g#2
    384  f000				  -	      .byte	1,18	; a2
    385  f000				  -	      .byte	1,17	; a#2
    386  f000				  -	      .byte	1,16	; b2
    387  f000				  -	      .byte	1,15	; c3	126.8Hz
    388  f000				  -	      .byte	1,14	; c#3
    389  f000				  -	      .byte	1,13	; d3	149.7Hz
    390  f000				  -	      .byte	1,12	; d#3	161.2Hz (very off)
    391  f000				  -			; ****** PURE (40 to 71) - best key is A3 Major
    392  f000				  -	      .byte	12,31	; e3	163.8Hz
    393  f000				  -	      .byte	12,29	; f3
    394  f000				  -	      .byte	12,28	; f#3
    395  f000				  -	      .byte	12,26	; g3
    396  f000				  -	      .byte	12,24	; g#3
    397  f000				  -	      .byte	12,23	; a3  songs in key of A benefit from Perceptual Tuning
    398  f000				  -	      .byte	12,22	; a#3
    399  f000				  -	      .byte	12,20	; b3
    400  f000				  -	      .byte	12,19	; c4  (middle C)
    401  f000				  -	      .byte	12,18	; c#4
    402  f000				  -	      .byte	12,17	; d4
    403  f000				  -	      .byte	12,16	; d#4
    404  f000				  -	      .byte	12,15	; e4
    405  f000				  -	      .byte	12,14	; f4
    406  f000				  -	      .byte	12,13	; f#4
    407  f000				  -	      .byte	12,12	; g4  (very off)
    408  f000				  -	      .byte	12,12	; g#4
    409  f000				  -	      .byte	12,11	; a4
    410  f000				  -	      .byte	12,10	; a#4
    411  f000				  -	      .byte	4,31	; b4
    412  f000				  -	      .byte	4,29	; c5
    413  f000				  -	      .byte	4,28	; c#5
    414  f000				  -	      .byte	4,26	; d5
    415  f000				  -	      .byte	4,24	; d#5
    416  f000				  -	      .byte	4,23	; e5
    417  f000				  -	      .byte	4,22	; f5
    418  f000				  -	      .byte	4,20	; f#5
    419  f000				  -	      .byte	4,19	; g5
    420  f000				  -	      .byte	4,18	; g#5
    421  f000				  -	      .byte	4,17	; a5
    422  f000				  -	      .byte	4,16	; a#5
    423  f000				  -	      .byte	4,15	; b5
    424  f000				  -
    425  f000				  -			; ****** TUNED WIND (72 to 83)
    426  f000				  -	      .byte	8,30	; c
    427  f000				  -	      .byte	8,28	; c#
    428  f000				  -	      .byte	8,27	; d
    429  f000				  -	      .byte	8,25	; d#
    430  f000				  -	      .byte	8,24	; e
    431  f000				  -	      .byte	8,22	; f
    432  f000				  -	      .byte	8,21	; f#
    433  f000				  -	      .byte	8,20	; g
    434  f000				  -	      .byte	8,18	; g#
    435  f000				  -	      .byte	8,17	; a
    436  f000				  -	      .byte	8,16	; a#
    437  f000				  -	      .byte	8,15	; b
    438  f000				  -
    439  f000				  -	      include	"tiadrumkit.asm"
    440  f000				  -
    441  f000				  -trackerend
    442  f000				  -
    443  f000				  -	      echo	"  (tracker module is using ",[(trackerend-trackerstart)]d," bytes)"
    444  f000				  -
    445  f000					      endif		;MUSICTRACKER
------- FILE rpmegafighter.bas.asm
   7385  f000					      endif
   7386  f000					      ifnconst	included.hiscore.asm
------- FILE hiscore.asm LEVEL 2 PASS 3
      0  f000					      include	hiscore.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000				  -	      ifconst	HSSUPPORT
      4  f000				  -
      5  f000				  -	      ifconst	BANKSETROM
      6  f000				  -	      ifconst	isBANKSETBANK
      7  f000				  -HSCHARSHERE =	1
      8  f000				  -	      endif
      9  f000				  -	      else		; !BANKSETROM so embed the character strings
     10  f000				  -HSCHARSHERE =	1
     11  f000				  -	      endif
     12  f000				  -
     13  f000				  -	      ifnconst	isBANKSETBANK
     14  f000				  -hiscorestart
     15  f000				  -
     16  f000				  -detectatarivoxeeprom
     17  f000				  -hiscoremodulestart
     18  f000				  -			; do a test to see if atarivox eeprom can be accessed, and save results
     19  f000				  -	      jsr	AVoxDetect
     20  f000				  -	      eor	#$ff	; invert for easy 7800basic if...then logic
     21  f000				  -	      sta	avoxdetected
     22  f000				  -	      lda	#$0
     23  f000				  -	      sta	SWACNT
     24  f000				  -	      lda	avoxdetected
     25  f000				  -	      rts
     26  f000				  -
     27  f000				  -detecthsc
     28  f000				  -			; check for the HSC ROM signature...
     29  f000				  -	      lda	XCTRL1s
     30  f000				  -	      ora	#%00001100
     31  f000				  -	      sta	XCTRL1s
     32  f000				  -	      sta	XCTRL1
     33  f000				  -
     34  f000				  -	      lda	$3900
     35  f000				  -	      eor	#$C6
     36  f000				  -	      bne	detecthscfail
     37  f000				  -	      lda	$3904
     38  f000				  -	      eor	#$FE
     39  f000				  -	      bne	detecthscfail
     40  f000				  -
     41  f000				  -			; check if it's initialized...
     42  f000				  -	      ldy	#0
     43  f000				  -	      lda	#$ff
     44  f000				  -checkhscinit
     45  f000				  -	      and	$1000,y
     46  f000				  -	      dey
     47  f000				  -	      bne	checkhscinit
     48  f000				  -	      cmp	#$ff
     49  f000				  -	      beq	dominimalhscinit
     50  f000				  -			; Y is 0
     51  f000				  -	      lda	#0
     52  f000				  -checkhscinit2
     53  f000				  -	      ora	$1000,y
     54  f000				  -	      dey
     55  f000				  -	      bne	checkhscinit2
     56  f000				  -	      cmp	#0
     57  f000				  -	      bne	hscisalreadyinit
     58  f000				  -dominimalhscinit
     59  f000				  -			; if we're here, we need to do a minimal HSC init...
     60  f000				  -	      ldy	#$28
     61  f000				  -hscinitloop1
     62  f000				  -	      lda	hscheader,y
     63  f000				  -	      sta	$1000,y
     64  f000				  -	      dey
     65  f000				  -	      bpl	hscinitloop1
     66  f000				  -	      ldy	#$89
     67  f000				  -	      lda	#$7F
     68  f000				  -hscinitloop2
     69  f000				  -	      sta	$10B3,y
     70  f000				  -	      dey
     71  f000				  -	      cpy	#$ff
     72  f000				  -	      bne	hscinitloop2
     73  f000				  -hscisalreadyinit
     74  f000				  -	      lda	#$ff
     75  f000				  -	      rts
     76  f000				  -hscheader
     77  f000				  -	      .byte	$00,$00,$68,$83,$AA,$55,$9C,$FF,$07,$12,$02,$1F,$00,$00,$00,$00
     78  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
     79  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$00,$00,$03
     80  f000				  -detecthscfail
     81  f000				  -	      lda	XCTRL1s
     82  f000				  -	      and	#%11110111
     83  f000				  -	      sta	XCTRL1s
     84  f000				  -	      lda	#0
     85  f000				  -	      rts
     86  f000				  -	      endif		; isBANKSETBANK
     87  f000				  -
     88  f000				  -	      ifnconst	hiscorefont
     89  f000				  -	      echo	""
     90  f000				  -	      echo	"WARNING: High score support is enabled, but the hiscorefont.png was"
     91  f000				  -	      echo	" NOT imported with incgraphic. The high score display code"
     92  f000				  -	      echo	" has been omitted from this build."
     93  f000				  -	      echo	""
     94  f000				  -	      else		; hiscorefont
     95  f000				  -	      ifnconst	isBANKSETBANK
     96  f000				  -hscdrawscreen
     97  f000				  -
     98  f000				  -			; we use 20 lines on a 24 line display
     99  f000				  -			; HSSCOREY to dynamically centers based on
    100  f000				  -			;HSSCOREY = 0
    101  f000				  -HSSCOREY   =	((WZONECOUNT*WZONEHEIGHT/8)-22)/2
    102  f000				  -HSCURSORY  =	((HSSCOREY/(WZONEHEIGHT/8))*WZONEHEIGHT)
    103  f000				  -
    104  f000				  -	      ifconst	HSSCORESIZE
    105  f000				  -SCORESIZE  =	HSSCORESIZE
    106  f000				  -	      else
    107  f000				  -SCORESIZE  =	6
    108  f000				  -	      endif
    109  f000				  -
    110  f000				  -	      jsr	mutetia
    111  f000				  -	      ifconst	pokeysupport
    112  f000				  -	      jsr	mutepokey
    113  f000				  -	      endif		; pokeysupport
    114  f000				  -
    115  f000				  -			;save shadow registers for later return...
    116  f000				  -	      lda	sCTRL
    117  f000				  -	      pha
    118  f000				  -	      lda	sCHARBASE
    119  f000				  -	      pha
    120  f000				  -
    121  f000				  -	      jsr	blacken320colors
    122  f000				  -	      jsr	drawoverwait
    123  f000				  -	      jsr	drawwait
    124  f000				  -	      jsr	hiscorecleardlmem
    125  f000				  -	      jsr	clearscreen
    126  f000				  -
    127  f000				  -	      lda	#$60
    128  f000				  -	      sta	charactermode
    129  f000				  -
    130  f000				  -			;set the character base to the HSC font
    131  f000				  -	      lda	#>hiscorefont
    132  f000				  -	      sta	CHARBASE
    133  f000				  -	      sta	sCHARBASE
    134  f000				  -	      lda	#%01000011	;Enable DMA, mode=320A
    135  f000				  -	      sta	CTRL
    136  f000				  -	      sta	sCTRL
    137  f000				  -
    138  f000				  -	      lda	#60
    139  f000				  -	      sta	hsjoydebounce
    140  f000				  -
    141  f000				  -	      lda	#0
    142  f000				  -	      sta	hscursorx
    143  f000				  -	      sta	framecounter
    144  f000				  -
    145  f000				  -	      ifnconst	HSCOLORCHASESTART
    146  f000				  -	      lda	#$8D	; default is blue. why not?
    147  f000				  -	      else
    148  f000				  -	      lda	#HSCOLORCHASESTART
    149  f000				  -	      endif
    150  f000				  -	      sta	hscolorchaseindex
    151  f000				  -	      lda	#$0F
    152  f000				  -	      sta	P0C2	; base text is white
    153  f000				  -	      jsr	hschasecolors
    154  f000				  -
    155  f000				  -			; ** plot all of the initials
    156  f000				  -	      lda	#<HSRAMInitials
    157  f000				  -	      sta	temp1	; charmaplo
    158  f000				  -	      lda	#>HSRAMInitials
    159  f000				  -	      sta	temp2	; charmaphi
    160  f000				  -	      lda	#32+29	; palette=0-29 | 32-(width=3)
    161  f000				  -	      sta	temp3	; palette/width
    162  f000				  -	      lda	#104
    163  f000				  -	      sta	temp4	; X
    164  f000				  -	      lda	#((HSSCOREY+6)/(WZONEHEIGHT/8))
    165  f000				  -	      sta	temp5	; Y
    166  f000				  -plothsinitialsloop
    167  f000				  -	      jsr	plotcharacters
    168  f000				  -	      clc
    169  f000				  -	      lda	temp3
    170  f000				  -	      adc	#32
    171  f000				  -	      sta	temp3
    172  f000				  -	      inc	temp5
    173  f000				  -	      if	WZONEHEIGHT = 8
    174  f000				  -	      inc	temp5
    175  f000				  -	      endif
    176  f000				  -	      clc
    177  f000				  -	      lda	#3
    178  f000				  -	      adc	temp1
    179  f000				  -	      sta	temp1
    180  f000				  -	      cmp	#(<(HSRAMInitials+15))
    181  f000				  -	      bcc	plothsinitialsloop
    182  f000				  -
    183  f000				  -	      ifconst	HSGAMENAMELEN
    184  f000				  -			;plot the game name...
    185  f000				  -	      lda	#<HSGAMENAMEtable
    186  f000				  -	      sta	temp1	; charmaplo
    187  f000				  -	      lda	#>HSGAMENAMEtable
    188  f000				  -	      sta	temp2	; charmaphi
    189  f000				  -	      lda	#(32-HSGAMENAMELEN)	; palette=0*29 | 32-(width=3)
    190  f000				  -	      sta	temp3	; palette/width
    191  f000				  -	      lda	#(80-(HSGAMENAMELEN*2))
    192  f000				  -	      sta	temp4	; X
    193  f000				  -	      lda	#((HSSCOREY+0)/(WZONEHEIGHT/8))
    194  f000				  -	      sta	temp5	; Y
    195  f000				  -	      jsr	plotcharacters
    196  f000				  -	      endif		; HSGAMENAMELEN
    197  f000				  -
    198  f000				  -			;plot "difficulty"...
    199  f000				  -	      ldy	gamedifficulty
    200  f000				  -	      ifnconst	HSNOLEVELNAMES
    201  f000				  -	      lda	highscoredifficultytextlo,y
    202  f000				  -	      sta	temp1
    203  f000				  -	      lda	highscoredifficultytexthi,y
    204  f000				  -	      sta	temp2
    205  f000				  -	      sec
    206  f000				  -	      lda	#32
    207  f000				  -	      sbc	highscoredifficultytextlen,y
    208  f000				  -	      sta	temp3	; palette/width
    209  f000				  -	      sec
    210  f000				  -	      lda	#40
    211  f000				  -	      sbc	highscoredifficultytextlen,y
    212  f000				  -	      asl
    213  f000				  -	      sta	temp4	; X
    214  f000				  -	      else
    215  f000				  -	      lda	#<HSHIGHSCOREStext
    216  f000				  -	      sta	temp1	; charmaplo
    217  f000				  -	      lda	#>HSHIGHSCOREStext
    218  f000				  -	      sta	temp2	; charmaphi
    219  f000				  -	      lda	#(32-11)	; palette=0*29 | 32-(width=3)
    220  f000				  -	      sta	temp3	; palette/width
    221  f000				  -	      lda	#(80-(11*2))
    222  f000				  -	      sta	temp4	; X
    223  f000				  -	      endif		; HSNOLEVELNAMES
    224  f000				  -
    225  f000				  -	      lda	#((HSSCOREY+2)/(WZONEHEIGHT/8))
    226  f000				  -	      sta	temp5	; Y
    227  f000				  -	      jsr	plotcharacters
    228  f000				  -	      ldy	hsdisplaymode	; 0=attact mode, 1=player eval, 2=player 1 eval, 3=player 2 player eval, 4=player 2 player evel (joy1)
    229  f000				  -	      bne	carronwithscoreevaluation
    230  f000				  -	      jmp	donoscoreevaluation
    231  f000				  -carronwithscoreevaluation
    232  f000				  -	      dey
    233  f000				  -	      lda	highscorelabeltextlo,y
    234  f000				  -	      sta	temp1
    235  f000				  -	      lda	highscorelabeltexthi,y
    236  f000				  -	      sta	temp2
    237  f000				  -	      sec
    238  f000				  -	      lda	#(32-15)	; palette=0*29 | 32-(width=3)
    239  f000				  -	      sta	temp3	; palette/width
    240  f000				  -	      lda	highscorelabeladjust1,y
    241  f000				  -	      sta	temp4	; X
    242  f000				  -	      lda	#((HSSCOREY+18)/(WZONEHEIGHT/8))
    243  f000				  -	      sta	temp5	; Y
    244  f000				  -	      jsr	plotcharacters
    245  f000				  -
    246  f000				  -	      ldy	hsdisplaymode	; 0=attact mode, 1=player eval, 2=player 1 eval, 3=player 2 player eval, 4=player 2 player evel (joy1)
    247  f000				  -	      dey
    248  f000				  -			;plot the current player score...
    249  f000				  -	      lda	#(32-SCORESIZE)	; palette=0*32
    250  f000				  -	      sta	temp3	; palette/width
    251  f000				  -	      lda	highscorelabeladjust2,y
    252  f000				  -	      sta	temp4	; X
    253  f000				  -	      lda	#((HSSCOREY+18)/(WZONEHEIGHT/8))
    254  f000				  -	      sta	temp5	; Y
    255  f000				  -
    256  f000				  -	      lda	scorevarlo,y
    257  f000				  -	      sta	temp7	; score variable lo
    258  f000				  -	      lda	scorevarhi,y
    259  f000				  -	      sta	temp8	; score variable hi
    260  f000				  -
    261  f000				  -	      lda	#(hiscorefont_mode | %01100000)	; charactermode
    262  f000				  -	      sta	temp9
    263  f000				  -
    264  f000				  -	      lda	#<(hiscorefont+33)	; +33 to get to '0' character
    265  f000				  -	      sta	temp1	; charmaplo
    266  f000				  -	      lda	#>(hiscorefont+33)
    267  f000				  -	      sta	temp2	; charmaphi
    268  f000				  -	      lda	#SCORESIZE
    269  f000				  -	      sta	temp6
    270  f000				  -	      ifnconst	DOUBLEWIDE
    271  f000				  -	      jsr	plotvalue
    272  f000				  -	      else
    273  f000				  -	      jsr	plotvaluedw
    274  f000				  -	      endif
    275  f000				  -
    276  f000				  -USED_PLOTVALUE =	1	; ensure that plotvalue gets compiled in
    277  f000				  -
    278  f000				  -	      ifconst	HSGAMERANKS
    279  f000				  -
    280  f000				  -	      ldx	#$ff	; start at 0 after the inx...
    281  f000				  -comparescore2rankloop
    282  f000				  -	      inx
    283  f000				  -	      ldy	#0
    284  f000				  -	      lda	rankvalue_0,x
    285  f000				  -	      cmp	(temp7),y
    286  f000				  -	      bcc	score2rankloopdone
    287  f000				  -	      bne	comparescore2rankloop
    288  f000				  -	      iny
    289  f000				  -	      lda	rankvalue_1,x
    290  f000				  -	      cmp	(temp7),y
    291  f000				  -	      bcc	score2rankloopdone
    292  f000				  -	      bne	comparescore2rankloop
    293  f000				  -	      iny
    294  f000				  -	      lda	(temp7),y
    295  f000				  -	      cmp	rankvalue_2,x
    296  f000				  -	      bcs	score2rankloopdone
    297  f000				  -	      jmp	comparescore2rankloop
    298  f000				  -score2rankloopdone
    299  f000				  -	      stx	hsnewscorerank
    300  f000				  -
    301  f000				  -	      lda	ranklabello,x
    302  f000				  -	      sta	temp1
    303  f000				  -	      lda	ranklabelhi,x
    304  f000				  -	      sta	temp2
    305  f000				  -	      sec
    306  f000				  -	      lda	#32	; palette=0*29 | 32-(width=3)
    307  f000				  -	      sbc	ranklabellengths,x
    308  f000				  -	      sta	temp3	; palette/width
    309  f000				  -	      sec
    310  f000				  -	      lda	#(40+6)
    311  f000				  -	      sbc	ranklabellengths,x
    312  f000				  -	      asl
    313  f000				  -	      sta	temp4	; X
    314  f000				  -	      lda	#((HSSCOREY+20)/(WZONEHEIGHT/8))
    315  f000				  -	      sta	temp5	; Y
    316  f000				  -	      jsr	plotcharacters
    317  f000				  -
    318  f000				  -	      ldx	hsnewscorerank
    319  f000				  -
    320  f000				  -	      lda	#<highscoreranklabel
    321  f000				  -	      sta	temp1
    322  f000				  -	      lda	#>highscoreranklabel
    323  f000				  -	      sta	temp2
    324  f000				  -
    325  f000				  -	      lda	#(32-5)	; palette=0*29 | 32-(width=3)
    326  f000				  -	      sta	temp3	; palette/width
    327  f000				  -	      lda	#(40-6)
    328  f000				  -	      sec
    329  f000				  -	      sbc	ranklabellengths,x
    330  f000				  -	      asl
    331  f000				  -	      sta	temp4	; X
    332  f000				  -	      lda	#((HSSCOREY+20)/(WZONEHEIGHT/8))
    333  f000				  -	      sta	temp5	; Y
    334  f000				  -	      jsr	plotcharacters
    335  f000				  -	      endif		; HSGAMERANKS
    336  f000				  -
    337  f000				  -
    338  f000				  -			; ** which line did this player beat?
    339  f000				  -	      lda	#$ff
    340  f000				  -	      sta	hsnewscoreline
    341  f000				  -	      ldx	#$fd
    342  f000				  -comparescoreadd2x
    343  f000				  -	      inx
    344  f000				  -comparescoreadd1x
    345  f000				  -	      inx
    346  f000				  -comparescore2lineloop
    347  f000				  -	      inc	hsnewscoreline
    348  f000				  -	      inx		; initialrun, x=0
    349  f000				  -	      cpx	#15
    350  f000				  -	      beq	nohighscoreforyou
    351  f000				  -	      ldy	#0
    352  f000				  -	      lda	HSRAMScores,x
    353  f000				  -	      cmp	(temp7),y	; first score digit
    354  f000				  -	      bcc	score2lineloopdonedel1x
    355  f000				  -	      bne	comparescoreadd2x
    356  f000				  -	      iny
    357  f000				  -	      inx
    358  f000				  -	      lda	HSRAMScores,x
    359  f000				  -	      cmp	(temp7),y
    360  f000				  -	      bcc	score2lineloopdonedel2x
    361  f000				  -	      bne	comparescoreadd1x
    362  f000				  -	      iny
    363  f000				  -	      inx
    364  f000				  -	      lda	(temp7),y
    365  f000				  -	      cmp	HSRAMScores,x
    366  f000				  -	      bcs	score2lineloopdonedel3x
    367  f000				  -	      jmp	comparescore2lineloop
    368  f000				  -nohighscoreforyou
    369  f000				  -	      lda	#$ff
    370  f000				  -	      sta	hsnewscoreline
    371  f000				  -	      sta	countdownseconds
    372  f000				  -	      jmp	donoscoreevaluation
    373  f000				  -score2lineloopdonedel3x
    374  f000				  -	      dex
    375  f000				  -score2lineloopdonedel2x
    376  f000				  -	      dex
    377  f000				  -score2lineloopdonedel1x
    378  f000				  -	      dex
    379  f000				  -
    380  f000				  -			; 0 1 2
    381  f000				  -			; 3 4 5
    382  f000				  -			; 6 7 8
    383  f000				  -			; 9 0 1
    384  f000				  -			; 2 3 4
    385  f000				  -
    386  f000				  -	      stx	temp9
    387  f000				  -	      cpx	#11
    388  f000				  -	      beq	postsortscoresuploop
    389  f000				  -	      ldx	#11
    390  f000				  -sortscoresuploop
    391  f000				  -	      lda	HSRAMScores,x
    392  f000				  -	      sta	HSRAMScores+3,x
    393  f000				  -	      lda	HSRAMInitials,x
    394  f000				  -	      sta	HSRAMInitials+3,x
    395  f000				  -	      dex
    396  f000				  -	      cpx	temp9
    397  f000				  -	      bne	sortscoresuploop
    398  f000				  -postsortscoresuploop
    399  f000				  -
    400  f000				  -			;stick the score and cleared initials in the slot...
    401  f000				  -	      inx
    402  f000				  -	      ldy	#0
    403  f000				  -	      sty	hsinitialhold
    404  f000				  -	      lda	(temp7),y
    405  f000				  -	      sta	HSRAMScores,x
    406  f000				  -	      iny
    407  f000				  -	      lda	(temp7),y
    408  f000				  -	      sta	HSRAMScores+1,x
    409  f000				  -	      iny
    410  f000				  -	      lda	(temp7),y
    411  f000				  -	      sta	HSRAMScores+2,x
    412  f000				  -	      lda	#0
    413  f000				  -	      sta	HSRAMInitials,x
    414  f000				  -	      lda	#29
    415  f000				  -	      sta	HSRAMInitials+1,x
    416  f000				  -	      sta	HSRAMInitials+2,x
    417  f000				  -
    418  f000				  -	      stx	hsinitialpos
    419  f000				  -
    420  f000				  -	      ifconst	vox_highscore
    421  f000				  -	      lda	<#vox_highscore
    422  f000				  -	      sta	speech_addr
    423  f000				  -	      lda	>#vox_highscore
    424  f000				  -	      sta	speech_addr+1
    425  f000				  -	      endif		; vox_highscore
    426  f000				  -	      ifconst	sfx_highscore
    427  f000				  -	      lda	<#sfx_highscore
    428  f000				  -	      sta	temp1
    429  f000				  -	      lda	>#sfx_highscore
    430  f000				  -	      sta	temp2
    431  f000				  -	      lda	#0
    432  f000				  -	      sta	temp3
    433  f000				  -	      jsr	schedulesfx
    434  f000				  -	      endif		; sfx_highscore
    435  f000				  -	      ifconst	songdatastart_song_highscore
    436  f000				  -	      lda	#<songchanneltable_song_highscore
    437  f000				  -	      sta	songpointerlo
    438  f000				  -	      lda	#>songchanneltable_song_highscore
    439  f000				  -	      sta	songpointerhi
    440  f000				  -	      lda	#73
    441  f000				  -	      sta	songtempo
    442  f000				  -	      jsr	setsongchannels
    443  f000				  -	      endif		; songdatastart_song_highscore
    444  f000				  -
    445  f000				  -
    446  f000				  -donoscoreevaluation
    447  f000				  -
    448  f000				  -	      lda	#(32+(32-SCORESIZE))	; palette=0*32 | 32-(width=6)
    449  f000				  -	      sta	temp3	; palette/width
    450  f000				  -	      lda	#(72+(4*(6-SCORESIZE)))
    451  f000				  -	      sta	temp4	; X
    452  f000				  -	      lda	#((HSSCOREY+6)/(WZONEHEIGHT/8))
    453  f000				  -	      sta	temp5	; Y
    454  f000				  -	      lda	#<HSRAMScores
    455  f000				  -	      sta	temp7	; score variable lo
    456  f000				  -	      lda	#>HSRAMScores
    457  f000				  -	      sta	temp8	; score variable hi
    458  f000				  -	      lda	#(hiscorefont_mode | %01100000)	; charactermode
    459  f000				  -	      sta	temp9
    460  f000				  -plothsscoresloop
    461  f000				  -	      lda	#<(hiscorefont+33)	; +33 to get to '0' character
    462  f000				  -	      sta	temp1	; charmaplo
    463  f000				  -	      lda	#>(hiscorefont+33)
    464  f000				  -	      sta	temp2	; charmaphi
    465  f000				  -	      lda	#6
    466  f000				  -	      sta	temp6
    467  f000				  -	      ifnconst	DOUBLEWIDE
    468  f000				  -	      jsr	plotvalue
    469  f000				  -	      else
    470  f000				  -	      jsr	plotvaluedw
    471  f000				  -	      endif
    472  f000				  -	      clc
    473  f000				  -	      lda	temp3
    474  f000				  -	      adc	#32
    475  f000				  -	      sta	temp3
    476  f000				  -	      inc	temp5
    477  f000				  -	      if	WZONEHEIGHT = 8
    478  f000				  -	      inc	temp5
    479  f000				  -	      endif
    480  f000				  -	      clc
    481  f000				  -	      lda	#3
    482  f000				  -	      adc	temp7
    483  f000				  -	      sta	temp7
    484  f000				  -	      cmp	#(<(HSRAMScores+15))
    485  f000				  -	      bcc	plothsscoresloop
    486  f000				  -plothsindex
    487  f000				  -	      lda	#32+31	; palette=0*32 | 32-(width=1)
    488  f000				  -	      sta	temp3	; palette/width
    489  f000				  -	      lda	#44
    490  f000				  -	      sta	temp4	; X
    491  f000				  -	      lda	#((HSSCOREY+6)/(WZONEHEIGHT/8))
    492  f000				  -	      sta	temp5	; Y
    493  f000				  -	      lda	#<hsgameslotnumbers
    494  f000				  -	      sta	temp7	; score variable lo
    495  f000				  -	      lda	#>hsgameslotnumbers
    496  f000				  -	      sta	temp8	; score variable hi
    497  f000				  -	      lda	#(hiscorefont_mode | %01100000)	; charactermode
    498  f000				  -	      sta	temp9
    499  f000				  -plothsindexloop
    500  f000				  -	      lda	#<(hiscorefont+33)
    501  f000				  -	      sta	temp1	; charmaplo
    502  f000				  -	      lda	#>(hiscorefont+33)
    503  f000				  -	      sta	temp2	; charmaphi
    504  f000				  -	      lda	#1
    505  f000				  -	      sta	temp6	; number of characters
    506  f000				  -	      ifnconst	DOUBLEWIDE
    507  f000				  -	      jsr	plotvalue
    508  f000				  -	      else
    509  f000				  -	      jsr	plotvaluedw
    510  f000				  -	      endif
    511  f000				  -	      clc
    512  f000				  -	      lda	temp3
    513  f000				  -	      adc	#32
    514  f000				  -	      sta	temp3
    515  f000				  -	      inc	temp5
    516  f000				  -	      if	WZONEHEIGHT = 8
    517  f000				  -	      inc	temp5
    518  f000				  -	      endif
    519  f000				  -	      inc	temp7
    520  f000				  -	      lda	temp7
    521  f000				  -	      cmp	#(<(hsgameslotnumbers+5))
    522  f000				  -	      bcc	plothsindexloop
    523  f000				  -
    524  f000				  -	      jsr	savescreen
    525  f000				  -	      ifnconst	HSSECONDS
    526  f000				  -	      lda	#6
    527  f000				  -	      else
    528  f000				  -	      lda	#HSSECONDS
    529  f000				  -	      endif
    530  f000				  -
    531  f000				  -	      sta	countdownseconds
    532  f000				  -
    533  f000				  -keepdisplayinghs
    534  f000				  -	      jsr	restorescreen
    535  f000				  -
    536  f000				  -	      jsr	setuphsinpt1
    537  f000				  -
    538  f000				  -	      lda	hsnewscoreline
    539  f000				  -	      bpl	carryonkeepdisplayinghs
    540  f000				  -	      jmp	skipenterscorecontrol
    541  f000				  -carryonkeepdisplayinghs
    542  f000				  -
    543  f000				  -
    544  f000				  -	      ifnconst	HSSECONDS
    545  f000				  -	      lda	#6
    546  f000				  -	      else
    547  f000				  -	      lda	#HSSECONDS
    548  f000				  -	      endif
    549  f000				  -
    550  f000				  -	      sta	countdownseconds
    551  f000				  -
    552  f000				  -			;plot the "cursor" initial sprite...
    553  f000				  -	      lda	hsinitialhold
    554  f000				  -
    555  f000				  -	      sta	temp1
    556  f000				  -	      lda	#>(hiscorefont+32)
    557  f000				  -	      sta	temp2
    558  f000				  -	      lda	#31	; palette=0*32 | 32-(width=1)
    559  f000				  -	      sta	temp3	; palette/width
    560  f000				  -	      lda	hscursorx
    561  f000				  -	      asl
    562  f000				  -	      asl
    563  f000				  -	      clc
    564  f000				  -	      adc	#104
    565  f000				  -	      sta	temp4	; X
    566  f000				  -	      lda	hsnewscoreline
    567  f000				  -	      asl
    568  f000				  -	      asl
    569  f000				  -	      asl
    570  f000				  -	      asl
    571  f000				  -	      adc	#((3*16)+HSCURSORY)
    572  f000				  -	      sta	temp5	; Y
    573  f000				  -	      lda	#%01000000
    574  f000				  -	      sta	temp6
    575  f000				  -	      jsr	plotsprite
    576  f000				  -
    577  f000				  -	      ldx	hscursorx
    578  f000				  -	      ldy	hsdisplaymode
    579  f000				  -	      ifnconst	.HSup
    580  f000				  -	      lda	sSWCHA
    581  f000				  -	      cpy	#3
    582  f000				  -	      bne	hsskipadjustjoystick1
    583  f000				  -	      asl
    584  f000				  -	      asl
    585  f000				  -	      asl
    586  f000				  -	      asl
    587  f000				  -hsskipadjustjoystick1
    588  f000				  -	      sta	hsswcha
    589  f000				  -	      else		; there are user-defined routines!
    590  f000				  -	      jsr	.HSdown
    591  f000				  -	      lda	hsreturn	; b0
    592  f000				  -	      asl
    593  f000				  -	      pha
    594  f000				  -	      jsr	.HSup
    595  f000				  -	      pla
    596  f000				  -	      ora	hsreturn
    597  f000				  -	      asl
    598  f000				  -	      asl
    599  f000				  -	      asl
    600  f000				  -	      asl
    601  f000				  -	      eor	#$FF
    602  f000				  -	      sta	hsswcha
    603  f000				  -	      endif		; .HSup
    604  f000				  -	      lda	SWCHB
    605  f000				  -	      and	#%00000010
    606  f000				  -	      bne	hsskipselectswitch
    607  f000				  -	      lda	#%00010000
    608  f000				  -	      sta	hsswcha
    609  f000				  -	      bne	hsdodebouncecheck
    610  f000				  -hsskipselectswitch
    611  f000				  -	      lda	hsswcha
    612  f000				  -	      and	#%00110000
    613  f000				  -	      cmp	#%00110000
    614  f000				  -	      beq	hsjoystickskipped
    615  f000				  -hsdodebouncecheck
    616  f000				  -	      lda	hsjoydebounce
    617  f000				  -	      beq	hsdontdebounce
    618  f000				  -	      jmp	hspostjoystick
    619  f000				  -hsdontdebounce
    620  f000				  -	      ldx	#1	; small tick sound
    621  f000				  -	      jsr	playhssfx
    622  f000				  -	      lda	hsswcha
    623  f000				  -	      and	#%00110000
    624  f000				  -	      ldx	hscursorx
    625  f000				  -	      cmp	#%00100000	; check down
    626  f000				  -	      bne	hsjoycheckup
    627  f000				  -	      ldy	hsinitialhold
    628  f000				  -	      cpx	#0
    629  f000				  -	      bne	skipavoid31_1
    630  f000				  -	      cpy	#0	; if we're about to change to the <- char (#31) then double-decrement to skip over it
    631  f000				  -	      bne	skipavoid31_1
    632  f000				  -	      dey
    633  f000				  -skipavoid31_1
    634  f000				  -	      dey
    635  f000				  -	      jmp	hssetdebounce
    636  f000				  -hsjoycheckup
    637  f000				  -	      cmp	#%00010000	; check up
    638  f000				  -	      bne	hsjoystickskipped
    639  f000				  -	      ldy	hsinitialhold
    640  f000				  -	      cpx	#0
    641  f000				  -	      bne	skipavoid31_2
    642  f000				  -	      cpy	#30	; if we're about to change to the <- char (#31) then double-increment to skip over it
    643  f000				  -	      bne	skipavoid31_2
    644  f000				  -	      iny
    645  f000				  -skipavoid31_2
    646  f000				  -	      iny
    647  f000				  -hssetdebounce
    648  f000				  -	      tya
    649  f000				  -	      and	#31
    650  f000				  -	      sta	hsinitialhold
    651  f000				  -	      lda	#15
    652  f000				  -	      sta	hsjoydebounce
    653  f000				  -	      bne	hspostjoystick
    654  f000				  -hsjoystickskipped
    655  f000				  -			; check the fire button only when the stick isn't engaged
    656  f000				  -	      lda	hsinpt1
    657  f000				  -	      bpl	hsbuttonskipped
    658  f000				  -	      lda	hsjoydebounce
    659  f000				  -	      bne	hspostjoystick
    660  f000				  -hsfiredontdebounce
    661  f000				  -	      lda	hsinitialhold
    662  f000				  -	      cmp	#31
    663  f000				  -	      beq	hsmovecursorback
    664  f000				  -	      inc	hscursorx
    665  f000				  -	      inc	hsinitialpos
    666  f000				  -	      lda	hscursorx
    667  f000				  -	      cmp	#3
    668  f000				  -	      bne	skiphsentryisdone
    669  f000				  -	      lda	#0
    670  f000				  -	      sta	framecounter
    671  f000				  -	      lda	#$ff
    672  f000				  -	      sta	hsnewscoreline
    673  f000				  -	      dec	hsinitialpos
    674  f000				  -	      bne	skiphsentryisdone
    675  f000				  -hsmovecursorback
    676  f000				  -	      lda	hscursorx
    677  f000				  -	      beq	skiphsmovecursorback
    678  f000				  -	      lda	#29
    679  f000				  -	      ldx	hsinitialpos
    680  f000				  -	      sta	HSRAMInitials,x
    681  f000				  -	      dec	hsinitialpos
    682  f000				  -	      dec	hscursorx
    683  f000				  -	      dex
    684  f000				  -	      lda	HSRAMInitials,x
    685  f000				  -	      sta	hsinitialhold
    686  f000				  -skiphsmovecursorback
    687  f000				  -skiphsentryisdone
    688  f000				  -	      ldx	#0
    689  f000				  -	      jsr	playhssfx
    690  f000				  -	      lda	#20
    691  f000				  -	      sta	hsjoydebounce
    692  f000				  -	      bne	hspostjoystick
    693  f000				  -
    694  f000				  -hsbuttonskipped
    695  f000				  -	      lda	#0
    696  f000				  -	      sta	hsjoydebounce
    697  f000				  -hspostjoystick
    698  f000				  -
    699  f000				  -	      ldx	hsinitialpos
    700  f000				  -	      lda	hsinitialhold
    701  f000				  -	      sta	HSRAMInitials,x
    702  f000				  -
    703  f000				  -	      jmp	skiphschasecolors
    704  f000				  -
    705  f000				  -skipenterscorecontrol
    706  f000				  -	      jsr	hschasecolors
    707  f000				  -	      jsr	setuphsinpt1
    708  f000				  -	      lda	hsjoydebounce
    709  f000				  -	      bne	skiphschasecolors
    710  f000				  -	      lda	hsinpt1
    711  f000				  -	      bmi	returnfromhs
    712  f000				  -skiphschasecolors
    713  f000				  -
    714  f000				  -	      jsr	drawscreen
    715  f000				  -
    716  f000				  -	      lda	countdownseconds
    717  f000				  -	      beq	returnfromhs
    718  f000				  -	      jmp	keepdisplayinghs
    719  f000				  -returnfromhs
    720  f000				  -
    721  f000				  -	      ifconst	songdatastart_song_highscore
    722  f000				  -	      lda	hsdisplaymode
    723  f000				  -	      beq	skipclearHSCsong
    724  f000				  -	      lda	#0
    725  f000				  -	      sta	songtempo
    726  f000				  -skipclearHSCsong
    727  f000				  -	      endif
    728  f000				  -	      jsr	drawwait
    729  f000				  -	      jsr	clearscreen
    730  f000				  -	      lda	#0
    731  f000				  -	      ldy	#7
    732  f000				  -	      jsr	blacken320colors
    733  f000				  -			;lda ssCHARBASE
    734  f000				  -	      pla
    735  f000				  -	      sta	sCHARBASE
    736  f000				  -			;lda ssCTRL
    737  f000				  -	      pla
    738  f000				  -	      sta	sCTRL
    739  f000				  -	      rts
    740  f000				  -
    741  f000				  -setuphsinpt1
    742  f000				  -	      lda	#$ff
    743  f000				  -	      sta	hsinpt1
    744  f000				  -	      lda	hsjoydebounce
    745  f000				  -	      beq	skipdebounceadjust
    746  f000				  -	      dec	hsjoydebounce
    747  f000				  -	      bne	skipstorefirebuttonstatus
    748  f000				  -skipdebounceadjust
    749  f000				  -	      lda	SWCHB
    750  f000				  -	      and	#%00000001
    751  f000				  -	      bne	hscheckresetover
    752  f000				  -	      lda	#$ff
    753  f000				  -	      sta	hsinpt1
    754  f000				  -	      rts
    755  f000				  -hscheckresetover
    756  f000				  -	      ifnconst	.HSselect
    757  f000				  -	      ldx	hsdisplaymode
    758  f000				  -	      cpx	#3
    759  f000				  -	      bne	hsskipadjustjoyfire1
    760  f000				  -	      lda	sINPT3
    761  f000				  -	      jmp	hsskipadjustjoyfire1done
    762  f000				  -hsskipadjustjoyfire1
    763  f000				  -	      lda	sINPT1
    764  f000				  -hsskipadjustjoyfire1done
    765  f000				  -	      sta	hsinpt1
    766  f000				  -	      else		; there are user-defined routines!
    767  f000				  -	      jsr	.HSselect
    768  f000				  -	      lda	hsreturn
    769  f000				  -	      ror		; carry
    770  f000				  -	      ror		; b7
    771  f000				  -	      sta	hsinpt1
    772  f000				  -	      endif		; .HSselect
    773  f000				  -skipstorefirebuttonstatus
    774  f000				  -	      rts
    775  f000				  -
    776  f000				  -blacken320colors
    777  f000				  -	      ldy	#7
    778  f000				  -blacken320colorsloop
    779  f000				  -	      sta	P0C2,y
    780  f000				  -	      dey
    781  f000				  -	      bpl	blacken320colorsloop
    782  f000				  -	      rts
    783  f000				  -
    784  f000				  -hschasecolors
    785  f000				  -	      lda	framecounter
    786  f000				  -	      and	#3
    787  f000				  -	      bne	hschasecolorsreturn
    788  f000				  -	      inc	hscolorchaseindex
    789  f000				  -	      lda	hscolorchaseindex
    790  f000				  -
    791  f000				  -	      sta	P5C2
    792  f000				  -	      sbc	#$02
    793  f000				  -	      sta	P4C2
    794  f000				  -	      sbc	#$02
    795  f000				  -	      sta	P3C2
    796  f000				  -	      sbc	#$02
    797  f000				  -	      sta	P2C2
    798  f000				  -	      sbc	#$02
    799  f000				  -	      sta	P1C2
    800  f000				  -hschasecolorsreturn
    801  f000				  -	      rts
    802  f000				  -
    803  f000				  -playhssfx
    804  f000				  -	      lda	hssfx_lo,x
    805  f000				  -	      sta	temp1
    806  f000				  -	      lda	hssfx_hi,x
    807  f000				  -	      sta	temp2
    808  f000				  -	      lda	#0
    809  f000				  -	      sta	temp3
    810  f000				  -	      jmp	schedulesfx
    811  f000				  -
    812  f000				  -hssfx_lo
    813  f000				  -	      .byte	<sfx_hsletterpositionchange, <sfx_hslettertick
    814  f000				  -hssfx_hi
    815  f000				  -	      .byte	>sfx_hsletterpositionchange, >sfx_hslettertick
    816  f000				  -
    817  f000				  -sfx_hsletterpositionchange
    818  f000				  -	      .byte	$10,$18,$00
    819  f000				  -	      .byte	$02,$06,$08
    820  f000				  -	      .byte	$02,$06,$04
    821  f000				  -	      .byte	$00,$00,$00
    822  f000				  -sfx_hslettertick
    823  f000				  -	      .byte	$10,$18,$00
    824  f000				  -	      .byte	$00,$00,$0a
    825  f000				  -	      .byte	$00,$00,$00
    826  f000				  -
    827  f000				  -highscorelabeladjust1
    828  f000				  -	      .byte	(80-(14*2)-(SCORESIZE*2)),(80-(16*2)-(SCORESIZE*2)),(80-(16*2)-(SCORESIZE*2)),(80-(16*2)-(SCORESIZE*2))
    829  f000				  -highscorelabeladjust2
    830  f000				  -	      .byte	(80+(14*2)-(SCORESIZE*2)),(80+(16*2)-(SCORESIZE*2)),(80+(16*2)-(SCORESIZE*2)),(80+(16*2)-(SCORESIZE*2))
    831  f000				  -
    832  f000				  -scorevarlo
    833  f000				  -	      .byte	<(score0+((6-SCORESIZE)/2)),<(score0+((6-SCORESIZE)/2)),<(score1+((6-SCORESIZE)/2)),<(score1+((6-SCORESIZE)/2))
    834  f000				  -scorevarhi
    835  f000				  -	      .byte	>(score0+((6-SCORESIZE)/2)),>(score0+((6-SCORESIZE)/2)),>(score1+((6-SCORESIZE)/2)),>(score1+((6-SCORESIZE)/2))
    836  f000				  -
    837  f000				  -	      endif		; !isBANKSETBANK
    838  f000				  -
    839  f000				  -	      ifnconst	HSNOLEVELNAMES
    840  f000				  -	      ifnconst	isBANKSETBANK
    841  f000				  -highscoredifficultytextlo
    842  f000				  -	      .byte	<easylevelname, <mediumlevelname, <hardlevelname, <expertlevelname
    843  f000				  -highscoredifficultytexthi
    844  f000				  -	      .byte	>easylevelname, >mediumlevelname, >hardlevelname, >expertlevelname
    845  f000				  -	      endif		; !isBANKSETBANK
    846  f000				  -
    847  f000				  -	      ifnconst	HSCUSTOMLEVELNAMES
    848  f000				  -	      ifnconst	isBANKSETBANK
    849  f000				  -highscoredifficultytextlen
    850  f000				  -	      .byte	22, 30, 26, 24
    851  f000				  -	      endif		; !isBANKSETBANK
    852  f000				  -
    853  f000				  -	      ifconst	HSCHARSHERE
    854  f000				  -
    855  f000				  -easylevelname
    856  f000				  -	      .byte	$04,$00,$12,$18,$1d,$0b,$04,$15,$04,$0b,$1d,$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    857  f000				  -mediumlevelname
    858  f000				  -	      .byte	$08,$0d,$13,$04,$11,$0c,$04,$03,$08,$00,$13,$04,$1d,$0b,$04,$15,$04,$0b,$1d,$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    859  f000				  -hardlevelname
    860  f000				  -	      .byte	$00,$03,$15,$00,$0d,$02,$04,$03,$1d,$0b,$04,$15,$04,$0b,$1d,$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    861  f000				  -expertlevelname
    862  f000				  -	      .byte	$04,$17,$0f,$04,$11,$13,$1d,$0b,$04,$15,$04,$0b,$1d,$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    863  f000				  -	      endif		; HSCHARSHERE
    864  f000				  -	      else		; HSCUSTOMLEVELNAMES
    865  f000				  -	      include	"7800hsgamediffnames.asm"
    866  f000				  -	      endif		; HSCUSTOMLEVELNAMES
    867  f000				  -	      else		; HSNOLEVELNAMES
    868  f000				  -	      ifconst	HSCHARSHERE
    869  f000				  -HSHIGHSCOREStext
    870  f000				  -	      .byte	$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    871  f000				  -	      endif		; HSCHARSHERE
    872  f000				  -	      endif		; HSNOLEVELNAMES
    873  f000				  -
    874  f000				  -	      ifnconst	isBANKSETBANK
    875  f000				  -highscorelabeltextlo
    876  f000				  -	      .byte	<player0label, <player1label, <player2label, <player2label
    877  f000				  -highscorelabeltexthi
    878  f000				  -	      .byte	>player0label, >player1label, >player2label, >player2label
    879  f000				  -	      endif		; !isBANKSETBANK
    880  f000				  -
    881  f000				  -	      ifconst	HSCHARSHERE
    882  f000				  -player0label
    883  f000				  -	      .byte	$0f,$0b,$00,$18,$04,$11,$1d,$12,$02,$0e,$11,$04,$1a,$1d,$1d
    884  f000				  -
    885  f000				  -player1label
    886  f000				  -	      .byte	$0f,$0b,$00,$18,$04,$11,$1d,$22,$1d,$12,$02,$0e,$11,$04,$1a
    887  f000				  -
    888  f000				  -player2label
    889  f000				  -	      .byte	$0f,$0b,$00,$18,$04,$11,$1d,$23,$1d,$12,$02,$0e,$11,$04,$1a
    890  f000				  -	      endif		; HSCHARSHERE
    891  f000				  -
    892  f000				  -
    893  f000				  -	      ifconst	HSGAMENAMELEN
    894  f000				  -	      ifconst	HSCHARSHERE
    895  f000				  -HSGAMENAMEtable
    896  f000				  -	      include	"7800hsgamename.asm"
    897  f000				  -	      endif		; HSCHARSHERE
    898  f000				  -	      endif		; HSGAMENAMELEN
    899  f000				  -	      ifconst	HSGAMERANKS
    900  f000				  -	      include	"7800hsgameranks.asm"
    901  f000				  -	      ifconst	HSCHARSHERE
    902  f000				  -highscoreranklabel
    903  f000				  -	      .byte	$11,$00,$0d,$0a,$1a
    904  f000				  -	      endif		; HSCHARSHERE
    905  f000				  -	      endif		; HSGAMERANKS
    906  f000				  -
    907  f000				  -			;ensure our table doesn't wrap a page...
    908  f000				  -	      if	((<*)>251)
    909  f000				  -	      align	256
    910  f000				  -	      endif
    911  f000				  -hsgameslotnumbers
    912  f000				  -	      .byte	33,34,35,36,37
    913  f000				  -	      endif		; hiscorefont
    914  f000				  -
    915  f000				  -
    916  f000				  -	      ifnconst	isBANKSETBANK
    917  f000				  -loaddifficultytable
    918  f000				  -	      lda	gamedifficulty
    919  f000				  -	      and	#$03	; ensure the user hasn't selected an invalid difficulty
    920  f000				  -	      sta	gamedifficulty
    921  f000				  -	      cmp	hsdifficulty	; check game difficulty is the same as RAM table
    922  f000				  -	      bne	loaddifficultytablecontinue1
    923  f000				  -	      rts		; this high score difficulty table is already loaded
    924  f000				  -loaddifficultytablecontinue1
    925  f000				  -	      lda	gamedifficulty
    926  f000				  -	      sta	hsdifficulty
    927  f000				  -			;we need to check the device for the table
    928  f000				  -	      lda	hsdevice
    929  f000				  -	      bne	loaddifficultytablecontinue2
    930  f000				  -			; there's no save device. clear out this table.
    931  f000				  -	      jmp	cleardifficultytablemem
    932  f000				  -loaddifficultytablecontinue2
    933  f000				  -	      lda	hsdevice
    934  f000				  -	      and	#1
    935  f000				  -	      beq	memdeviceisntHSC
    936  f000				  -	      jmp	loaddifficultytableHSC
    937  f000				  -memdeviceisntHSC
    938  f000				  -	      jmp	loaddifficultytableAVOX
    939  f000				  -
    940  f000				  -savedifficultytable
    941  f000				  -			;*** we need to check which device we should use...
    942  f000				  -	      lda	hsdevice
    943  f000				  -	      bne	savedifficultytablerealdevice
    944  f000				  -	      rts		; its a ram device
    945  f000				  -savedifficultytablerealdevice
    946  f000				  -	      and	#1
    947  f000				  -	      beq	savememdeviceisntHSC
    948  f000				  -	      jmp	savedifficultytableHSC
    949  f000				  -savememdeviceisntHSC
    950  f000				  -	      jmp	savedifficultytableAVOX
    951  f000				  -
    952  f000				  -savedifficultytableAVOX
    953  f000				  -			; the load call already setup the memory structure and atarivox memory location
    954  f000				  -	      jsr	savealoadedHSCtablecontinue
    955  f000				  -savedifficultytableAVOXskipconvert
    956  f000				  -	      lda	#HSIDHI
    957  f000				  -	      sta	eeprombuffer
    958  f000				  -	      lda	#HSIDLO
    959  f000				  -	      sta	eeprombuffer+1
    960  f000				  -	      lda	hsdifficulty
    961  f000				  -	      sta	eeprombuffer+2
    962  f000				  -	      lda	#32
    963  f000				  -	      jsr	AVoxWriteBytes
    964  f000				  -	      rts
    965  f000				  -
    966  f000				  -savedifficultytableHSC
    967  f000				  -			;we always load a table before reaching here, so the
    968  f000				  -			;memory structures from the load should be intact...
    969  f000				  -	      ldy	hsgameslot
    970  f000				  -	      bpl	savealoadedHSCtable
    971  f000				  -	      rts
    972  f000				  -savealoadedHSCtable
    973  f000				  -	      lda	HSCGameDifficulty,y
    974  f000				  -	      cmp	#$7F
    975  f000				  -	      bne	savealoadedHSCtablecontinue
    976  f000				  -	      jsr	initializeHSCtableentry
    977  f000				  -savealoadedHSCtablecontinue
    978  f000				  -			;convert our RAM table to HSC format and write it out...
    979  f000				  -	      ldy	#0
    980  f000				  -	      ldx	#0
    981  f000				  -savedifficultytableScores
    982  f000				  -
    983  f000				  -	      lda	HSRAMInitials,x
    984  f000				  -	      sta	temp3
    985  f000				  -	      lda	HSRAMInitials+1,x
    986  f000				  -	      sta	temp4
    987  f000				  -	      lda	HSRAMInitials+2,x
    988  f000				  -	      sta	temp5
    989  f000				  -	      jsr	encodeHSCInitials	; takes 3 byte initials from temp3,4,5 and stores 2 byte initials in temp1,2
    990  f000				  -
    991  f000				  -	      lda	temp1
    992  f000				  -	      sta	(HSGameTableLo),y
    993  f000				  -	      iny
    994  f000				  -	      lda	temp2
    995  f000				  -	      sta	(HSGameTableLo),y
    996  f000				  -	      iny
    997  f000				  -
    998  f000				  -	      lda	HSRAMScores,x
    999  f000				  -	      sta	(HSGameTableLo),y
   1000  f000				  -	      iny
   1001  f000				  -	      lda	HSRAMScores+1,x
   1002  f000				  -	      sta	(HSGameTableLo),y
   1003  f000				  -	      iny
   1004  f000				  -	      lda	HSRAMScores+2,x
   1005  f000				  -	      sta	(HSGameTableLo),y
   1006  f000				  -	      iny
   1007  f000				  -	      inx
   1008  f000				  -	      inx
   1009  f000				  -	      inx		; +3
   1010  f000				  -	      cpx	#15
   1011  f000				  -	      bne	savedifficultytableScores
   1012  f000				  -	      rts
   1013  f000				  -
   1014  f000				  -loaddifficultytableHSC
   1015  f000				  -			; routine responsible for loading the difficulty table from HSC
   1016  f000				  -	      jsr	findindexHSC
   1017  f000				  -	      ldy	hsgameslot
   1018  f000				  -	      lda	HSCGameDifficulty,y
   1019  f000				  -	      cmp	#$7F
   1020  f000				  -	      bne	loaddifficultytableHSCcontinue
   1021  f000				  -			;there was an error. use a new RAM table instead...
   1022  f000				  -	      jsr	initializeHSCtableentry
   1023  f000				  -	      jmp	cleardifficultytablemem
   1024  f000				  -loaddifficultytableHSCcontinue
   1025  f000				  -			; parse the data into the HS memory...
   1026  f000				  -	      ldy	#0
   1027  f000				  -	      ldx	#0
   1028  f000				  -loaddifficultytableScores
   1029  f000				  -	      lda	(HSGameTableLo),y
   1030  f000				  -	      sta	temp1
   1031  f000				  -	      iny
   1032  f000				  -	      lda	(HSGameTableLo),y
   1033  f000				  -	      sta	temp2
   1034  f000				  -	      jsr	decodeHSCInitials	; takes 2 byte initials from temp1,2 and stores 3 byte initials in temp3,4,5
   1035  f000				  -	      iny
   1036  f000				  -	      lda	(HSGameTableLo),y
   1037  f000				  -	      sta	HSRAMScores,x
   1038  f000				  -	      lda	temp3
   1039  f000				  -	      sta	HSRAMInitials,x
   1040  f000				  -	      inx
   1041  f000				  -	      iny
   1042  f000				  -	      lda	(HSGameTableLo),y
   1043  f000				  -	      sta	HSRAMScores,x
   1044  f000				  -	      lda	temp4
   1045  f000				  -	      sta	HSRAMInitials,x
   1046  f000				  -	      inx
   1047  f000				  -	      iny
   1048  f000				  -	      lda	(HSGameTableLo),y
   1049  f000				  -	      sta	HSRAMScores,x
   1050  f000				  -	      lda	temp5
   1051  f000				  -	      sta	HSRAMInitials,x
   1052  f000				  -	      inx
   1053  f000				  -	      iny
   1054  f000				  -	      cpx	#15
   1055  f000				  -	      bne	loaddifficultytableScores
   1056  f000				  -	      ldx	#14
   1057  f000				  -	      lda	#$ff
   1058  f000				  -validatescoresloop
   1059  f000				  -	      and	HSRAMScores,x
   1060  f000				  -	      dex
   1061  f000				  -	      bpl	validatescoresloop
   1062  f000				  -	      cmp	#$ff
   1063  f000				  -	      bne	exitloaddifficultytableScores
   1064  f000				  -	      jmp	cleardifficultytablemem
   1065  f000				  -exitloaddifficultytableScores
   1066  f000				  -	      rts
   1067  f000				  -
   1068  f000				  -decodeHSCInitials
   1069  f000				  -			; takes 2 byte initials from temp1,2 and stores 3 byte initials in temp3,4,5
   1070  f000				  -			; 2 bytes are packed in the form: 22211111 22_33333
   1071  f000				  -	      lda	#0
   1072  f000				  -	      sta	temp4
   1073  f000				  -	      lda	temp1
   1074  f000				  -	      and	#%00011111
   1075  f000				  -	      sta	temp3
   1076  f000				  -
   1077  f000				  -	      lda	temp2
   1078  f000				  -	      and	#%00011111
   1079  f000				  -	      sta	temp5
   1080  f000				  -
   1081  f000				  -	      lda	temp1
   1082  f000				  -	      asl
   1083  f000				  -	      rol	temp4
   1084  f000				  -	      asl
   1085  f000				  -	      rol	temp4
   1086  f000				  -	      asl
   1087  f000				  -	      rol	temp4
   1088  f000				  -	      lda	temp2
   1089  f000				  -	      asl
   1090  f000				  -	      rol	temp4
   1091  f000				  -	      asl
   1092  f000				  -	      rol	temp4
   1093  f000				  -	      rts
   1094  f000				  -encodeHSCInitials
   1095  f000				  -			; takes 3 byte initials from temp3,4,5 and stores 2 byte initials in temp1,2
   1096  f000				  -			; 2 bytes are packed in the form: 22211111 22_33333
   1097  f000				  -			; start with packing temp1...
   1098  f000				  -	      lda	temp4
   1099  f000				  -	      and	#%00011100
   1100  f000				  -	      sta	temp1
   1101  f000				  -	      asl	temp1
   1102  f000				  -	      asl	temp1
   1103  f000				  -	      asl	temp1
   1104  f000				  -	      lda	temp3
   1105  f000				  -	      and	#%00011111
   1106  f000				  -	      ora	temp1
   1107  f000				  -	      sta	temp1
   1108  f000				  -			; ...temp1 is now packed, on to temp2...
   1109  f000				  -	      lda	temp5
   1110  f000				  -	      asl
   1111  f000				  -	      asl
   1112  f000				  -	      ror	temp4
   1113  f000				  -	      ror
   1114  f000				  -	      ror	temp4
   1115  f000				  -	      ror
   1116  f000				  -	      sta	temp2
   1117  f000				  -	      rts
   1118  f000				  -
   1119  f000				  -findindexHSCerror
   1120  f000				  -			;the HSC is stuffed. return the bad slot flag
   1121  f000				  -	      ldy	#$ff
   1122  f000				  -	      sty	hsgameslot
   1123  f000				  -	      rts
   1124  f000				  -
   1125  f000				  -findindexHSC
   1126  f000				  -HSCGameID1 =	$1029
   1127  f000				  -HSCGameID2 =	$106E
   1128  f000				  -HSCGameDifficulty =	$10B3
   1129  f000				  -HSCGameIndex =	$10F8
   1130  f000				  -			; routine responsible for finding the game index from HSC
   1131  f000				  -			; call with x=0 to create a new table if none exist, call with x=$ff to avoid creating new tables
   1132  f000				  -			; the HS loading routine will use x=$ff, the HS saving routine will use x=0
   1133  f000				  -	      ldy	#69	; start +1 to account for the dey
   1134  f000				  -findindexHSCloop
   1135  f000				  -	      dey
   1136  f000				  -	      bmi	findindexHSCerror
   1137  f000				  -	      lda	HSCGameDifficulty,y
   1138  f000				  -	      cmp	#$7F
   1139  f000				  -	      beq	findourindexHSC
   1140  f000				  -	      cmp	gamedifficulty
   1141  f000				  -	      bne	findindexHSCloop
   1142  f000				  -	      lda	HSCGameID1,y
   1143  f000				  -	      cmp	#HSIDHI
   1144  f000				  -	      bne	findindexHSCloop
   1145  f000				  -	      lda	HSCGameID2,y
   1146  f000				  -	      cmp	#HSIDLO
   1147  f000				  -	      bne	findindexHSCloop
   1148  f000				  -findourindexHSC
   1149  f000				  -			; if we're here we found our index in the table
   1150  f000				  -			; or we found the first empty one
   1151  f000				  -	      sty	hsgameslot
   1152  f000				  -	      jsr	setupHSCGamepointer	; setup the pointer to the HS Table for this game...
   1153  f000				  -	      rts
   1154  f000				  -
   1155  f000				  -
   1156  f000				  -initializeHSCtableentry
   1157  f000				  -	      ldy	hsgameslot
   1158  f000				  -			; we need to make a new entry...
   1159  f000				  -	      lda	#HSIDHI
   1160  f000				  -	      sta	HSCGameID1,y
   1161  f000				  -	      lda	#HSIDLO
   1162  f000				  -	      sta	HSCGameID2,y
   1163  f000				  -	      lda	gamedifficulty
   1164  f000				  -	      sta	HSCGameDifficulty,y
   1165  f000				  -	      ldx	#0
   1166  f000				  -fixHSDGameDifficultylistLoop
   1167  f000				  -	      inx
   1168  f000				  -	      txa
   1169  f000				  -	      sta	HSCGameIndex,y
   1170  f000				  -	      iny
   1171  f000				  -	      cpy	#69
   1172  f000				  -	      bne	fixHSDGameDifficultylistLoop
   1173  f000				  -	      rts
   1174  f000				  -
   1175  f000				  -setupHSCGamepointer
   1176  f000				  -			; this routines sets (HSGameTableLo) pointing to the game's HS table
   1177  f000				  -	      lda	#$17
   1178  f000				  -	      sta	HSGameTableHi
   1179  f000				  -	      lda	#$FA
   1180  f000				  -	      sta	HSGameTableLo
   1181  f000				  -setupHSCGamepointerLoop
   1182  f000				  -	      lda	HSGameTableLo
   1183  f000				  -	      sec
   1184  f000				  -	      sbc	#25
   1185  f000				  -	      sta	HSGameTableLo
   1186  f000				  -	      lda	HSGameTableHi
   1187  f000				  -	      sbc	#0
   1188  f000				  -	      sta	HSGameTableHi
   1189  f000				  -	      iny
   1190  f000				  -	      cpy	#69
   1191  f000				  -	      bne	setupHSCGamepointerLoop
   1192  f000				  -	      rts
   1193  f000				  -
   1194  f000				  -loaddifficultytableAVOX
   1195  f000				  -			; routine responsible for loading the difficulty table from Avox
   1196  f000				  -			; we reuse HSC routines to format data to/from our Avox RAM buffer...
   1197  f000				  -	      lda	#>(eeprombuffer+3)
   1198  f000				  -	      sta	HSGameTableHi
   1199  f000				  -	      lda	#<(eeprombuffer+3)
   1200  f000				  -	      sta	HSGameTableLo
   1201  f000				  -
   1202  f000				  -			; the start location in EEPROM, subtract 32...
   1203  f000				  -	      lda	#$5F
   1204  f000				  -	      sta	HSVoxHi
   1205  f000				  -	      lda	#$E0
   1206  f000				  -	      sta	HSVoxLo
   1207  f000				  -	      lda	#0
   1208  f000				  -	      sta	temp1
   1209  f000				  -loaddifficultytableAVOXloop
   1210  f000				  -	      inc	temp1
   1211  f000				  -	      beq	loaddifficultytableAVOXfull
   1212  f000				  -	      clc
   1213  f000				  -	      lda	HSVoxLo
   1214  f000				  -	      adc	#32
   1215  f000				  -	      sta	HSVoxLo
   1216  f000				  -	      lda	HSVoxHi
   1217  f000				  -	      adc	#0
   1218  f000				  -	      sta	HSVoxHi
   1219  f000				  -	      lda	#3
   1220  f000				  -	      jsr	AVoxReadBytes	; read in 3 bytes, ID1,ID2,Difficulty
   1221  f000				  -	      lda	eeprombuffer
   1222  f000				  -	      cmp	#$FF
   1223  f000				  -	      beq	loaddifficultytableAVOXempty
   1224  f000				  -	      cmp	#HSIDHI
   1225  f000				  -	      bne	loaddifficultytableAVOXloop
   1226  f000				  -	      lda	eeprombuffer+1
   1227  f000				  -	      cmp	#HSIDLO
   1228  f000				  -	      bne	loaddifficultytableAVOXloop
   1229  f000				  -	      lda	eeprombuffer+2
   1230  f000				  -	      cmp	gamedifficulty
   1231  f000				  -	      bne	loaddifficultytableAVOXloop
   1232  f000				  -loaddifficultytableAVOXdone
   1233  f000				  -	      lda	#32
   1234  f000				  -	      jsr	AVoxReadBytes
   1235  f000				  -	      jsr	loaddifficultytableHSCcontinue
   1236  f000				  -	      rts
   1237  f000				  -loaddifficultytableAVOXfull
   1238  f000				  -	      lda	#0
   1239  f000				  -	      sta	hsdevice	; looks like all 255 entries are taken... disable it.
   1240  f000				  -loaddifficultytableAVOXempty
   1241  f000				  -	      jmp	cleardifficultytablemem
   1242  f000				  -	      rts
   1243  f000				  -
   1244  f000				  -cleardifficultytablemem
   1245  f000				  -	      ldy	#29
   1246  f000				  -	      lda	#0
   1247  f000				  -cleardifficultytablememloop
   1248  f000				  -	      sta	HSRAMTable,y
   1249  f000				  -	      dey
   1250  f000				  -	      bpl	cleardifficultytablememloop
   1251  f000				  -	      rts
   1252  f000				  -hiscoremoduleend
   1253  f000				  -
   1254  f000				  -hiscorecleardlmem
   1255  f000				  -	      ldx	#(WZONECOUNT-1)
   1256  f000				  -hiscorecleardlmemloop1
   1257  f000				  -	      lda	DLPOINTL,x
   1258  f000				  -	      sta	dlpnt
   1259  f000				  -	      lda	DLPOINTH,x
   1260  f000				  -	      sta	dlpnt+1
   1261  f000				  -	      lda	#0
   1262  f000				  -	      ldy	#17
   1263  f000				  -hiscorecleardlmemloop2
   1264  f000				  -	      sta	(dlpnt),y
   1265  f000				  -	      dey
   1266  f000				  -	      bpl	hiscorecleardlmemloop2
   1267  f000				  -	      dex
   1268  f000				  -	      bpl	hiscorecleardlmemloop1
   1269  f000				  -	      rts
   1270  f000				  -
   1271  f000				  -	      ifconst	DOUBLEWIDE
   1272  f000				  -plotvaluedw
   1273  f000				  -plotdigitcount =	temp6
   1274  f000				  -	      lda	#0
   1275  f000				  -	      tay
   1276  f000				  -	      ldx	valbufend
   1277  f000				  -
   1278  f000				  -	      lda	plotdigitcount
   1279  f000				  -	      and	#1
   1280  f000				  -	      beq	pvnibble2chardw
   1281  f000				  -	      lda	#0
   1282  f000				  -	      sta	VALBUFFER,x	; just in case we skip this digit
   1283  f000				  -	      beq	pvnibble2char_skipnibbledw
   1284  f000				  -
   1285  f000				  -pvnibble2chardw
   1286  f000				  -			; high nibble...
   1287  f000				  -	      lda	(temp7),y
   1288  f000				  -	      and	#$f0
   1289  f000				  -	      lsr
   1290  f000				  -	      lsr
   1291  f000				  -	      lsr
   1292  f000				  -	      lsr
   1293  f000				  -
   1294  f000				  -	      clc
   1295  f000				  -	      adc	temp1	; add the offset to character graphics to our value
   1296  f000				  -	      sta	VALBUFFER,x
   1297  f000				  -	      inx
   1298  f000				  -	      dec	plotdigitcount
   1299  f000				  -pvnibble2char_skipnibbledw
   1300  f000				  -			; low nibble...
   1301  f000				  -	      lda	(temp7),y
   1302  f000				  -	      and	#$0f
   1303  f000				  -	      clc
   1304  f000				  -	      adc	temp1	; add the offset to character graphics to our value
   1305  f000				  -	      sta	VALBUFFER,x
   1306  f000				  -	      inx
   1307  f000				  -	      iny
   1308  f000				  -
   1309  f000				  -	      dec	plotdigitcount
   1310  f000				  -	      bne	pvnibble2chardw
   1311  f000				  -			;point to the start of our valuebuffer
   1312  f000				  -	      clc
   1313  f000				  -	      lda	#<VALBUFFER
   1314  f000				  -	      adc	valbufend
   1315  f000				  -	      sta	temp1
   1316  f000				  -	      lda	#>VALBUFFER
   1317  f000				  -	      adc	#0
   1318  f000				  -	      sta	temp2
   1319  f000				  -
   1320  f000				  -			;advance valbufend to the end of our value buffer
   1321  f000				  -	      stx	valbufend
   1322  f000				  -
   1323  f000				  -	      ifnconst	plotvalueonscreen
   1324  f000				  -	      jmp	plotcharacters
   1325  f000				  -	      else
   1326  f000				  -	      jmp	plotcharacterslive
   1327  f000				  -	      endif
   1328  f000				  -	      endif		; DOUBLEWIDE
   1329  f000				  -
   1330  f000				  -hiscoreend
   1331  f000				  -	      echo	" (hiscore module is using ",[(hiscoreend-hiscorestart)]d," bytes)"
   1332  f000				  -	      endif		; !isBANKSETBANK
   1333  f000					      endif		; HSSUPPORT
   1334  f000
------- FILE rpmegafighter.bas.asm
   7388  f000					      endif
   7389  f000					      ifnconst	included.fourbitfade.asm
------- FILE fourbitfade.asm LEVEL 2 PASS 3
      0  f000					      include	fourbitfade.asm
      1  f000							; ** fourbit fade, which is useful for audio levels and brightness fades
      2  f000							; ** input:  A=value to fade, fourbitfadevalue=global fade value
      3  f000							; **	      N.B. the global fade value is in the upper nibble. i.e. $Fx-0x
      4  f000							; ** output: A=faded value in lo nibble. orig top nibble is preserved,
      5  f000							; **	      other registers are preserved
      6  f000
      7  f000				  -	      ifconst	FOURBITFADE
      8  f000				  -
      9  f000				  -			; non-interrupt routine
     10  f000				  -
     11  f000				  -fourbitfade
     12  f000				  -	      sty	fourbittemp1
     13  f000				  -	      pha
     14  f000				  -	      and	#$0F
     15  f000				  -	      ora	fourbitfadevalue
     16  f000				  -	      tay
     17  f000				  -	      pla
     18  f000				  -	      and	#$F0
     19  f000				  -	      ora	fourbitfadelut,y
     20  f000				  -	      ldy	fourbittemp1	; restore Y
     21  f000				  -	      rts
     22  f000				  -
     23  f000				  -			; interrupt routine
     24  f000				  -
     25  f000				  -fourbitfadeint
     26  f000				  -	      sty	fourbittemp1int
     27  f000				  -	      pha
     28  f000				  -	      and	#$0F
     29  f000				  -	      ora	fourbitfadevalueint
     30  f000				  -	      tay
     31  f000				  -	      pla
     32  f000				  -	      and	#$F0
     33  f000				  -	      ora	fourbitfadelut,y
     34  f000				  -	      ldy	fourbittemp1int	; restore Y
     35  f000				  -	      rts
     36  f000				  -
     37  f000				  -fourbitfadelut
     38  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
     39  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
     40  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02
     41  f000				  -	      .byte	$00,$00,$00,$00,$01,$01,$01,$01,$02,$02,$02,$02,$03,$03,$03,$03
     42  f000				  -	      .byte	$00,$00,$00,$00,$01,$01,$01,$02,$02,$02,$03,$03,$03,$04,$04,$04
     43  f000				  -	      .byte	$00,$00,$00,$01,$01,$01,$02,$02,$03,$03,$03,$04,$04,$04,$05,$05
     44  f000				  -	      .byte	$00,$00,$00,$01,$01,$02,$02,$03,$03,$03,$04,$04,$05,$05,$06,$06
     45  f000				  -	      .byte	$00,$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07
     46  f000				  -	      .byte	$00,$00,$01,$01,$02,$02,$03,$03,$04,$05,$05,$06,$06,$07,$07,$08
     47  f000				  -	      .byte	$00,$00,$01,$01,$02,$03,$03,$04,$05,$05,$06,$06,$07,$08,$08,$09
     48  f000				  -	      .byte	$00,$00,$01,$02,$02,$03,$04,$04,$05,$06,$06,$07,$08,$08,$09,$0a
     49  f000				  -	      .byte	$00,$00,$01,$02,$03,$03,$04,$05,$06,$06,$07,$08,$09,$09,$0a,$0b
     50  f000				  -	      .byte	$00,$00,$01,$02,$03,$04,$04,$05,$06,$07,$08,$08,$09,$0a,$0b,$0c
     51  f000				  -	      .byte	$00,$00,$01,$02,$03,$04,$05,$06,$07,$07,$08,$09,$0a,$0b,$0c,$0d
     52  f000				  -	      .byte	$00,$00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0a,$0b,$0c,$0d,$0e
     53  f000				  -	      .byte	$00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0a,$0b,$0c,$0d,$0e,$0f
     54  f000				  -
     55  f000				  -fourbitfadeend
     56  f000				  -
     57  f000				  -	      echo	"  (fourbitfade module is using ",[(fourbitfadeend-fourbitfade)]d," bytes of rom)"
     58  f000				  -
     59  f000					      endif
------- FILE rpmegafighter.bas.asm
   7391  f000					      endif
   7392  f000					      ifnconst	included.plotsprite4.asm
------- FILE plotsprite4.asm LEVEL 2 PASS 3
      0  f000					      include	plotsprite4.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000				  -	      ifconst	PLOTSP4
      4  f000				  -
      5  f000				  -plotsprite4
      6  f000				  -	      ifnconst	NODRAWWAIT
      7  f000				  -	      ifconst	DOUBLEBUFFER
      8  f000				  -	      lda	doublebufferstate
      9  f000				  -	      bne	skipplotsprite4wait
     10  f000				  -	      endif		; DOUBLEBUFFER
     11  f000				  -	      ifconst	DEBUGWAITCOLOR
     12  f000				  -	      lda	#$41
     13  f000				  -	      sta	BACKGRND
     14  f000				  -	      endif
     15  f000				  -plotsprite4wait
     16  f000				  -	      lda	visibleover
     17  f000				  -	      bne	plotsprite4wait
     18  f000				  -skipplotsprite4wait
     19  f000				  -	      ifconst	DEBUGWAITCOLOR
     20  f000				  -	      lda	#$0
     21  f000				  -	      sta	BACKGRND
     22  f000				  -	      endif
     23  f000				  -	      endif
     24  f000				  -
     25  f000				  -			;arguments:
     26  f000				  -			; temp1=lo graphicdata
     27  f000				  -			; temp2=hi graphicdata
     28  f000				  -			; temp3=palette | width byte
     29  f000				  -			; temp4=x
     30  f000				  -			; temp5=y
     31  f000				  -
     32  f000				  -	      lda	temp5	;Y position
     33  f000				  -	      lsr		; 2 - Divide by 8 or 16
     34  f000				  -	      lsr		; 2
     35  f000				  -	      lsr		; 2
     36  f000				  -	      if	WZONEHEIGHT = 16
     37  f000				  -	      lsr		; 2
     38  f000				  -	      endif
     39  f000				  -
     40  f000				  -	      tax
     41  f000				  -
     42  f000				  -	      ifnconst	NOLIMITCHECKING
     43  f000				  -
     44  f000				  -			; the next block allows for vertical masking, and ensures we don't overwrite non-DL memory
     45  f000				  -
     46  f000				  -	      cmp	#WZONECOUNT
     47  f000				  -
     48  f000				  -	      bcc	continueplotsprite41	; the sprite is fully on-screen, so carry on...
     49  f000				  -			; otherwise, check to see if the bottom half is in zone 0...
     50  f000				  -
     51  f000				  -	      if	WZONEHEIGHT = 16
     52  f000				  -	      cmp	#15
     53  f000				  -	      else
     54  f000				  -	      cmp	#31
     55  f000				  -	      endif
     56  f000				  -
     57  f000				  -	      bne	exitplotsprite41
     58  f000				  -	      ldx	#0
     59  f000				  -	      jmp	continueplotsprite42
     60  f000				  -exitplotsprite41
     61  f000				  -	      rts
     62  f000				  -	      endif
     63  f000				  -
     64  f000				  -continueplotsprite41
     65  f000				  -
     66  f000				  -	      ifconst	VSCROLL
     67  f000				  -	      ldy	Xx3,x
     68  f000				  -	      lda	DLLMEM+11,y
     69  f000				  -	      else		; !VSCROLL
     70  f000				  -	      lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
     71  f000				  -	      endif		; !VSCROLL
     72  f000				  -	      ifconst	DOUBLEBUFFER
     73  f000				  -	      clc
     74  f000				  -	      adc	doublebufferdloffset
     75  f000				  -	      endif		; DOUBLEBUFFER
     76  f000				  -	      sta	dlpnt
     77  f000				  -	      ifconst	VSCROLL
     78  f000				  -	      lda	DLLMEM+10,y
     79  f000				  -	      else		; !VSCROLL
     80  f000				  -	      lda	DLPOINTH,x
     81  f000				  -	      endif		; !VSCROLL
     82  f000				  -	      ifconst	DOUBLEBUFFER
     83  f000				  -	      adc	#0
     84  f000				  -	      endif		; DOUBLEBUFFER
     85  f000				  -	      sta	dlpnt+1
     86  f000				  -
     87  f000				  -			;Create DL entry for upper part of sprite
     88  f000				  -
     89  f000				  -	      ldy	dlend,x	;Get the index to the end of this DL
     90  f000				  -
     91  f000				  -	      ifconst	CHECKOVERWRITE
     92  f000				  -	      cpy	#DLLASTOBJ
     93  f000				  -	      beq	checkcontinueplotsprite42
     94  f000				  -continueplotsprite41a
     95  f000				  -	      endif
     96  f000				  -
     97  f000				  -	      lda	temp1	; graphic data, lo byte
     98  f000				  -	      sta	(dlpnt),y	;Low byte of data address
     99  f000				  -
    100  f000				  -	      iny
    101  f000				  -	      lda	temp3	;palette|width
    102  f000				  -	      sta	(dlpnt),y
    103  f000				  -
    104  f000				  -	      iny
    105  f000				  -	      lda	temp5	;Y position
    106  f000				  -	      and	#(WZONEHEIGHT - 1)
    107  f000				  -	      cmp	#1	; clear carry if our sprite is just in this zone
    108  f000				  -	      ora	temp2	; graphic data, hi byte
    109  f000				  -	      sta	(dlpnt),y
    110  f000				  -
    111  f000				  -	      iny
    112  f000				  -	      lda	temp4	;Horizontal position
    113  f000				  -	      sta	(dlpnt),y
    114  f000				  -
    115  f000				  -	      iny
    116  f000				  -	      sty	dlend,x
    117  f000				  -
    118  f000				  -	      ifconst	ALWAYSTERMINATE
    119  f000				  -	      iny
    120  f000				  -	      lda	#0
    121  f000				  -	      sta	(dlpnt),y
    122  f000				  -	      endif
    123  f000				  -
    124  f000				  -checkcontinueplotsprite42
    125  f000				  -
    126  f000				  -	      bcc	doneSPDL4	;branch if the sprite was fully in the last zone
    127  f000				  -
    128  f000				  -			;Create DL entry for lower part of sprite
    129  f000				  -
    130  f000				  -	      inx		;Next region
    131  f000				  -
    132  f000				  -	      ifnconst	NOLIMITCHECKING
    133  f000				  -	      cpx	#WZONECOUNT
    134  f000				  -
    135  f000				  -	      bcc	continueplotsprite42	; the second half of the sprite is fully on-screen, so carry on...
    136  f000				  -	      rts
    137  f000				  -continueplotsprite42
    138  f000				  -	      endif
    139  f000				  -
    140  f000				  -	      ifconst	VSCROLL
    141  f000				  -	      ldy	Xx3,x
    142  f000				  -	      lda	DLLMEM+11,y
    143  f000				  -	      else		; !VSCROLL
    144  f000				  -	      lda	DLPOINTL,x	;Get pointer to next DL
    145  f000				  -	      endif		; !VSCROLL
    146  f000				  -	      ifconst	DOUBLEBUFFER
    147  f000				  -	      clc
    148  f000				  -	      adc	doublebufferdloffset
    149  f000				  -	      endif		; DOUBLEBUFFER
    150  f000				  -	      sta	dlpnt
    151  f000				  -	      ifconst	VSCROLL
    152  f000				  -	      lda	DLLMEM+10,y
    153  f000				  -	      else		; !VSCROLL
    154  f000				  -	      lda	DLPOINTH,x
    155  f000				  -	      endif		; !VSCROLL
    156  f000				  -	      ifconst	DOUBLEBUFFER
    157  f000				  -	      adc	#0
    158  f000				  -	      endif		; DOUBLEBUFFER
    159  f000				  -	      sta	dlpnt+1
    160  f000				  -	      ldy	dlend,x	;Get the index to the end of this DL
    161  f000				  -
    162  f000				  -	      ifconst	CHECKOVERWRITE
    163  f000				  -	      cpy	#DLLASTOBJ
    164  f000				  -	      bne	continueplotsprite42a
    165  f000				  -	      rts
    166  f000				  -continueplotsprite42a
    167  f000				  -	      endif
    168  f000				  -
    169  f000				  -	      lda	temp1	; graphic data, lo byte
    170  f000				  -	      sta	(dlpnt),y
    171  f000				  -
    172  f000				  -	      iny
    173  f000				  -	      lda	temp3	;palette|width
    174  f000				  -	      sta	(dlpnt),y
    175  f000				  -
    176  f000				  -	      iny
    177  f000				  -	      lda	temp5	;Y position
    178  f000				  -	      anc	#(WZONEHEIGHT - 1)	; undocumented. A=A&IMM, then move bit 7 into carry
    179  f000				  -	      ora	temp2	; graphic data, hi byte
    180  f000				  -	      sbc	#(WZONEHEIGHT-1)	; start at the DMA hole. -1 because carry is clear
    181  f000				  -	      sta	(dlpnt),y
    182  f000				  -
    183  f000				  -	      iny
    184  f000				  -	      lda	temp4	;Horizontal position
    185  f000				  -	      sta	(dlpnt),y
    186  f000				  -
    187  f000				  -	      iny
    188  f000				  -	      sty	dlend,x
    189  f000				  -
    190  f000				  -	      ifconst	ALWAYSTERMINATE
    191  f000				  -	      iny
    192  f000				  -	      lda	#0
    193  f000				  -	      sta	(dlpnt),y
    194  f000				  -	      endif
    195  f000				  -
    196  f000				  -doneSPDL4
    197  f000				  -	      rts
    198  f000				  -
    199  f000					      endif		; PLOTSP4
------- FILE rpmegafighter.bas.asm
   7394  f000					      endif
   7395  f000					      ifnconst	included.lzsa1compression.asm
------- FILE lzsa1compression.asm LEVEL 2 PASS 3
      0  f000					      include	lzsa1compression.asm
      1  f000							; ***************************************************************************
      2  f000							; ***************************************************************************
      3  f000							;
      4  f000							; lzsa1_6502.s
      5  f000							;
      6  f000							; NMOS 6502 decompressor for data stored in Emmanuel Marty's LZSA1 format.
      7  f000							;
      8  f000							; Decompresses a raw LZSA1 block, created with the command-line lzsa utility:
      9  f000							;     lzsa -r <original_file> <compressed_file>
     10  f000							;
     11  f000							; in:
     12  f000							; * LZSA_SRC_LO and LZSA_SRC_HI contain the compressed raw block address
     13  f000							; * LZSA_DST_LO and LZSA_DST_HI contain the destination buffer address
     14  f000							;
     15  f000							; out:
     16  f000							; * the destination buffer will contain the decompressed data
     17  f000							; * LZSA_DST_LO and LZSA_DST_HI contain the last decompressed byte address +1
     18  f000							;
     19  f000							; ***************************************************************************
     20  f000							;
     21  f000							; This code is written for the ACME assembler.
     22  f000							;
     23  f000							; The code is 165 bytes for the small version, and 191 bytes for the normal.
     24  f000							;
     25  f000							; Copyright John Brandwood 2021.
     26  f000							;
     27  f000							; Changes intruduced by Mike Saarna, 2023:
     28  f000							;    -converted to DASM format.
     29  f000							;    -generalised memory locations, for easier incorporation into 7800basic
     30  f000							;    -removed self-modifying code, for execution from rom.
     31  f000							;    -added LZSAFASTCOPYBYTE optimisation ; +24 bytes rom, ~10% quicker
     32  f000							;
     33  f000							; get the original unmodified code from:
     34  f000							; https://raw.githubusercontent.com/emmanuel-marty/lzsa
     35  f000							;
     36  f000							; Distributed under the Boost Software License, Version 1.0.
     37  f000							; (See accompanying file LICENSE_1_0.txt or copy at
     38  f000							; http://www.boost.org/LICENSE_1_0.txt)
     39  f000							;
     40  f000							; ***************************************************************************
     41  f000							; ***************************************************************************
     42  f000
     43  f000
     44  f000
     45  f000							; ***************************************************************************
     46  f000							; ***************************************************************************
     47  f000							;
     48  f000							; Decompression Options & Macros
     49  f000							;
     50  f000
     51  f000							;
     52  f000							; Choose size over decompression speed (within sane limits)?
     53  f000							;
     54  f000
     55  f000		       00 00	   LZSA_SMALL_SIZE =	0
     56  f000		       00 01	   LZSAFASTCOPYBYTE =	1	; +24 bytes rom, ~10% quicker
     57  f000
     58  f000							; ***************************************************************************
     59  f000							; ***************************************************************************
     60  f000							;
     61  f000							; ZP memory allocations... (temp1-temp9 are 7800basic ZP locations)
     62  f000		       00 42	   LSZA1ZPRAM =	temp1
     63  f000		       00 42	   lzsa_winptr =	LSZA1ZPRAM	; 1 word (temp1+temp2)
     64  f000		       00 44	   lzsa_srcptr =	LSZA1ZPRAM + 2	; 1 word (temp3+temp4)
     65  f000		       00 46	   lzsa_dstptr =	LSZA1ZPRAM + 4	; 1 word (temp5+temp6)
     66  f000
     67  f000							; Doesn't need to be ZP allocations...
     68  f000		       00 48	   LSZA1TEMPRAM =	temp7
     69  f000		       00 48	   lzsa_cmdbuf =	LSZA1TEMPRAM	; 1 byte (temp7)
     70  f000		       00 49	   lzsa_cp_npages =	LSZA1TEMPRAM + 1	; 1 byte (temp8)
     71  f000		       00 4a	   lzsa_lz_npages =	LSZA1TEMPRAM + 2	; 1 byte (temp9)
     72  f000
     73  f000							; Alternate names for previous allocations...
     74  f000		       00 42	   lzsa_offset =	lzsa_winptr
     75  f000		       00 44	   LZSA_SRC_LO =	lzsa_srcptr
     76  f000		       00 45	   LZSA_SRC_HI =	lzsa_srcptr+1
     77  f000		       00 46	   LZSA_DST_LO =	lzsa_dstptr
     78  f000		       00 47	   LZSA_DST_HI =	lzsa_dstptr+1
     79  f000
     80  f000				  -	      ifconst	lzsa1support
     81  f000				  -
     82  f000				  -lzsa1modulestart
     83  f000				  -
     84  f000				  -	      if	LZSAFASTCOPYBYTE = 1
     85  f000				  -.cp_fixpointer
     86  f000				  -			; the optimised pointer adjustment fails if .cp_byte copied a whole page.
     87  f000				  -			; so we deal with it as a special case here, out of the regular .cp_byte flow.
     88  f000				  -			; this only happens rarely.
     89  f000				  -	      inc	lzsa_srcptr+1	; CC
     90  f000				  -	      inc	lzsa_dstptr+1
     91  f000				  -	      bcc	.cp_skip3	; always taken
     92  f000				  -			; each of these happen infrequently (~1 in 256 byte copies)
     93  f000				  -.cp_fixsrc1
     94  f000				  -	      inc	lzsa_srcptr+1
     95  f000				  -	      clc
     96  f000				  -	      bcc	.cp_skip1
     97  f000				  -.cp_fixsrc2
     98  f000				  -	      inc	lzsa_dstptr+1
     99  f000				  -	      clc
    100  f000				  -	      bcc	.cp_skip2
    101  f000				  -	      endif
    102  f000				  -
    103  f000				  -			; ***************************************************************************
    104  f000				  -			; ***************************************************************************
    105  f000				  -			;
    106  f000				  -			; lzsa1_unpack - Decompress data stored in Emmanuel Marty's LZSA1 format.
    107  f000				  -			;
    108  f000				  -			; Args: lzsa_srcptr = ptr to compessed data
    109  f000				  -			; Args: lzsa_dstptr = ptr to output buffer
    110  f000				  -			;
    111  f000				  -
    112  f000				  -
    113  f000				  -DECOMPRESS_LZSA1_FAST
    114  f000				  -lzsa1_unpack
    115  f000				  -	      ldy	#0	; Initialize source index.
    116  f000				  -	      ldx	#0	; Initialize hi-byte of length.
    117  f000				  -	      stx	lzsa_cp_npages
    118  f000				  -	      stx	lzsa_lz_npages
    119  f000				  -
    120  f000				  -			;
    121  f000				  -			; Copy bytes from compressed source data.
    122  f000				  -			;
    123  f000				  -			; N.B. X=0 is expected and guaranteed when we get here.
    124  f000				  -			;
    125  f000				  -
    126  f000				  -.cp_length
    127  f000				  -	      if	LZSA_SMALL_SIZE = 1
    128  f000				  -
    129  f000				  -	      jsr	.get_byte
    130  f000				  -
    131  f000				  -	      else		; !LZSA_SMALL_SIZE
    132  f000				  -
    133  f000				  -	      lda	(lzsa_srcptr),y
    134  f000				  -	      inc	lzsa_srcptr+0
    135  f000				  -	      bne	.cp_skip0
    136  f000				  -	      inc	lzsa_srcptr+1
    137  f000				  -
    138  f000				  -	      endif		; !LZSA_SMALL_SIZE
    139  f000				  -
    140  f000				  -.cp_skip0
    141  f000				  -	      sta	lzsa_cmdbuf	; Preserve this for later.
    142  f000				  -	      and	#$70	; Extract literal length.
    143  f000				  -	      lsr		; Set CC before ...
    144  f000				  -	      beq	.lz_offset	; Skip directly to match?
    145  f000				  -
    146  f000				  -	      lsr		; Get 3-bit literal length.
    147  f000				  -	      lsr
    148  f000				  -	      lsr
    149  f000				  -	      cmp	#$07	; Extended length?
    150  f000				  -	      bcc	.cp_got_len
    151  f000				  -
    152  f000				  -	      jsr	.get_length	; X=0, CS from CMP, returns CC.
    153  f000				  -	      stx	lzsa_cp_npages	; Hi-byte of length.
    154  f000				  -
    155  f000				  -.cp_got_len
    156  f000				  -	      tax		; Lo-byte of length.
    157  f000				  -
    158  f000				  -	      if	LZSAFASTCOPYBYTE = 0
    159  f000				  -
    160  f000				  -.cp_byte		; CC throughout the execution of this .cp_page loop.
    161  f000				  -	      lda	(lzsa_srcptr),y	; 5
    162  f000				  -	      sta	(lzsa_dstptr),y	; 5
    163  f000				  -	      inc	lzsa_srcptr+0	; 5
    164  f000				  -	      bne	.cp_skip1	; 3
    165  f000				  -	      inc	lzsa_srcptr+1
    166  f000				  -.cp_skip1
    167  f000				  -	      inc	lzsa_dstptr+0	; 5
    168  f000				  -	      bne	.cp_skip2	; 3
    169  f000				  -	      inc	lzsa_dstptr+1
    170  f000				  -.cp_skip2
    171  f000				  -	      dex		; 2
    172  f000				  -	      bne	.cp_byte	; 3
    173  f000				  -			;  ~29 cycles overall for X=1
    174  f000				  -			;  ~58 cycles overall for X=2
    175  f000				  -			;  ~87 cycles overall for X=3
    176  f000				  -			; ...
    177  f000				  -			; ~174 cycles overall for X=6
    178  f000				  -
    179  f000				  -	      else		; LZSAFASTCOPYBYTE != 0
    180  f000				  -
    181  f000				  -			; according to 7800heat, this loop is hot. It runs on average ~6x.
    182  f000				  -
    183  f000				  -.cp_byte		; CC throughout the execution of this .cp_page loop.
    184  f000				  -	      lda	(lzsa_srcptr),y	; 5+
    185  f000				  -	      sta	(lzsa_dstptr),y	; 5+
    186  f000				  -	      iny		; 2
    187  f000				  -	      dex		; 2
    188  f000				  -	      bne	.cp_byte	; 3/2
    189  f000				  -			; ~17 cycles each iteration
    190  f000				  -	      tya		; 2
    191  f000				  -	      beq	.cp_fixpointer	; 2 unlikely branch - only if we copied a full page
    192  f000				  -	      adc	lzsa_srcptr+0	; 3
    193  f000				  -	      sta	lzsa_srcptr+0	; 3
    194  f000				  -	      bcs	.cp_fixsrc1	; 2 (typical)
    195  f000				  -.cp_skip1
    196  f000				  -	      tya		; 2
    197  f000				  -	      adc	lzsa_dstptr+0	; 3
    198  f000				  -	      sta	lzsa_dstptr+0	; 3
    199  f000				  -	      bcs	.cp_fixsrc2	; 2 (typical)
    200  f000				  -.cp_skip2
    201  f000				  -	      ldy	#0	; 2
    202  f000				  -.cp_skip3
    203  f000				  -			; ~24 cycles overhead, typical
    204  f000				  -
    205  f000				  -			; ~41	cycles for X=1 (+12  cycles vs non-optimized)
    206  f000				  -			; ~58	cycles for X=2 (  0  cycles vs non-optimized)
    207  f000				  -			; ~75	cycles for X=3 (-12  cycles vs non-optimized)
    208  f000				  -			; ...
    209  f000				  -			; ~126 cycles for X=6 (-48  cycles vs non-optimized)
    210  f000				  -	      endif		; ! LZSAFASTCOPYBYTE = 0
    211  f000				  -
    212  f000				  -.cp_npages
    213  f000				  -	      lda	lzsa_cp_npages	; Any full pages left to copy?
    214  f000				  -	      beq	.lz_offset
    215  f000				  -
    216  f000				  -	      dec	lzsa_cp_npages	; Unlikely, so can be slow.
    217  f000				  -	      bcc	.cp_byte	; Always true!
    218  f000				  -
    219  f000				  -	      if	LZSA_SMALL_SIZE = 1
    220  f000				  -
    221  f000				  -			; Copy bytes from decompressed window.
    222  f000				  -			;
    223  f000				  -			; Shorter but slower version.
    224  f000				  -			;
    225  f000				  -			; N.B. X=0 is expected and guaranteed when we get here.
    226  f000				  -			;
    227  f000				  -
    228  f000				  -.lz_offset
    229  f000				  -	      jsr	.get_byte	; Get offset-lo.
    230  f000				  -
    231  f000				  -.offset_lo
    232  f000				  -	      adc	lzsa_dstptr+0	; Always CC from .cp_page loop.
    233  f000				  -	      sta	lzsa_winptr+0
    234  f000				  -
    235  f000				  -	      lda	#$FF
    236  f000				  -	      bit	lzsa_cmdbuf
    237  f000				  -	      bpl	.offset_hi
    238  f000				  -
    239  f000				  -	      jsr	.get_byte	; Get offset-hi.
    240  f000				  -
    241  f000				  -.offset_hi
    242  f000				  -	      adc	lzsa_dstptr+1	; lzsa_winptr < lzsa_dstptr, so
    243  f000				  -	      sta	lzsa_winptr+1	; always leaves CS.
    244  f000				  -
    245  f000				  -.lz_length
    246  f000				  -	      lda	lzsa_cmdbuf	; X=0 from previous loop.
    247  f000				  -	      and	#$0F
    248  f000				  -	      adc	#$03 - 1	; CS from previous ADC.
    249  f000				  -	      cmp	#$12	; Extended length?
    250  f000				  -	      bcc	.lz_got_len
    251  f000				  -
    252  f000				  -	      jsr	.get_length	; CS from CMP, X=0, returns CC.
    253  f000				  -	      stx	lzsa_lz_npages	; Hi-byte of length.
    254  f000				  -
    255  f000				  -.lz_got_len
    256  f000				  -	      tax		; Lo-byte of length.
    257  f000				  -
    258  f000				  -.lz_byte
    259  f000				  -	      lda	(lzsa_winptr),y	; CC throughout the execution of
    260  f000				  -	      sta	(lzsa_dstptr),y	; of this .lz_page loop.
    261  f000				  -	      inc	lzsa_winptr+0
    262  f000				  -	      bne	.lz_skip1
    263  f000				  -	      inc	lzsa_winptr+1
    264  f000				  -.lz_skip1
    265  f000				  -	      inc	lzsa_dstptr+0
    266  f000				  -	      bne	.lz_skip2
    267  f000				  -	      inc	lzsa_dstptr+1
    268  f000				  -.lz_skip2
    269  f000				  -	      dex
    270  f000				  -	      bne	.lz_byte
    271  f000				  -.lz_npages
    272  f000				  -	      lda	lzsa_lz_npages	; Any full pages left to copy?
    273  f000				  -	      beq	.cp_length
    274  f000				  -
    275  f000				  -	      dec	lzsa_lz_npages	; Unlikely, so can be slow.
    276  f000				  -	      bcc	.lz_byte	; Always true!
    277  f000				  -
    278  f000				  -	      else		; !LZSA_SMALL_SIZE
    279  f000				  -
    280  f000				  -			;
    281  f000				  -			; Copy bytes from decompressed window.
    282  f000				  -			;
    283  f000				  -			; Longer but faster.
    284  f000				  -			;
    285  f000				  -			; N.B. X=0 is expected and guaranteed when we get here.
    286  f000				  -			;
    287  f000				  -
    288  f000				  -.lz_offset
    289  f000				  -	      lda	(lzsa_srcptr),y	; Get offset-lo.
    290  f000				  -	      inc	lzsa_srcptr+0
    291  f000				  -	      bne	.offset_lo
    292  f000				  -	      inc	lzsa_srcptr+1
    293  f000				  -
    294  f000				  -.offset_lo
    295  f000				  -	      sta	lzsa_offset+0
    296  f000				  -
    297  f000				  -	      lda	#$FF	; Get offset-hi.
    298  f000				  -	      bit	lzsa_cmdbuf
    299  f000				  -	      bpl	.offset_hi
    300  f000				  -
    301  f000				  -	      lda	(lzsa_srcptr),y
    302  f000				  -	      inc	lzsa_srcptr+0
    303  f000				  -	      bne	.offset_hi
    304  f000				  -	      inc	lzsa_srcptr+1
    305  f000				  -
    306  f000				  -.offset_hi
    307  f000				  -	      sta	lzsa_offset+1
    308  f000				  -
    309  f000				  -.lz_length
    310  f000				  -	      lda	lzsa_cmdbuf	; X=0 from previous loop.
    311  f000				  -	      and	#$0F
    312  f000				  -	      adc	#$03	; Always CC from .cp_page loop.
    313  f000				  -	      cmp	#$12	; Extended length?
    314  f000				  -	      bcc	.got_lz_len
    315  f000				  -
    316  f000				  -	      jsr	.get_length	; X=0, CS from CMP, returns CC.
    317  f000				  -
    318  f000				  -.got_lz_len
    319  f000				  -	      inx		; Hi-byte of length+256.
    320  f000				  -
    321  f000				  -	      eor	#$FF	; Negate the lo-byte of length
    322  f000				  -	      tay
    323  f000				  -	      eor	#$FF
    324  f000				  -
    325  f000				  -.get_lz_dst
    326  f000				  -	      adc	lzsa_dstptr+0	; Calc address of partial page.
    327  f000				  -	      sta	lzsa_dstptr+0	; Always CC from previous CMP.
    328  f000				  -	      iny
    329  f000				  -	      bcs	.get_lz_win
    330  f000				  -	      beq	.get_lz_win	; Is lo-byte of length zero?
    331  f000				  -	      dec	lzsa_dstptr+1
    332  f000				  -
    333  f000				  -.get_lz_win
    334  f000				  -	      clc		; Calc address of match.
    335  f000				  -	      adc	lzsa_offset+0	; N.B. Offset is negative!
    336  f000				  -	      sta	lzsa_winptr+0
    337  f000				  -	      lda	lzsa_dstptr+1
    338  f000				  -	      adc	lzsa_offset+1
    339  f000				  -	      sta	lzsa_winptr+1
    340  f000				  -
    341  f000				  -			; according to 7800heat, this loop is hot. It runs on average ~7.5x.
    342  f000				  -			; TODO: see if there's a chance to unroll it.
    343  f000				  -.lz_byte
    344  f000				  -	      lda	(lzsa_winptr),y
    345  f000				  -	      sta	(lzsa_dstptr),y
    346  f000				  -	      iny
    347  f000				  -	      bne	.lz_byte
    348  f000				  -
    349  f000				  -	      inc	lzsa_dstptr+1
    350  f000				  -	      dex		; Any full pages left to copy?
    351  f000				  -	      bne	.lz_more
    352  f000				  -
    353  f000				  -	      jmp	.cp_length	; Loop around to the beginning.
    354  f000				  -
    355  f000				  -.lz_more
    356  f000				  -	      inc	lzsa_winptr+1	; Unlikely, so can be slow.
    357  f000				  -	      bne	.lz_byte	; Always true!
    358  f000				  -
    359  f000				  -	      endif		; !LZSA_SMALL_SIZE
    360  f000				  -
    361  f000				  -			;
    362  f000				  -			; Get 16-bit length in X:A register pair, return with CC.
    363  f000				  -			;
    364  f000				  -			; N.B. X=0 is expected and guaranteed when we get here.
    365  f000				  -			;
    366  f000				  -
    367  f000				  -.get_length
    368  f000				  -	      clc		; Add on the next byte to get
    369  f000				  -	      adc	(lzsa_srcptr),y	; the length.
    370  f000				  -	      inc	lzsa_srcptr+0
    371  f000				  -	      bne	.skip_inc
    372  f000				  -	      inc	lzsa_srcptr+1
    373  f000				  -.skip_inc
    374  f000				  -
    375  f000				  -	      bcc	.got_length	; No overflow means done.
    376  f000				  -	      clc		; MUST return CC!
    377  f000				  -	      tax		; Preserve overflow value.
    378  f000				  -
    379  f000				  -.extra_byte
    380  f000				  -	      jsr	.get_byte	; So rare, this can be slow!
    381  f000				  -	      pha
    382  f000				  -	      txa		; Overflow to 256 or 257?
    383  f000				  -	      beq	.extra_word
    384  f000				  -
    385  f000				  -.check_length
    386  f000				  -	      pla		; Length-lo.
    387  f000				  -	      bne	.got_length	; Check for zero.
    388  f000				  -	      dex		; Do one less page loop if so.
    389  f000				  -.got_length
    390  f000				  -	      rts
    391  f000				  -
    392  f000				  -.extra_word
    393  f000				  -	      jsr	.get_byte	; So rare, this can be slow!
    394  f000				  -	      tax
    395  f000				  -	      bne	.check_length	; Length-hi == 0 at EOF.
    396  f000				  -
    397  f000				  -.finished
    398  f000				  -	      pla		; Length-lo.
    399  f000				  -	      pla		; Decompression completed, pop
    400  f000				  -	      pla		; return address.
    401  f000				  -	      rts
    402  f000				  -
    403  f000				  -.get_byte
    404  f000				  -	      lda	(lzsa_srcptr),y	; Subroutine version for when
    405  f000				  -	      inc	lzsa_srcptr+0	; inlining isn't advantageous.
    406  f000				  -	      bne	.got_byte
    407  f000				  -	      inc	lzsa_srcptr+1	; Inc & test for bank overflow.
    408  f000				  -.got_byte
    409  f000				  -	      rts
    410  f000				  -
    411  f000				  -lzsa1moduleend
    412  f000				  -
    413  f000				  -	      echo	"  (lzsa1compression module is using ",[(lzsa1moduleend-lzsa1modulestart)]d," bytes of rom)"
    414  f000				  -
    415  f000					      endif		; lzsa1support
------- FILE rpmegafighter.bas.asm
   7397  f000					      endif
   7398  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
   7399  f000
   7400  f000							;standard routimes needed for pretty much all games
   7401  f000
   7402  f000							; some definitions used with "set debug color"
   7403  f000		       00 91	   DEBUGCALC  =	$91
   7404  f000		       00 41	   DEBUGWASTE =	$41
   7405  f000		       00 c1	   DEBUGDRAW  =	$C1
   7406  f000
   7407  f000							;NMI and IRQ handlers
   7408  f000				   NMI
   7409  f000							;VISIBLEOVER is 255 while the screen is drawn, and 0 right after the visible screen is done.
   7410  f000		       48		      pha		; save A
   7411  f001		       d8		      cld
   7412  f002		       a5 4d		      lda	visibleover
   7413  f004		       49 ff		      eor	#255
   7414  f006		       85 4d		      sta	visibleover
   7415  f008				  -	      ifconst	DEBUGINTERRUPT
   7416  f008				  -	      and	#$93
   7417  f008				  -	      sta	BACKGRND
   7418  f008					      endif
   7419  f008		       8a		      txa		; save X
   7420  f009		       48		      pha
   7421  f00a		       98		      tya		; save Y
   7422  f00b		       48		      pha
   7423  f00c		       ce b2 01 	      dec	interruptindex
   7424  f00f		       d0 03		      bne	skipreallyoffvisible
   7425  f011		       4c 6b f0 	      jmp	reallyoffvisible
   7426  f014				   skipreallyoffvisible
   7427  f014		       a5 4d		      lda	visibleover
   7428  f016		       d0 03		      bne	carryontopscreenroutine
   7429  f018				  -	      ifconst	.bottomscreenroutine
   7430  f018				  -	      lda	interrupthold
   7431  f018				  -	      beq	skipbottomroutine
   7432  f018				  -	      jsr	.bottomscreenroutine
   7433  f018				  -skipbottomroutine
   7434  f018					      endif
   7435  f018		       4c 79 f0 	      jmp	NMIexit
   7436  f01b				   carryontopscreenroutine
   7437  f01b				  -	      ifconst	.topscreenroutine
   7438  f01b				  -	      lda	interrupthold
   7439  f01b				  -	      beq	skiptoproutine
   7440  f01b				  -	      jsr	.topscreenroutine
   7441  f01b				  -skiptoproutine
   7442  f01b					      endif
   7443  f01b					      ifnconst	CANARYOFF
   7444  f01b		       ad c2 01 	      lda	canary
   7445  f01e		       f0 07		      beq	skipcanarytriggered
   7446  f020		       a9 45		      lda	#$45
   7447  f022		       85 20		      sta	BACKGRND
   7448  f024		       4c 63 f0 	      jmp	skipbrkolorset	; common crash dump routine, if available
   7449  f027				   skipcanarytriggered
   7450  f027					      endif
   7451  f027
   7452  f027		       ee 3e 21 	      inc	frameslost	; this is balanced with a "dec frameslost" when drawscreen is called.
   7453  f02a
   7454  f02a							; ** Other important routines that need to regularly run, and can run onscreen.
   7455  f02a							; ** Atarivox can't go here, because Maria might interrupt it while it's bit-banging.
   7456  f02a
   7457  f02a				  -	      ifconst	LONGCONTROLLERREAD
   7458  f02a				  -longcontrollerreads		; ** controllers that take a lot of time to read. We use much of the visible screen here.
   7459  f02a				  -	      ldy	port1control
   7460  f02a				  -	      lda	longreadtype,y
   7461  f02a				  -	      beq	LLRET1
   7462  f02a				  -	      tay
   7463  f02a				  -	      lda	longreadroutinehiP1,y
   7464  f02a				  -	      sta	inttemp4
   7465  f02a				  -	      lda	longreadroutineloP1,y
   7466  f02a				  -	      sta	inttemp3
   7467  f02a				  -	      jmp	(inttemp3)
   7468  f02a				  -LLRET1
   7469  f02a				  -	      ldy	port0control
   7470  f02a				  -	      lda	longreadtype,y
   7471  f02a				  -	      beq	LLRET0
   7472  f02a				  -	      tay
   7473  f02a				  -	      lda	longreadroutinehiP0,y
   7474  f02a				  -	      sta	inttemp4
   7475  f02a				  -	      lda	longreadroutineloP0,y
   7476  f02a				  -	      sta	inttemp3
   7477  f02a				  -	      jmp	(inttemp3)
   7478  f02a				  -LLRET0
   7479  f02a				  -
   7480  f02a				  -
   7481  f02a				  -	      ifconst	PADDLERANGE
   7482  f02a				  -TIMEVAL    =	PADDLERANGE
   7483  f02a				  -	      else
   7484  f02a				  -TIMEVAL    =	160
   7485  f02a				  -	      endif
   7486  f02a				  -TIMEOFFSET =	10
   7487  f02a				  -
   7488  f02a					      endif		; LONGCONTROLLERREAD
   7489  f02a
   7490  f02a
   7491  f02a		       20 03 f2 	      jsr	servicesfxchannels
   7492  f02d				  -	      ifconst	MUSICTRACKER
   7493  f02d				  -	      jsr	servicesong
   7494  f02d					      endif		; MUSICTRACKER
   7495  f02d				  -	      ifconst	RMT
   7496  f02d				  -	      ifnconst	RMTOFFSPEED
   7497  f02d				  -	      ifconst	RMTPALSPEED
   7498  f02d				  -	      lda	ntscslowframe
   7499  f02d				  -	      bne	skiprasterupdate
   7500  f02d				  -	      endif
   7501  f02d				  -	      endif
   7502  f02d				  -	      lda	rasterpause
   7503  f02d				  -	      beq	skiprasterupdate
   7504  f02d				  -	      ifconst	PAUSESILENT
   7505  f02d				  -	      lda	pausestate
   7506  f02d				  -	      bne	skiprasterupdate
   7507  f02d				  -	      endif
   7508  f02d				  -	      jsr	RASTERMUSICTRACKER+3
   7509  f02d				  -skiprasterupdate
   7510  f02d				  -RMT_Iend
   7511  f02d					      endif
   7512  f02d
   7513  f02d		       ee a4 01 	      inc	framecounter
   7514  f030		       ad a4 01 	      lda	framecounter
   7515  f033		       29 3f		      and	#63
   7516  f035		       d0 08		      bne	skipcountdownseconds
   7517  f037		       ad a5 01 	      lda	countdownseconds
   7518  f03a		       f0 03		      beq	skipcountdownseconds
   7519  f03c		       ce a5 01 	      dec	countdownseconds
   7520  f03f				   skipcountdownseconds
   7521  f03f
   7522  f03f		       a2 01		      ldx	#1
   7523  f041				   buttonreadloop
   7524  f041		       8a		      txa
   7525  f042		       48		      pha
   7526  f043		       bc b8 01 	      ldy	port0control,x
   7527  f046		       b9 df f1 	      lda	buttonhandlerlo,y
   7528  f049		       85 da		      sta	inttemp3
   7529  f04b		       b9 d2 f1 	      lda	buttonhandlerhi,y
   7530  f04e		       85 db		      sta	inttemp4
   7531  f050		       05 da		      ora	inttemp3
   7532  f052		       f0 03		      beq	buttonreadloopreturn
   7533  f054		       6c da 00 	      jmp	(inttemp3)
   7534  f057				   buttonreadloopreturn
   7535  f057		       68		      pla
   7536  f058		       aa		      tax
   7537  f059		       ca		      dex
   7538  f05a		       10 e5		      bpl	buttonreadloop
   7539  f05c
   7540  f05c				  -	      ifconst	DOUBLEBUFFER
   7541  f05c				  -	      lda	doublebufferminimumframeindex
   7542  f05c				  -	      beq	skipdoublebufferminimumframeindexadjust
   7543  f05c				  -	      dec	doublebufferminimumframeindex
   7544  f05c				  -skipdoublebufferminimumframeindexadjust
   7545  f05c					      endif
   7546  f05c
   7547  f05c		       4c 79 f0 	      jmp	NMIexit
   7548  f05f
   7549  f05f				   IRQ			; the only source of non-nmi interrupt should be the BRK opcode.
   7550  f05f					      ifnconst	BREAKPROTECTOFF
   7551  f05f		       a9 1a		      lda	#$1A
   7552  f061		       85 20		      sta	BACKGRND
   7553  f063				   skipbrkolorset
   7554  f063				   skipbrkdetected
   7555  f063		       a9 60		      lda	#$60
   7556  f065		       8d 07 21 	      sta	sCTRL
   7557  f068		       85 3c		      sta	CTRL
   7558  f06a					      ifnconst	hiscorefont
   7559  f06a		       02		      .byte.b	$02	; KIL/JAM
   7560  f06b				  -	      else		; hiscorefont is present
   7561  f06b				  -	      ifconst	CRASHDUMP
   7562  f06b				  -	      bit	MSTAT
   7563  f06b				  -	      bpl	skipbrkdetected	; wait for vblank to ensure we're clear of NMI
   7564  f06b				  -
   7565  f06b				  -	      ifconst	dumpbankswitch
   7566  f06b				  -	      lda	dumpbankswitch
   7567  f06b				  -	      pha
   7568  f06b				  -	      endif
   7569  f06b				  -
   7570  f06b				  -			; bankswitch if needed, to get to the hiscore font
   7571  f06b				  -	      ifconst	bankswitchmode
   7572  f06b				  -	      ifconst	included.hiscore.asm.bank
   7573  f06b				  -	      ifconst	MCPDEVCART
   7574  f06b				  -	      lda	#($18 | included.hiscore.asm.bank)
   7575  f06b				  -	      sta	$3000
   7576  f06b				  -	      else
   7577  f06b				  -	      lda	#(included.hiscore.asm.bank)
   7578  f06b				  -	      sta	$8000
   7579  f06b				  -	      endif
   7580  f06b				  -	      endif		; included.hiscore.asm.bank
   7581  f06b				  -	      endif		; bankswitchmode
   7582  f06b				  -
   7583  f06b				  -	      ifconst	DOUBLEBUFFER
   7584  f06b				  -			;turn off double-buffering, if on...
   7585  f06b				  -	      lda	#>DLLMEM
   7586  f06b				  -	      sta	DPPH
   7587  f06b				  -	      lda	#<DLLMEM
   7588  f06b				  -	      sta	DPPL
   7589  f06b				  -	      endif
   7590  f06b				  -
   7591  f06b				  -	      lda	#$00
   7592  f06b				  -	      sta	P0C2
   7593  f06b				  -
   7594  f06b				  -			;update the second-from-top DL...
   7595  f06b				  -	      ldy	#8
   7596  f06b				  -NMIupdatetopDL
   7597  f06b				  -	      lda	show2700,y
   7598  f06b				  -	      sta	ZONE1ADDRESS,y
   7599  f06b				  -	      dey
   7600  f06b				  -	      bpl	NMIupdatetopDL
   7601  f06b				  -
   7602  f06b				  -			; the hiscore font is present, so we try to output the stack
   7603  f06b				  -	      ldy	#0
   7604  f06b				  -copystackloop
   7605  f06b				  -	      pla
   7606  f06b				  -	      pha
   7607  f06b				  -	      lsr
   7608  f06b				  -	      lsr
   7609  f06b				  -	      lsr
   7610  f06b				  -	      lsr
   7611  f06b				  -	      tax
   7612  f06b				  -	      lda	hiscorehexlut,x
   7613  f06b				  -	      sta	$2700,y
   7614  f06b				  -	      iny
   7615  f06b				  -
   7616  f06b				  -	      pla
   7617  f06b				  -	      and	#$0F
   7618  f06b				  -	      tax
   7619  f06b				  -	      lda	hiscorehexlut,x
   7620  f06b				  -	      sta	$2700,y
   7621  f06b				  -	      iny
   7622  f06b				  -
   7623  f06b				  -	      lda	#27	; period
   7624  f06b				  -	      sta	$2700,y
   7625  f06b				  -	      iny
   7626  f06b				  -
   7627  f06b				  -	      cpy	#30
   7628  f06b				  -	      bne	copystackloop
   7629  f06b				  -
   7630  f06b				  -	      lda	#>hiscorefont
   7631  f06b				  -	      sta	CHARBASE
   7632  f06b				  -	      sta	sCHARBASE
   7633  f06b				  -	      lda	#%01000011	;Enable DMA, mode=320A
   7634  f06b				  -	      sta	CTRL
   7635  f06b				  -	      sta	sCTRL
   7636  f06b				  -	      .byte	$02	; KIL/JAM
   7637  f06b				  -hiscorehexlut
   7638  f06b				  -			; 0 1 2 3 4 5 6 7 8 9 A B C D E F
   7639  f06b				  -	      .byte	33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 0, 1, 2, 3, 4, 5
   7640  f06b				  -show2700
   7641  f06b				  -			; lo mode hi width=29 x EODL
   7642  f06b				  -	      .byte	$00, %01100000, $27, 3, 20, 0,0,0
   7643  f06b				  -	      else		; CRASHDUMP
   7644  f06b				  -	      .byte	$02	; KIL/JAM
   7645  f06b				  -	      endif		; crashdump
   7646  f06b					      endif		; hiscorefont
   7647  f06b				  -	      else
   7648  f06b				  -	      RTI
   7649  f06b					      endif
   7650  f06b
   7651  f06b				  -	      ifconst	LONGCONTROLLERREAD
   7652  f06b				  -
   7653  f06b				  -longreadtype
   7654  f06b				  -	      .byte	0, 0, 0, 1	; NONE PROLINE LIGHTGUN PADDLE
   7655  f06b				  -	      .byte	2, 0, 3, 0	; TRKBALL VCSSTICK DRIVING KEYPAD
   7656  f06b				  -	      .byte	3, 3, 0, 0	; STMOUSE AMOUSE ATARIVOX SNES
   7657  f06b				  -
   7658  f06b				  -longreadroutineloP0
   7659  f06b				  -	      .byte	<LLRET0	; 0 = no routine
   7660  f06b				  -	      .byte	<paddleport0update	; 1 = paddle
   7661  f06b				  -	      .byte	<trakball0update	; 2 = trakball
   7662  f06b				  -	      .byte	<mouse0update	; 3 = mouse
   7663  f06b				  -
   7664  f06b				  -longreadroutinehiP0
   7665  f06b				  -	      .byte	>LLRET0	; 0 = no routine
   7666  f06b				  -	      .byte	>paddleport0update	; 1 = paddle
   7667  f06b				  -	      .byte	>trakball0update	; 2 = trackball
   7668  f06b				  -	      .byte	>mouse0update	; 3 = mouse
   7669  f06b				  -
   7670  f06b				  -longreadroutineloP1
   7671  f06b				  -	      .byte	<LLRET1	; 0 = no routine
   7672  f06b				  -	      .byte	<paddleport1update	; 1 = paddle
   7673  f06b				  -	      .byte	<trakball1update	; 2 = trakball
   7674  f06b				  -	      .byte	<mouse1update	; 3 = mouse
   7675  f06b				  -
   7676  f06b				  -longreadroutinehiP1
   7677  f06b				  -	      .byte	>LLRET1	; 0 = no routine
   7678  f06b				  -	      .byte	>paddleport1update	; 1 = paddle
   7679  f06b				  -	      .byte	>trakball1update	; 2 = trackball
   7680  f06b				  -	      .byte	>mouse1update	; 3 = mouse
   7681  f06b				  -
   7682  f06b				  -
   7683  f06b				  -SETTIM64T
   7684  f06b				  -	      bne	skipdefaulttime
   7685  f06b				  -	      ifnconst	PADDLESMOOTHINGOFF
   7686  f06b				  -	      lda	#(TIMEVAL+TIMEOFFSET+1)
   7687  f06b				  -	      else
   7688  f06b				  -	      lda	#(TIMEVAL+TIMEOFFSET)
   7689  f06b				  -	      endif
   7690  f06b				  -skipdefaulttime
   7691  f06b				  -	      tay
   7692  f06b				  -	      dey
   7693  f06b				  -.setTIM64Tloop
   7694  f06b				  -	      sta	TIM64T
   7695  f06b				  -	      cpy	INTIM
   7696  f06b				  -	      bne	.setTIM64Tloop
   7697  f06b				  -	      rts
   7698  f06b					      endif		; LONGCONTROLLERREAD
   7699  f06b
   7700  f06b				   reallyoffvisible
   7701  f06b		       85 24		      sta	WSYNC
   7702  f06d
   7703  f06d		       a9 00		      lda	#0
   7704  f06f		       85 4d		      sta	visibleover
   7705  f071				  -	      ifconst	DEBUGINTERRUPT
   7706  f071				  -	      sta	BACKGRND
   7707  f071					      endif
   7708  f071
   7709  f071		       a9 03		      lda	#3
   7710  f073		       8d b2 01 	      sta	interruptindex
   7711  f076
   7712  f076		       20 4b f1 	      jsr	uninterruptableroutines
   7713  f079
   7714  f079				  -	      ifconst	.userinterrupt
   7715  f079				  -	      lda	interrupthold
   7716  f079				  -	      beq	skipuserintroutine
   7717  f079				  -	      jsr	.userinterrupt
   7718  f079				  -skipuserintroutine
   7719  f079					      endif
   7720  f079
   7721  f079				  -	      ifconst	KEYPADSUPPORT
   7722  f079				  -	      jsr	keypadcolumnread
   7723  f079				  -	      jsr	keypadrowselect
   7724  f079					      endif
   7725  f079
   7726  f079				   NMIexit
   7727  f079		       68		      pla
   7728  f07a		       a8		      tay
   7729  f07b		       68		      pla
   7730  f07c		       aa		      tax
   7731  f07d		       68		      pla
   7732  f07e		       40		      RTI
   7733  f07f
   7734  f07f				   clearscreen
   7735  f07f		       a2 0b		      ldx	#(WZONECOUNT-1)
   7736  f081		       a9 00		      lda	#0
   7737  f083				   clearscreenloop
   7738  f083		       95 65		      sta	dlend,x
   7739  f085		       ca		      dex
   7740  f086		       10 fb		      bpl	clearscreenloop
   7741  f088		       a9 00		      lda	#0
   7742  f08a		       8d ad 01 	      sta	valbufend	; clear the bcd value buffer
   7743  f08d		       8d ae 01 	      sta	valbufendsave
   7744  f090		       60		      rts
   7745  f091
   7746  f091				   restorescreen
   7747  f091		       a2 0b		      ldx	#(WZONECOUNT-1)
   7748  f093		       a9 00		      lda	#0
   7749  f095				   restorescreenloop
   7750  f095		       b5 82		      lda	dlendsave,x
   7751  f097		       95 65		      sta	dlend,x
   7752  f099		       ca		      dex
   7753  f09a		       10 f9		      bpl	restorescreenloop
   7754  f09c		       ad ae 01 	      lda	valbufendsave
   7755  f09f		       8d ad 01 	      sta	valbufend
   7756  f0a2		       60		      rts
   7757  f0a3
   7758  f0a3				   savescreen
   7759  f0a3		       a2 0b		      ldx	#(WZONECOUNT-1)
   7760  f0a5				   savescreenloop
   7761  f0a5		       b5 65		      lda	dlend,x
   7762  f0a7		       95 82		      sta	dlendsave,x
   7763  f0a9		       ca		      dex
   7764  f0aa		       10 f9		      bpl	savescreenloop
   7765  f0ac		       ad ad 01 	      lda	valbufend
   7766  f0af		       8d ae 01 	      sta	valbufendsave
   7767  f0b2				  -	      ifconst	DOUBLEBUFFER
   7768  f0b2				  -	      lda	doublebufferstate
   7769  f0b2				  -	      beq	savescreenrts
   7770  f0b2				  -	      lda	#1
   7771  f0b2				  -	      sta	doublebufferbufferdirty
   7772  f0b2				  -savescreenrts
   7773  f0b2					      endif		; DOUBLEBUFFER
   7774  f0b2		       60		      rts
   7775  f0b3
   7776  f0b3				   drawscreen
   7777  f0b3
   7778  f0b3				  -	      ifconst	interrupthold
   7779  f0b3				  -	      lda	#$FF
   7780  f0b3				  -	      sta	interrupthold	; if the user called drawscreen, we're ready for interrupts
   7781  f0b3					      endif
   7782  f0b3
   7783  f0b3		       a9 00		      lda	#0
   7784  f0b5		       85 42		      sta	temp1	; not B&W if we're here...
   7785  f0b7
   7786  f0b7				   drawscreenwait
   7787  f0b7		       a5 4d		      lda	visibleover
   7788  f0b9		       d0 fc		      bne	drawscreenwait	; make sure the visible screen isn't being drawn
   7789  f0bb
   7790  f0bb							;restore some registers in case the game changed them mid-screen...
   7791  f0bb		       ad 07 21 	      lda	sCTRL
   7792  f0be		       05 42		      ora	temp1
   7793  f0c0		       85 3c		      sta	CTRL
   7794  f0c2		       ad 0b 21 	      lda	sCHARBASE
   7795  f0c5		       85 34		      sta	CHARBASE
   7796  f0c7
   7797  f0c7							;ensure all of the display list is terminated...
   7798  f0c7		       20 31 f1 	      jsr	terminatedisplaylist
   7799  f0ca
   7800  f0ca					      ifnconst	pauseroutineoff
   7801  f0ca		       20 d5 f0 	      jsr	pauseroutine
   7802  f0cd					      endif		; pauseroutineoff
   7803  f0cd
   7804  f0cd							; Make sure the visible screen has *started* before we exit. That way we can rely on drawscreen
   7805  f0cd							; delaying a full frame, but still allowing time for basic calculations.
   7806  f0cd				   visiblescreenstartedwait
   7807  f0cd		       a5 4d		      lda	visibleover
   7808  f0cf		       f0 fc		      beq	visiblescreenstartedwait
   7809  f0d1				   visiblescreenstartedwaitdone
   7810  f0d1		       ce 3e 21 	      dec	frameslost	; ; this gets balanced with an "inc frameslost" by an NMI at the top of the screen
   7811  f0d4		       60		      rts
   7812  f0d5
   7813  f0d5					      ifnconst	pauseroutineoff
   7814  f0d5							; check to see if pause was pressed and released
   7815  f0d5				   pauseroutine
   7816  f0d5		       ad b3 01 	      lda	pausedisable
   7817  f0d8		       d0 47		      bne	leavepauseroutine
   7818  f0da		       a9 08		      lda	#8
   7819  f0dc		       2c 82 02 	      bit	SWCHB
   7820  f0df		       f0 22		      beq	pausepressed
   7821  f0e1
   7822  f0e1				  -	      ifconst	SNES0PAUSE
   7823  f0e1				  -	      lda	port0control
   7824  f0e1				  -	      cmp	#11
   7825  f0e1				  -	      bne	skipsnes0pause
   7826  f0e1				  -	      lda	snesdetected0
   7827  f0e1				  -	      beq	skipsnes0pause
   7828  f0e1				  -	      lda	snes2atari0hi
   7829  f0e1				  -	      and	#%00010000
   7830  f0e1				  -	      beq	pausepressed
   7831  f0e1				  -skipsnes0pause
   7832  f0e1					      endif
   7833  f0e1				  -	      ifconst	SNES1PAUSE
   7834  f0e1				  -
   7835  f0e1				  -	      lda	port1control
   7836  f0e1				  -	      cmp	#11
   7837  f0e1				  -	      bne	skipsnes1pause
   7838  f0e1				  -	      lda	snesdetected1
   7839  f0e1				  -	      beq	skipsnes1pause
   7840  f0e1				  -	      lda	snes2atari1hi
   7841  f0e1				  -	      and	#%00010000
   7842  f0e1				  -	      beq	pausepressed
   7843  f0e1				  -skipsnes1pause
   7844  f0e1					      endif
   7845  f0e1				  -	      ifconst	SNESNPAUSE
   7846  f0e1				  -	      ldx	snesport
   7847  f0e1				  -	      lda	port0control,x
   7848  f0e1				  -	      cmp	#11
   7849  f0e1				  -	      bne	skipsnesNpause
   7850  f0e1				  -	      lda	snesdetected0,x
   7851  f0e1				  -	      beq	skipsnesNpause
   7852  f0e1				  -	      lda	snes2atari0hi,x
   7853  f0e1				  -	      and	#%00010000
   7854  f0e1				  -	      beq	pausepressed
   7855  f0e1				  -skipsnesNpause
   7856  f0e1					      endif
   7857  f0e1				  -	      ifconst	MULTIBUTTONPAUSE
   7858  f0e1				  -	      ldx	#1
   7859  f0e1				  -multibuttonpauseloop
   7860  f0e1				  -	      lda	port0control,x
   7861  f0e1				  -	      cmp	#11
   7862  f0e1				  -	      bcc	multibuttonpauseloopbottom
   7863  f0e1				  -	      lda	sINPT1,x
   7864  f0e1				  -	      and	#1
   7865  f0e1				  -	      beq	pausepressed
   7866  f0e1				  -multibuttonpauseloopbottom
   7867  f0e1				  -	      dex
   7868  f0e1				  -	      bpl	multibuttonpauseloop
   7869  f0e1					      endif		; MULTIBUTTONPAUSE
   7870  f0e1
   7871  f0e1							;pause isn't pressed
   7872  f0e1		       a9 00		      lda	#0
   7873  f0e3		       8d ac 01 	      sta	pausebuttonflag	; clear pause hold state in case its set
   7874  f0e6
   7875  f0e6							;check if we're in an already paused state
   7876  f0e6		       ad 00 21 	      lda	pausestate
   7877  f0e9		       f0 36		      beq	leavepauseroutine	; nope, leave
   7878  f0eb
   7879  f0eb		       c9 01		      cmp	#1	; last frame was the start of pausing
   7880  f0ed		       f0 2b		      beq	enterpausestate2	; move from state 1 to 2
   7881  f0ef
   7882  f0ef		       c9 02		      cmp	#2
   7883  f0f1		       f0 34		      beq	carryonpausing
   7884  f0f3
   7885  f0f3							;pausestate must be >2, which means we're ending an unpause
   7886  f0f3		       a9 00		      lda	#0
   7887  f0f5		       8d ac 01 	      sta	pausebuttonflag
   7888  f0f8		       8d 00 21 	      sta	pausestate
   7889  f0fb		       ad 07 21 	      lda	sCTRL
   7890  f0fe		       85 3c		      sta	CTRL
   7891  f100		       4c 21 f1 	      jmp	leavepauseroutine
   7892  f103
   7893  f103				   pausepressed
   7894  f103							;pause is pressed
   7895  f103		       ad ac 01 	      lda	pausebuttonflag
   7896  f106		       c9 ff		      cmp	#$ff
   7897  f108		       f0 1d		      beq	carryonpausing
   7898  f10a
   7899  f10a							;its a new press, increment the state
   7900  f10a		       ee 00 21 	      inc	pausestate
   7901  f10d
   7902  f10d							;silence volume at the start and end of pausing
   7903  f10d		       a9 00		      lda	#0
   7904  f10f		       85 19		      sta	AUDV0
   7905  f111		       85 1a		      sta	AUDV1
   7906  f113
   7907  f113				  -	      ifconst	pokeysupport
   7908  f113				  -	      ldy	#7
   7909  f113				  -pausesilencepokeyaudioloop
   7910  f113				  -	      sta	(pokeybase),y
   7911  f113				  -	      dey
   7912  f113				  -	      bpl	pausesilencepokeyaudioloop
   7913  f113					      endif		; pokeysupport
   7914  f113
   7915  f113		       a9 ff		      lda	#$ff
   7916  f115		       8d ac 01 	      sta	pausebuttonflag
   7917  f118		       d0 0d		      bne	carryonpausing
   7918  f11a
   7919  f11a				   enterpausestate2
   7920  f11a		       a9 02		      lda	#2
   7921  f11c		       8d 00 21 	      sta	pausestate
   7922  f11f		       d0 06		      bne	carryonpausing
   7923  f121				   leavepauseroutine
   7924  f121		       ad 07 21 	      lda	sCTRL
   7925  f124		       85 3c		      sta	CTRL
   7926  f126		       60		      rts
   7927  f127				   carryonpausing
   7928  f127				  -	      ifconst	.pause
   7929  f127				  -	      jsr	.pause
   7930  f127					      endif		; .pause
   7931  f127		       ad 07 21 	      lda	sCTRL
   7932  f12a		       09 80		      ora	#%10000000	; turn off colorburst during pause...
   7933  f12c		       85 3c		      sta	CTRL
   7934  f12e		       4c d5 f0 	      jmp	pauseroutine
   7935  f131					      endif		; pauseroutineoff
   7936  f131
   7937  f131
   7938  f131				  -	      ifconst	DOUBLEBUFFER
   7939  f131				  -skipterminatedisplaylistreturn
   7940  f131				  -	      rts
   7941  f131					      endif		; DOUBLEBUFFER
   7942  f131				   terminatedisplaylist
   7943  f131				  -	      ifconst	DOUBLEBUFFER
   7944  f131				  -	      lda	doublebufferstate
   7945  f131				  -	      bne	skipterminatedisplaylistreturn	; double-buffering runs it's own DL termination code
   7946  f131					      endif		; DOUBLEBUFFER
   7947  f131				   terminatedisplaybuffer
   7948  f131							;add DL end entry on each DL
   7949  f131		       a2 0b		      ldx	#(WZONECOUNT-1)
   7950  f133				   dlendloop
   7951  f133				  -	      ifconst	VSCROLL
   7952  f133				  -	      ldy	Xx3,x
   7953  f133				  -	      lda	DLLMEM+11,y
   7954  f133					      else		; !VSCROLL
   7955  f133		       bd 14 f5 	      lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
   7956  f136					      endif		; !VSCROLL
   7957  f136				  -	      ifconst	DOUBLEBUFFER
   7958  f136				  -	      clc
   7959  f136				  -	      adc	doublebufferdloffset
   7960  f136					      endif		; DOUBLEBUFFER
   7961  f136		       85 63		      sta	dlpnt
   7962  f138				  -	      ifconst	VSCROLL
   7963  f138				  -	      lda	DLLMEM+10,y
   7964  f138					      else		; !VSCROLL
   7965  f138		       bd 08 f5 	      lda	DLPOINTH,x
   7966  f13b					      endif		; !VSCROLL
   7967  f13b				  -	      ifconst	DOUBLEBUFFER
   7968  f13b				  -	      adc	#0
   7969  f13b					      endif		; DOUBLEBUFFER
   7970  f13b		       85 64		      sta	dlpnt+1
   7971  f13d		       b4 65		      ldy	dlend,x
   7972  f13f		       a9 00		      lda	#$00
   7973  f141				   dlendmoreloops
   7974  f141		       c8		      iny
   7975  f142		       91 63		      sta	(dlpnt),y
   7976  f144				  -	      ifconst	FRAMESKIPGLITCHFIXWEAK
   7977  f144				  -	      cpy	#DLLASTOBJ+1
   7978  f144				  -	      beq	dlendthiszonedone
   7979  f144				  -	      iny
   7980  f144				  -	      iny
   7981  f144				  -	      iny
   7982  f144				  -	      iny
   7983  f144				  -	      iny
   7984  f144				  -	      sta	(dlpnt),y
   7985  f144				  -dlendthiszonedone
   7986  f144					      endif	FRAMESKIPGLITCHFIXWEAK
   7987  f144				  -	      ifconst	FRAMESKIPGLITCHFIX
   7988  f144				  -	      iny
   7989  f144				  -	      iny
   7990  f144				  -	      iny
   7991  f144				  -	      iny
   7992  f144				  -	      cpy	#DLLASTOBJ-1
   7993  f144				  -	      bcc	dlendmoreloops
   7994  f144					      endif		; FRAMESKIPGLITCHFIX
   7995  f144		       ca		      dex
   7996  f145		       10 ec		      bpl	dlendloop
   7997  f147
   7998  f147					      ifnconst	pauseroutineoff
   7999  f147		       20 d5 f0 	      jsr	pauseroutine
   8000  f14a					      endif		; pauseroutineoff
   8001  f14a		       60		      rts
   8002  f14b
   8003  f14b				   uninterruptableroutines
   8004  f14b							; this is for routines that must happen off the visible screen, each frame.
   8005  f14b
   8006  f14b				  -	      ifconst	AVOXVOICE
   8007  f14b				  -	      jsr	serviceatarivoxqueue
   8008  f14b					      endif
   8009  f14b				  -	      ifconst	MEGA7800SUPPORT
   8010  f14b				  -	      ldx	#1
   8011  f14b				  -mega7800polling
   8012  f14b				  -	      lda	port0control,x
   8013  f14b				  -	      cmp	#12	; mega7800
   8014  f14b				  -	      bne	mega7800handlercheck2
   8015  f14b				  -	      jsr	mega7800handler
   8016  f14b				  -	      jmp	mega7800handlerdone
   8017  f14b				  -mega7800handlercheck2
   8018  f14b				  -	      ifconst	MULTIBUTTON
   8019  f14b				  -	      cmp	#1	; proline
   8020  f14b				  -	      bne	mega7800handlerdone
   8021  f14b				  -	      lda	framecounter
   8022  f14b				  -	      eor	#7	; avoid the same frame as the snes2atari probe
   8023  f14b				  -	      and	#63
   8024  f14b				  -	      bne	mega7800handlerdone
   8025  f14b				  -	      lda	#12
   8026  f14b				  -	      sta	port0control,x
   8027  f14b				  -	      jsr	mega7800handler
   8028  f14b				  -	      endif		; MULTIBUTTON
   8029  f14b				  -mega7800handlerdone
   8030  f14b				  -	      dex
   8031  f14b				  -	      bpl	mega7800polling
   8032  f14b					      endif		; MEGA7800SUPPORT
   8033  f14b
   8034  f14b		       a9 00		      lda	#0
   8035  f14d		       8d b7 01 	      sta	palfastframe
   8036  f150		       8d b6 01 	      sta	ntscslowframe
   8037  f153		       ac b5 01 	      ldy	palframes
   8038  f156		       c8		      iny
   8039  f157		       ae 09 21 	      ldx	paldetected	; 0=ntsc 1=pal
   8040  f15a		       f0 06		      beq	ntsc2palskipcheck
   8041  f15c				   pal2ntscskipcheck
   8042  f15c		       c0 05		      cpy	#5	; every 5th frame, add a frame
   8043  f15e		       d0 0b		      bne	palframeskipdone
   8044  f160		       f0 04		      beq	frameskipdo
   8045  f162				   ntsc2palskipcheck
   8046  f162		       c0 06		      cpy	#6	; every 6th frame, drop a frame
   8047  f164		       d0 05		      bne	palframeskipdone
   8048  f166				   frameskipdo
   8049  f166		       fe b6 01 	      inc	ntscslowframe,x
   8050  f169		       a0 00		      ldy	#0
   8051  f16b				   palframeskipdone
   8052  f16b		       8c b5 01 	      sty	palframes
   8053  f16e				   skippalframeadjusting
   8054  f16e
   8055  f16e				  -	      ifconst	MUSICTRACKER
   8056  f16e				  -			; We normally run the servicesong routine from the top-screen interrupt, but if it
   8057  f16e				  -			; happens to interrupt the scheduling of a sound effect in the game code, we skip it.
   8058  f16e				  -			; If that happens, we try again here. Chances are very small we'll run into the same
   8059  f16e				  -			; problem twice, and if we do, we just drop a musical note or two.
   8060  f16e				  -	      lda	sfxschedulemissed
   8061  f16e				  -	      beq	servicesongwasnotmissed
   8062  f16e				  -	      jsr	servicesong
   8063  f16e				  -servicesongwasnotmissed
   8064  f16e					      endif		; MUSICTRACKER
   8065  f16e
   8066  f16e				  -	      ifconst	RMT
   8067  f16e				  -	      ifnconst	RMTPALSPEED
   8068  f16e				  -	      ifnconst	RMTOFFSPEED
   8069  f16e				  -	      ifconst	PAUSESILENT
   8070  f16e				  -	      lda	pausestate
   8071  f16e				  -	      bne	skiprasterupdate2
   8072  f16e				  -	      endif
   8073  f16e				  -	      lda	palfastframe
   8074  f16e				  -	      beq	skiprasterupdate2
   8075  f16e				  -	      lda	rasterpause
   8076  f16e				  -	      beq	skiprasterupdate2
   8077  f16e				  -	      jsr	RASTERMUSICTRACKER+3
   8078  f16e				  -skiprasterupdate2
   8079  f16e				  -	      endif
   8080  f16e				  -	      endif
   8081  f16e					      endif
   8082  f16e
   8083  f16e		       60		      rts
   8084  f16f
   8085  f16f				   serviceatarivoxqueue
   8086  f16f				  -	      ifconst	AVOXVOICE
   8087  f16f				  -	      lda	voxlock
   8088  f16f				  -	      bne	skipvoxprocessing	; the vox is in the middle of speech address update
   8089  f16f				  -skipvoxqueuesizedec
   8090  f16f				  -	      jmp	processavoxvoice
   8091  f16f				  -skipvoxprocessing
   8092  f16f				  -	      rts
   8093  f16f				  -
   8094  f16f				  -processavoxvoice
   8095  f16f				  -	      ifconst	HSSUPPORT
   8096  f16f				  -			; ** we skip speech if hi-score is on and no vox was detected
   8097  f16f				  -			; ** this is to avoid later collision with snes pads.
   8098  f16f				  -	      lda	hsdevice
   8099  f16f				  -	      and	#2
   8100  f16f				  -	      beq	processavoxvoicereturn
   8101  f16f				  -	      endif		; HSSUPPORT
   8102  f16f				  -	      lda	avoxenable
   8103  f16f				  -	      bne	avoxfixport
   8104  f16f				  -	      SPKOUT	tempavox
   8105  f16f				  -	      rts
   8106  f16f				  -avoxfixport
   8107  f16f				  -	      lda	#0	; restore the port to all bits as inputs...
   8108  f16f				  -	      sta	CTLSWA
   8109  f16f				  -	      rts
   8110  f16f				  -silenceavoxvoice
   8111  f16f				  -	      SPEAK	avoxsilentdata
   8112  f16f				  -processavoxvoicereturn
   8113  f16f				  -	      rts
   8114  f16f				  -avoxsilentdata
   8115  f16f				  -	      .byte	31,255
   8116  f16f					      else
   8117  f16f		       60		      rts
   8118  f170					      endif		; AVOXVOICE
   8119  f170
   8120  f170				   prolinebuttonpadhandler
   8121  f170				  -	      ifconst	MULTIBUTTON
   8122  f170				  -	      lda	framecounter
   8123  f170				  -	      and	#63
   8124  f170				  -	      bne	jbhandlercont1
   8125  f170				  -	      jsr	setonebuttonmode
   8126  f170				  -	      lda	#11
   8127  f170				  -	      sta	port0control,x
   8128  f170				  -	      jsr	snes2atari_signal_go
   8129  f170				  -	      lda	port0control,x
   8130  f170				  -	      cmp	#1	; check if it's still a proline
   8131  f170				  -	      beq	jbhandlercont1
   8132  f170				  -	      jmp	buttonreadloopreturn
   8133  f170				  -jbhandlercont1
   8134  f170				  -	      lda	#2
   8135  f170				  -	      sta	multibuttoncount0,x
   8136  f170					      endif		; MULTIBUTTON
   8137  f170				   joybuttonpadhandler
   8138  f170		       ad 31 21 	      lda	sSWCHA	; clear previous dirs for this pad, from
   8139  f173		       1d c2 f1 	      ora	SWCHA_DIRMASK,x	; our sSWCHA nibble.
   8140  f176		       8d 31 21 	      sta	sSWCHA
   8141  f179		       ad 80 02 	      lda	SWCHA	; load th actual joystick dirs, ensuring
   8142  f17c		       1d c3 f1 	      ora	SWCHA_DIRMASK+1,x	; we don't change the other nibble.
   8143  f17f		       2d 31 21 	      and	sSWCHA
   8144  f182		       8d 31 21 	      sta	sSWCHA
   8145  f185				   joybuttonhandler
   8146  f185		       8a		      txa
   8147  f186		       0a		      asl
   8148  f187		       a8		      tay
   8149  f188		       b9 08 00 	      lda	INPT0,y
   8150  f18b		       4a		      lsr
   8151  f18c							;ora #%00111111
   8152  f18c		       9d 02 21 	      sta	sINPT1,x
   8153  f18f		       b9 09 00 	      lda	INPT1,y
   8154  f192		       29 80		      and	#%10000000
   8155  f194		       1d 02 21 	      ora	sINPT1,x
   8156  f197		       9d 02 21 	      sta	sINPT1,x
   8157  f19a
   8158  f19a		       b5 0c		      lda	INPT4,x
   8159  f19c		       30 19		      bmi	.skip1bjoyfirecheck
   8160  f19e							;one button joystick is down
   8161  f19e		       49 80		      eor	#%10000000
   8162  f1a0		       9d 02 21 	      sta	sINPT1,x
   8163  f1a3
   8164  f1a3		       ad b1 01 	      lda	joybuttonmode
   8165  f1a6		       3d 87 f4 	      and	thisjoy2buttonbit,x
   8166  f1a9		       f0 0c		      beq	.skip1bjoyfirecheck
   8167  f1ab		       ad b1 01 	      lda	joybuttonmode
   8168  f1ae		       1d 87 f4 	      ora	thisjoy2buttonbit,x
   8169  f1b1		       8d b1 01 	      sta	joybuttonmode
   8170  f1b4		       8d 82 02 	      sta	SWCHB
   8171  f1b7				   .skip1bjoyfirecheck
   8172  f1b7		       a9 3f		      lda	#%00111111
   8173  f1b9		       1d 02 21 	      ora	sINPT1,x
   8174  f1bc		       9d 02 21 	      sta	sINPT1,x	; ensure multibutton bits are hi
   8175  f1bf		       4c 57 f0 	      jmp	buttonreadloopreturn
   8176  f1c2
   8177  f1c2				   SWCHA_DIRMASK
   8178  f1c2							;  p0	p1  p0
   8179  f1c2		       f0 0f f0 	      .byte.b	$F0,$0F,$F0
   8180  f1c5
   8181  f1c5				   gunbuttonhandler		; outside of the conditional, so our button handler LUT is valid
   8182  f1c5				  -	      ifconst	LIGHTGUNSUPPORT
   8183  f1c5				  -	      cpx	#0
   8184  f1c5				  -	      bne	secondportgunhandler
   8185  f1c5				  -firstportgunhandler
   8186  f1c5				  -	      lda	SWCHA
   8187  f1c5				  -	      asl
   8188  f1c5				  -	      asl
   8189  f1c5				  -	      asl		; shift D4 to D7
   8190  f1c5				  -	      and	#%10000000
   8191  f1c5				  -	      eor	#%10000000
   8192  f1c5				  -	      sta	sINPT1
   8193  f1c5				  -	      jmp	buttonreadloopreturn
   8194  f1c5				  -secondportgunhandler
   8195  f1c5				  -	      lda	SWCHA
   8196  f1c5				  -	      lsr		; shift D0 into carry
   8197  f1c5				  -	      lsr		; shift carry into D7
   8198  f1c5				  -	      and	#%10000000
   8199  f1c5				  -	      eor	#%10000000
   8200  f1c5				  -	      sta	sINPT3
   8201  f1c5				  -	      jmp	buttonreadloopreturn
   8202  f1c5					      endif		; LIGHTGUNSUPPORT
   8203  f1c5
   8204  f1c5				   controlsusing2buttoncode
   8205  f1c5		       00		      .byte.b	0	; 00=no controller plugged in
   8206  f1c6		       01		      .byte.b	1	; 01=proline joystick
   8207  f1c7		       00		      .byte.b	0	; 02=lightgun
   8208  f1c8		       00		      .byte.b	0	; 03=paddle
   8209  f1c9		       01		      .byte.b	1	; 04=trakball
   8210  f1ca		       01		      .byte.b	1	; 05=vcs joystick
   8211  f1cb		       01		      .byte.b	1	; 06=driving control
   8212  f1cc		       00		      .byte.b	0	; 07=keypad control
   8213  f1cd		       00		      .byte.b	0	; 08=st mouse/cx80
   8214  f1ce		       00		      .byte.b	0	; 09=amiga mouse
   8215  f1cf		       01		      .byte.b	1	; 10=atarivox
   8216  f1d0		       00		      .byte.b	0	; 11=snes2atari
   8217  f1d1		       00		      .byte.b	0	; 12=mega7800
   8218  f1d2
   8219  f1d2				   buttonhandlerhi
   8220  f1d2		       00		      .byte.b	0	; 00=no controller plugged in
   8221  f1d3		       f1		      .byte.b	>prolinebuttonpadhandler	; 01=proline joystick
   8222  f1d4		       f1		      .byte.b	>gunbuttonhandler	; 02=lightgun
   8223  f1d5		       f4		      .byte.b	>paddlebuttonhandler	; 03=paddle
   8224  f1d6		       f1		      .byte.b	>joybuttonhandler	; 04=trakball
   8225  f1d7		       f1		      .byte.b	>joybuttonpadhandler	; 05=vcs joystick
   8226  f1d8		       f1		      .byte.b	>joybuttonhandler	; 06=driving control
   8227  f1d9		       00		      .byte.b	0	; 07=keypad
   8228  f1da		       f4		      .byte.b	>mousebuttonhandler	; 08=st mouse
   8229  f1db		       f4		      .byte.b	>mousebuttonhandler	; 09=amiga mouse
   8230  f1dc		       f1		      .byte.b	>joybuttonhandler	; 10=atarivox
   8231  f1dd		       f0		      .byte.b	>snes2atarihandler	; 11=snes
   8232  f1de		       00		      .byte.b	0	; 12=mega7800
   8233  f1df				   buttonhandlerlo
   8234  f1df		       00		      .byte.b	0	; 00=no controller plugged in
   8235  f1e0		       70		      .byte.b	<prolinebuttonpadhandler	; 01=proline joystick
   8236  f1e1		       c5		      .byte.b	<gunbuttonhandler	; 02=lightgun
   8237  f1e2		       57		      .byte.b	<paddlebuttonhandler	; 03=paddle
   8238  f1e3		       85		      .byte.b	<joybuttonhandler	; 04=trakball
   8239  f1e4		       70		      .byte.b	<joybuttonpadhandler	; 05=vcs joystick
   8240  f1e5		       85		      .byte.b	<joybuttonhandler	; 06=driving control
   8241  f1e6		       00		      .byte.b	0	; 07=keypad
   8242  f1e7		       57		      .byte.b	<mousebuttonhandler	; 08=st mouse
   8243  f1e8		       57		      .byte.b	<mousebuttonhandler	; 09=amiga mouse
   8244  f1e9		       85		      .byte.b	<joybuttonhandler	; 10=atarivox
   8245  f1ea		       00		      .byte.b	<snes2atarihandler	; 11=snes
   8246  f1eb		       00		      .byte.b	0	; 12=mega7800
   8247  f1ec
   8248  f1ec				   drawwait
   8249  f1ec		       24 4d		      bit	visibleover	; 255 if screen is being drawn, 0 when not.
   8250  f1ee		       30 fc		      bmi	drawwait	; make sure the visible screen isn't being drawn
   8251  f1f0		       60		      rts
   8252  f1f1
   8253  f1f1				   drawoverwait
   8254  f1f1		       24 4d		      bit	visibleover	; 255 if screen is being drawn, 0 when not.
   8255  f1f3		       10 fc		      bpl	drawoverwait	; make sure the visible screen is being drawn
   8256  f1f5		       60		      rts
   8257  f1f6
   8258  f1f6
   8259  f1f6				   mutetia
   8260  f1f6		       a9 00		      lda	#0
   8261  f1f8		       a2 03		      ldx	#3
   8262  f1fa				   mutetialoop
   8263  f1fa		       95 4e		      sta	sfx1pointlo,x
   8264  f1fc		       95 17		      sta	AUDF0,x
   8265  f1fe		       ca		      dex
   8266  f1ff		       10 f9		      bpl	mutetialoop
   8267  f201		       60		      rts
   8268  f202
   8269  f202				   servicesfxchannelsdone
   8270  f202					      ifnconst	pokeysupport
   8271  f202		       60		      rts
   8272  f203				  -	      else
   8273  f203				  -	      jmp	checkpokeyplaying
   8274  f203					      endif
   8275  f203				   servicesfxchannels
   8276  f203				  -	      ifconst	PAUSESILENT
   8277  f203				  -	      lda	pausestate
   8278  f203				  -	      beq	servicesfxchannels_1
   8279  f203				  -	      rts
   8280  f203				  -servicesfxchannels_1
   8281  f203					      endif
   8282  f203		       a2 ff		      ldx	#255
   8283  f205				   servicesfxchannelsloop
   8284  f205		       e8		      inx
   8285  f206					      ifnconst	TIASFXMONO
   8286  f206		       e0 02		      cpx	#2
   8287  f208				  -	      else
   8288  f208				  -	      cpx	#1
   8289  f208					      endif
   8290  f208		       f0 f8		      beq	servicesfxchannelsdone
   8291  f20a
   8292  f20a		       a5 de		      lda	sfxschedulelock	; =1 if locked
   8293  f20c		       d0 f4		      bne	servicesfxchannelsdone	; exit if a pointer may be mid-way change
   8294  f20e
   8295  f20e		       b5 4e		      lda	sfx1pointlo,x
   8296  f210		       85 dc		      sta	inttemp5
   8297  f212		       15 50		      ora	sfx1pointhi,x
   8298  f214		       f0 ef		      beq	servicesfxchannelsloop
   8299  f216		       b5 50		      lda	sfx1pointhi,x
   8300  f218		       85 dd		      sta	inttemp6
   8301  f21a
   8302  f21a		       b5 58		      lda	sfx1tick,x
   8303  f21c		       f0 05		      beq	servicesfx_cont1	; this chunk is over, load the next!
   8304  f21e		       d6 58		      dec	sfx1tick,x	; frame countdown is non-zero, subtract one
   8305  f220		       4c 05 f2 	      jmp	servicesfxchannelsloop
   8306  f223				   servicesfx_cont1
   8307  f223
   8308  f223		       a0 01		      ldy	#1	; check to see if they're changing the frame countdown
   8309  f225		       b1 dc		      lda	(inttemp5),y
   8310  f227		       c9 10		      cmp	#$10
   8311  f229		       d0 1b		      bne	servicesfx_cont1a
   8312  f22b		       a0 02		      ldy	#2
   8313  f22d		       b1 dc		      lda	(inttemp5),y
   8314  f22f		       95 56		      sta	sfx1frames,x	; change the frame countdown
   8315  f231		       a9 00		      lda	#0
   8316  f233		       95 58		      sta	sfx1tick,x
   8317  f235							; advance the sound pointer by 3...
   8318  f235		       b5 4e		      lda	sfx1pointlo,x
   8319  f237		       18		      clc
   8320  f238		       69 03		      adc	#3
   8321  f23a		       95 4e		      sta	sfx1pointlo,x
   8322  f23c		       b5 50		      lda	sfx1pointhi,x
   8323  f23e		       69 00		      adc	#0
   8324  f240		       95 50		      sta	sfx1pointhi,x
   8325  f242							; and then fetch another sample for this channel...
   8326  f242		       ca		      dex
   8327  f243		       4c 05 f2 	      jmp	servicesfxchannelsloop
   8328  f246				   servicesfx_cont1a
   8329  f246
   8330  f246		       b5 56		      lda	sfx1frames,x	; set the frame countdown for this sound chunk
   8331  f248		       95 58		      sta	sfx1tick,x
   8332  f24a
   8333  f24a		       b5 52		      lda	sfx1priority,x	; decrease the sound's priority if its non-zero
   8334  f24c		       f0 02		      beq	servicesfx_cont2
   8335  f24e		       d6 52		      dec	sfx1priority,x
   8336  f250				   servicesfx_cont2
   8337  f250
   8338  f250		       a0 00		      ldy	#0	; play the sound
   8339  f252		       b1 dc		      lda	(inttemp5),y
   8340  f254		       85 d8		      sta	inttemp1
   8341  f256
   8342  f256				  -	      ifconst	MUSICTRACKER
   8343  f256				  -	      lda	sfx1notedata,x
   8344  f256				  -	      beq	exitmusictracker	; exit if this isn't a pitched instrument
   8345  f256				  -	      ldy	#0
   8346  f256				  -	      sty	inttemp2
   8347  f256				  -	      clc
   8348  f256				  -	      adc	(inttemp5),y
   8349  f256				  -	      asl		; x2
   8350  f256				  -	      tay
   8351  f256				  -	      lda	tiatrackeroctavenotes,y
   8352  f256				  -	      sta	AUDC0,x
   8353  f256				  -	      iny
   8354  f256				  -	      lda	tiatrackeroctavenotes,y
   8355  f256				  -	      sta	AUDF0,x
   8356  f256				  -	      ldy	#1
   8357  f256				  -	      jmp	sfxvolumeentrypt
   8358  f256				  -exitmusictracker
   8359  f256				  -	      lda	inttemp1
   8360  f256					      endif		; MUSICTRACKER
   8361  f256
   8362  f256		       18		      clc
   8363  f257		       75 54		      adc	sfx1poffset,x	; take into account any pitch modification
   8364  f259		       95 17		      sta	AUDF0,x
   8365  f25b		       c8		      iny
   8366  f25c		       b1 dc		      lda	(inttemp5),y
   8367  f25e		       95 15		      sta	AUDC0,x
   8368  f260		       85 d9		      sta	inttemp2
   8369  f262		       c8		      iny
   8370  f263				   sfxvolumeentrypt
   8371  f263				  -	      ifconst	TIAVOLUME
   8372  f263				  -	      lda	tiavolume
   8373  f263				  -	      asl
   8374  f263				  -	      asl
   8375  f263				  -	      asl
   8376  f263				  -	      asl
   8377  f263				  -	      sta	fourbitfadevalueint
   8378  f263					      endif		; TIAVOLUME
   8379  f263		       b1 dc		      lda	(inttemp5),y
   8380  f265				  -	      ifconst	TIAVOLUME
   8381  f265				  -	      jsr	fourbitfadeint
   8382  f265					      endif		; TIAVOLUME
   8383  f265		       95 19		      sta	AUDV0,x
   8384  f267		       c9 10		      cmp	#$10
   8385  f269		       b0 19		      bcs	sfxsoundloop	; AUDV0>$0F means the sound is looped while priority is active
   8386  f26b
   8387  f26b		       05 d9		      ora	inttemp2
   8388  f26d		       05 d8		      ora	inttemp1	; check if F|C|V=0
   8389  f26f		       f0 23		      beq	zerosfx	; if so, we're at the end of the sound.
   8390  f271
   8391  f271				   advancesfxpointer
   8392  f271							; advance the pointer to the next sound chunk
   8393  f271		       c8		      iny
   8394  f272		       84 da		      sty	inttemp3
   8395  f274		       18		      clc
   8396  f275		       b5 4e		      lda	sfx1pointlo,x
   8397  f277		       65 da		      adc	inttemp3
   8398  f279		       95 4e		      sta	sfx1pointlo,x
   8399  f27b		       b5 50		      lda	sfx1pointhi,x
   8400  f27d		       69 00		      adc	#0
   8401  f27f		       95 50		      sta	sfx1pointhi,x
   8402  f281		       4c 05 f2 	      jmp	servicesfxchannelsloop
   8403  f284
   8404  f284				   sfxsoundloop
   8405  f284		       48		      pha
   8406  f285		       b5 52		      lda	sfx1priority,x
   8407  f287		       d0 04		      bne	sfxsoundloop_carryon
   8408  f289		       68		      pla		; fix the stack before we go
   8409  f28a		       4c 71 f2 	      jmp	advancesfxpointer
   8410  f28d				   sfxsoundloop_carryon
   8411  f28d		       68		      pla
   8412  f28e		       29 f0		      and	#$F0
   8413  f290		       4a		      lsr
   8414  f291		       4a		      lsr
   8415  f292		       4a		      lsr
   8416  f293		       4a		      lsr
   8417  f294
   8418  f294				   zerosfx
   8419  f294		       95 4e		      sta	sfx1pointlo,x
   8420  f296		       95 50		      sta	sfx1pointhi,x
   8421  f298		       95 52		      sta	sfx1priority,x
   8422  f29a		       4c 05 f2 	      jmp	servicesfxchannelsloop
   8423  f29d
   8424  f29d
   8425  f29d				   schedulesfx
   8426  f29d							; called with sfxinstrumentlo=<data sfxinstrumenthi=>data sfxpitchoffset=pitch-offset sfxnoteindex=note index
   8427  f29d		       a0 00		      ldy	#0
   8428  f29f				  -	      ifconst	pokeysupport
   8429  f29f				  -	      lda	sfxinstrumenthi
   8430  f29f				  -	      beq	scheduletiasfx	; drums have undefined instrument
   8431  f29f				  -	      lda	(sfxinstrumentlo),y
   8432  f29f				  -	      cmp	#$20	; POKEY?
   8433  f29f				  -	      bne	scheduletiasfx
   8434  f29f				  -	      jmp	schedulepokeysfx
   8435  f29f					      endif
   8436  f29f				   scheduletiasfx
   8437  f29f							;cmp #$10 ; TIA?
   8438  f29f							;beq continuescheduletiasfx
   8439  f29f							; rts ; unhandled!!!
   8440  f29f				   continuescheduletiasfx
   8441  f29f					      ifnconst	TIASFXMONO
   8442  f29f		       a5 50		      lda	sfx1pointhi
   8443  f2a1		       f0 15		      beq	schedulesfx1	;if channel 1 is idle, use it
   8444  f2a3		       a5 51		      lda	sfx2pointhi
   8445  f2a5		       f0 15		      beq	schedulesfx2	;if channel 2 is idle, use it
   8446  f2a7							; Both channels are scheduled.
   8447  f2a7		       a5 e1		      lda	sfxinstrumenthi
   8448  f2a9		       f0 06		      beq	skipscheduledrums
   8449  f2ab		       a0 01		      ldy	#1
   8450  f2ad		       b1 e0		      lda	(sfxinstrumentlo),y
   8451  f2af		       d0 01		      bne	interruptsfx
   8452  f2b1				   skipscheduledrums
   8453  f2b1		       60		      rts		; the new sound has 0 priority and both channels are busy. Skip playing it.
   8454  f2b2				   interruptsfx
   8455  f2b2							;Compare which active sound has a lower priority. We'll interrupt the lower one.
   8456  f2b2		       a5 52		      lda	sfx1priority
   8457  f2b4		       c5 53		      cmp	sfx2priority
   8458  f2b6		       b0 04		      bcs	schedulesfx2
   8459  f2b8					      endif		; !TIASFXMONO
   8460  f2b8
   8461  f2b8				   schedulesfx1
   8462  f2b8		       a2 00		      ldx	#0	; channel 1
   8463  f2ba					      ifnconst	TIASFXMONO
   8464  f2ba		       f0 02		      beq	skipschedulesfx2
   8465  f2bc				   schedulesfx2
   8466  f2bc		       a2 01		      ldx	#1	; channel 2
   8467  f2be				   skipschedulesfx2
   8468  f2be					      endif		; !TIASFXMONO
   8469  f2be
   8470  f2be				  -	      ifconst	MUSICTRACKER
   8471  f2be				  -	      lda	sfxnoteindex
   8472  f2be				  -	      bpl	skipdrumkitoverride
   8473  f2be				  -	      and	#$7F	; subtract 128
   8474  f2be				  -	      sec
   8475  f2be				  -	      sbc	#4	; drums start at 132, i.e. octave 10
   8476  f2be				  -	      asl
   8477  f2be				  -	      tay
   8478  f2be				  -	      lda	tiadrumkitdefinition,y
   8479  f2be				  -	      sta	sfxinstrumentlo
   8480  f2be				  -	      iny
   8481  f2be				  -	      lda	tiadrumkitdefinition,y
   8482  f2be				  -	      sta	sfxinstrumenthi
   8483  f2be				  -	      lda	#0
   8484  f2be				  -	      sta	sfxnoteindex	; and tell the driver it's a non-pitched instrument
   8485  f2be				  -skipdrumkitoverride
   8486  f2be					      endif		; MUSICTRACKER
   8487  f2be		       a0 01		      ldy	#1	; get priority and sound-resolution (in frames)
   8488  f2c0		       b1 e0		      lda	(sfxinstrumentlo),y
   8489  f2c2		       95 52		      sta	sfx1priority,x
   8490  f2c4		       c8		      iny
   8491  f2c5		       b1 e0		      lda	(sfxinstrumentlo),y
   8492  f2c7		       95 56		      sta	sfx1frames,x
   8493  f2c9		       a5 e0		      lda	sfxinstrumentlo
   8494  f2cb		       18		      clc
   8495  f2cc		       69 03		      adc	#3
   8496  f2ce		       95 4e		      sta	sfx1pointlo,x
   8497  f2d0		       a5 e1		      lda	sfxinstrumenthi
   8498  f2d2		       69 00		      adc	#0
   8499  f2d4		       95 50		      sta	sfx1pointhi,x
   8500  f2d6		       a5 e2		      lda	sfxpitchoffset
   8501  f2d8		       95 54		      sta	sfx1poffset,x
   8502  f2da		       a9 00		      lda	#0
   8503  f2dc		       95 58		      sta	sfx1tick,x
   8504  f2de		       a5 e3		      lda	sfxnoteindex
   8505  f2e0		       95 cd		      sta	sfx1notedata,x
   8506  f2e2		       60		      rts
   8507  f2e3
   8508  f2e3				   plotsprite
   8509  f2e3					      ifnconst	NODRAWWAIT
   8510  f2e3				  -	      ifconst	DOUBLEBUFFER
   8511  f2e3				  -	      lda	doublebufferstate
   8512  f2e3				  -	      bne	skipplotspritewait
   8513  f2e3					      endif		; DOUBLEBUFFER
   8514  f2e3				  -	      ifconst	DEBUGWAITCOLOR
   8515  f2e3				  -	      lda	#$41
   8516  f2e3				  -	      sta	BACKGRND
   8517  f2e3					      endif
   8518  f2e3				   plotspritewait
   8519  f2e3		       a5 4d		      lda	visibleover
   8520  f2e5		       d0 fc		      bne	plotspritewait
   8521  f2e7				   skipplotspritewait
   8522  f2e7				  -	      ifconst	DEBUGWAITCOLOR
   8523  f2e7				  -	      lda	#$0
   8524  f2e7				  -	      sta	BACKGRND
   8525  f2e7					      endif
   8526  f2e7					      endif
   8527  f2e7
   8528  f2e7							;arguments:
   8529  f2e7							; temp1=lo graphicdata
   8530  f2e7							; temp2=hi graphicdata
   8531  f2e7							; temp3=palette | width byte
   8532  f2e7							; temp4=x
   8533  f2e7							; temp5=y
   8534  f2e7							; temp6=mode
   8535  f2e7		       a5 46		      lda	temp5	;Y position
   8536  f2e9		       4a		      lsr		; 2 - Divide by 8 or 16
   8537  f2ea		       4a		      lsr		; 2
   8538  f2eb		       4a		      lsr		; 2
   8539  f2ec					      if	WZONEHEIGHT = 16
   8540  f2ec		       4a		      lsr		; 2
   8541  f2ed					      endif
   8542  f2ed
   8543  f2ed		       aa		      tax
   8544  f2ee
   8545  f2ee					      ifnconst	NOLIMITCHECKING
   8546  f2ee
   8547  f2ee							; the next block allows for vertical masking, and ensures we don't overwrite non-DL memory
   8548  f2ee
   8549  f2ee		       c9 0c		      cmp	#WZONECOUNT
   8550  f2f0
   8551  f2f0		       90 0a		      bcc	continueplotsprite1	; the sprite is fully on-screen, so carry on...
   8552  f2f2							; otherwise, check to see if the bottom half is in zone 0...
   8553  f2f2
   8554  f2f2					      if	WZONEHEIGHT = 16
   8555  f2f2		       c9 0f		      cmp	#15
   8556  f2f4				  -	      else
   8557  f2f4				  -	      cmp	#31
   8558  f2f4					      endif
   8559  f2f4
   8560  f2f4		       d0 05		      bne	exitplotsprite1
   8561  f2f6		       a2 00		      ldx	#0
   8562  f2f8		       4c 31 f3 	      jmp	continueplotsprite2
   8563  f2fb				   exitplotsprite1
   8564  f2fb		       60		      rts
   8565  f2fc
   8566  f2fc				   continueplotsprite1
   8567  f2fc					      endif
   8568  f2fc
   8569  f2fc				  -	      ifconst	VSCROLL
   8570  f2fc				  -	      ldy	Xx3,x
   8571  f2fc				  -	      lda	DLLMEM+11,y
   8572  f2fc					      else		; !VSCROLL
   8573  f2fc		       bd 14 f5 	      lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
   8574  f2ff					      endif		; !VSCROLL
   8575  f2ff				  -	      ifconst	DOUBLEBUFFER
   8576  f2ff				  -	      clc
   8577  f2ff				  -	      adc	doublebufferdloffset
   8578  f2ff					      endif		; DOUBLEBUFFER
   8579  f2ff		       85 63		      sta	dlpnt
   8580  f301				  -	      ifconst	VSCROLL
   8581  f301				  -	      lda	DLLMEM+10,y
   8582  f301					      else		; !VSCROLL
   8583  f301		       bd 08 f5 	      lda	DLPOINTH,x
   8584  f304					      endif		; !VSCROLL
   8585  f304				  -	      ifconst	DOUBLEBUFFER
   8586  f304				  -	      adc	#0
   8587  f304					      endif		; DOUBLEBUFFER
   8588  f304		       85 64		      sta	dlpnt+1
   8589  f306
   8590  f306							;Create DL entry for upper part of sprite
   8591  f306
   8592  f306		       b4 65		      ldy	dlend,x	;Get the index to the end of this DL
   8593  f308
   8594  f308				  -	      ifconst	CHECKOVERWRITE
   8595  f308				  -	      cpy	#DLLASTOBJ
   8596  f308				  -	      beq	checkcontinueplotsprite2
   8597  f308				  -continueplotsprite1a
   8598  f308					      endif
   8599  f308
   8600  f308		       a5 42		      lda	temp1	; graphic data, lo byte
   8601  f30a		       91 63		      sta	(dlpnt),y	;Low byte of data address
   8602  f30c
   8603  f30c					      ifnconst	ATOMICSPRITEUPDATE
   8604  f30c		       c8		      iny
   8605  f30d		       a5 47		      lda	temp6
   8606  f30f		       91 63		      sta	(dlpnt),y
   8607  f311				  -	      else
   8608  f311				  -	      iny
   8609  f311				  -	      sty	temp8
   8610  f311					      endif
   8611  f311
   8612  f311		       c8		      iny
   8613  f312
   8614  f312		       a5 46		      lda	temp5	;Y position
   8615  f314		       29 0f		      and	#(WZONEHEIGHT - 1)
   8616  f316		       c9 01		      cmp	#1	; clear carry if our sprite is just in this zone
   8617  f318		       05 43		      ora	temp2	; graphic data, hi byte
   8618  f31a		       91 63		      sta	(dlpnt),y
   8619  f31c
   8620  f31c		       c8		      iny
   8621  f31d		       a5 44		      lda	temp3	;palette|width
   8622  f31f		       91 63		      sta	(dlpnt),y
   8623  f321
   8624  f321		       c8		      iny
   8625  f322		       a5 45		      lda	temp4	;Horizontal position
   8626  f324		       91 63		      sta	(dlpnt),y
   8627  f326
   8628  f326		       c8		      iny
   8629  f327		       94 65		      sty	dlend,x
   8630  f329
   8631  f329				  -	      ifconst	ALWAYSTERMINATE
   8632  f329				  -	      iny
   8633  f329				  -	      lda	#0
   8634  f329				  -	      sta	(dlpnt),y
   8635  f329					      endif
   8636  f329
   8637  f329				  -	      ifconst	ATOMICSPRITEUPDATE
   8638  f329				  -	      ldy	temp8
   8639  f329				  -	      lda	temp6
   8640  f329				  -	      sta	(dlpnt),y
   8641  f329					      endif
   8642  f329
   8643  f329				   checkcontinueplotsprite2
   8644  f329
   8645  f329		       90 33		      bcc	doneSPDL	;branch if the sprite was fully in the last zone
   8646  f32b
   8647  f32b							;Create DL entry for lower part of sprite
   8648  f32b
   8649  f32b		       e8		      inx		;Next region
   8650  f32c
   8651  f32c					      ifnconst	NOLIMITCHECKING
   8652  f32c		       e0 0c		      cpx	#WZONECOUNT
   8653  f32e
   8654  f32e		       90 01		      bcc	continueplotsprite2	; the second half of the sprite is fully on-screen, so carry on...
   8655  f330		       60		      rts
   8656  f331				   continueplotsprite2
   8657  f331					      endif
   8658  f331
   8659  f331				  -	      ifconst	VSCROLL
   8660  f331				  -	      ldy	Xx3,x
   8661  f331				  -	      lda	DLLMEM+11,y
   8662  f331					      else		; !VSCROLL
   8663  f331		       bd 14 f5 	      lda	DLPOINTL,x	;Get pointer to next DL
   8664  f334					      endif		; !VSCROLL
   8665  f334				  -	      ifconst	DOUBLEBUFFER
   8666  f334				  -	      clc
   8667  f334				  -	      adc	doublebufferdloffset
   8668  f334					      endif		; DOUBLEBUFFER
   8669  f334		       85 63		      sta	dlpnt
   8670  f336				  -	      ifconst	VSCROLL
   8671  f336				  -	      lda	DLLMEM+10,y
   8672  f336					      else		; !VSCROLL
   8673  f336		       bd 08 f5 	      lda	DLPOINTH,x
   8674  f339					      endif		; !VSCROLL
   8675  f339				  -	      ifconst	DOUBLEBUFFER
   8676  f339				  -	      adc	#0
   8677  f339					      endif		; DOUBLEBUFFER
   8678  f339		       85 64		      sta	dlpnt+1
   8679  f33b		       b4 65		      ldy	dlend,x	;Get the index to the end of this DL
   8680  f33d
   8681  f33d				  -	      ifconst	CHECKOVERWRITE
   8682  f33d				  -	      cpy	#DLLASTOBJ
   8683  f33d				  -	      bne	continueplotsprite2a
   8684  f33d				  -	      rts
   8685  f33d				  -continueplotsprite2a
   8686  f33d					      endif
   8687  f33d
   8688  f33d		       a5 42		      lda	temp1	; graphic data, lo byte
   8689  f33f		       91 63		      sta	(dlpnt),y
   8690  f341
   8691  f341					      ifnconst	ATOMICSPRITEUPDATE
   8692  f341		       c8		      iny
   8693  f342		       a5 47		      lda	temp6
   8694  f344		       91 63		      sta	(dlpnt),y
   8695  f346				  -	      else
   8696  f346				  -	      iny
   8697  f346				  -	      sty	temp8
   8698  f346					      endif
   8699  f346
   8700  f346		       c8		      iny
   8701  f347
   8702  f347		       a5 46		      lda	temp5	;Y position
   8703  f349		       0b 0f		      anc	#(WZONEHEIGHT - 1)	; undocumented. A=A&IMM, then move bit 7 into carry
   8704  f34b		       05 43		      ora	temp2	; graphic data, hi byte
   8705  f34d		       e9 0f		      sbc	#(WZONEHEIGHT-1)	; start at the DMA hole. -1 because carry is clear
   8706  f34f		       91 63		      sta	(dlpnt),y
   8707  f351
   8708  f351		       c8		      iny
   8709  f352
   8710  f352		       a5 44		      lda	temp3	;palette|width
   8711  f354		       91 63		      sta	(dlpnt),y
   8712  f356
   8713  f356		       c8		      iny
   8714  f357
   8715  f357		       a5 45		      lda	temp4	;Horizontal position
   8716  f359		       91 63		      sta	(dlpnt),y
   8717  f35b
   8718  f35b		       c8		      iny
   8719  f35c		       94 65		      sty	dlend,x
   8720  f35e
   8721  f35e				  -	      ifconst	ALWAYSTERMINATE
   8722  f35e				  -	      iny
   8723  f35e				  -	      lda	#0
   8724  f35e				  -	      sta	(dlpnt),y
   8725  f35e					      endif
   8726  f35e
   8727  f35e				  -	      ifconst	ATOMICSPRITEUPDATE
   8728  f35e				  -	      ldy	temp8
   8729  f35e				  -	      lda	temp6
   8730  f35e				  -	      sta	(dlpnt),y
   8731  f35e					      endif
   8732  f35e
   8733  f35e				   doneSPDL
   8734  f35e		       60		      rts
   8735  f35f
   8736  f35f				  -	      ifconst	VSCROLL
   8737  f35f				  -			; x3 table for fast DLL parsing
   8738  f35f				  -Xx3
   8739  f35f				  -	      .byte	0,3,6,9,12,15,18,21,24,27
   8740  f35f				  -	      .byte	30,33,36,39,42,45,48,51,54,57
   8741  f35f				  -	      .byte	60,63,66,69,72,75,78,81,84,87
   8742  f35f				  -maskscrollsprite
   8743  f35f				  -	      .byte	$00,%11000000,($D0+WZONEHEIGHT),0,160	; 5*2 + 32*3 = 106 cycles
   8744  f35f				  -	      .byte	$00,1,($D0+WZONEHEIGHT),160	; 4*2 + 31*3 = 101 cycles
   8745  f35f				  -	      .byte	$00,1,($D0+WZONEHEIGHT),160	; 4*2 + 31*3 = 101 cycles
   8746  f35f				  -	      .byte	$00,1,($D0+WZONEHEIGHT),160	; 4*2 + 31*3 = 101 cycles
   8747  f35f				  -	      .byte	$00,%01000000,($D0+WZONEHEIGHT),16,160	; 5*2 + 16*3 =  58 cycles
   8748  f35f				  -			; MAX	============ 467 cycles
   8749  f35f				  -			; MIN	============  59 cycles
   8750  f35f				  -maskscrollspriteend
   8751  f35f					      endif		; VSCROLL
   8752  f35f
   8753  f35f				   lockzonex
   8754  f35f				  -	      ifconst	ZONELOCKS
   8755  f35f				  -	      ldy	dlend,x
   8756  f35f				  -	      cpy	#DLLASTOBJ
   8757  f35f				  -	      beq	lockzonexreturn	; the zone is either stuffed or locked. abort!
   8758  f35f				  -	      lda	DLPOINTL,x
   8759  f35f				  -	      ifconst	DOUBLEBUFFER
   8760  f35f				  -	      clc
   8761  f35f				  -	      adc	doublebufferdloffset
   8762  f35f				  -	      endif		; DOUBLEBUFFER
   8763  f35f				  -	      sta	dlpnt
   8764  f35f				  -	      lda	DLPOINTH,x
   8765  f35f				  -	      ifconst	DOUBLEBUFFER
   8766  f35f				  -	      adc	#0
   8767  f35f				  -	      endif		; DOUBLEBUFFER
   8768  f35f				  -	      sta	dlpnt+1
   8769  f35f				  -	      iny
   8770  f35f				  -	      lda	#0
   8771  f35f				  -	      sta	(dlpnt),y
   8772  f35f				  -	      dey
   8773  f35f				  -	      tya
   8774  f35f				  -	      ldy	#(DLLASTOBJ-1)
   8775  f35f				  -	      sta	(dlpnt),y
   8776  f35f				  -	      iny
   8777  f35f				  -	      sty	dlend,x
   8778  f35f				  -lockzonexreturn
   8779  f35f				  -	      rts
   8780  f35f					      endif		; ZONELOCKS
   8781  f35f				   unlockzonex
   8782  f35f				  -	      ifconst	ZONELOCKS
   8783  f35f				  -	      ldy	dlend,x
   8784  f35f				  -	      cpy	#DLLASTOBJ
   8785  f35f				  -	      bne	unlockzonexreturn	; if the zone isn't stuffed, it's not locked. abort!
   8786  f35f				  -	      lda	DLPOINTL,x
   8787  f35f				  -	      ifconst	DOUBLEBUFFER
   8788  f35f				  -	      clc
   8789  f35f				  -	      adc	doublebufferdloffset
   8790  f35f				  -	      endif		; DOUBLEBUFFER
   8791  f35f				  -	      sta	dlpnt
   8792  f35f				  -	      lda	DLPOINTH,x
   8793  f35f				  -	      ifconst	DOUBLEBUFFER
   8794  f35f				  -	      adc	#0
   8795  f35f				  -	      endif		; DOUBLEBUFFER
   8796  f35f				  -	      sta	dlpnt+1
   8797  f35f				  -	      dey
   8798  f35f				  -	      lda	(dlpnt),y
   8799  f35f				  -	      tay
   8800  f35f				  -	      sty	dlend,x
   8801  f35f				  -unlockzonexreturn
   8802  f35f					      endif		; ZONELOCKS
   8803  f35f		       60		      rts
   8804  f360
   8805  f360				   plotcharloop
   8806  f360							; ** read from a data indirectly pointed to from temp8,temp9
   8807  f360							; ** format is: lo_data, hi_data, palette|width, x, y
   8808  f360							; ** format ends with lo_data | hi_data = 0
   8809  f360
   8810  f360				  -	      ifconst	DOUBLEBUFFER
   8811  f360				  -	      lda	doublebufferstate
   8812  f360				  -	      bne	skipplotcharloopwait
   8813  f360					      endif		; DOUBLEBUFFER
   8814  f360				  -	      ifconst	DEBUGWAITCOLOR
   8815  f360				  -	      lda	#$61
   8816  f360				  -	      sta	BACKGRND
   8817  f360					      endif
   8818  f360				   plotcharloopwait
   8819  f360		       a5 4d		      lda	visibleover
   8820  f362		       d0 fc		      bne	plotcharloopwait
   8821  f364				  -	      ifconst	DEBUGWAITCOLOR
   8822  f364				  -	      lda	#0
   8823  f364				  -	      sta	BACKGRND
   8824  f364					      endif
   8825  f364				   skipplotcharloopwait
   8826  f364				   plotcharlooploop
   8827  f364		       a0 00		      ldy	#0
   8828  f366		       b1 49		      lda	(temp8),y
   8829  f368		       85 42		      sta	temp1
   8830  f36a		       c8		      iny
   8831  f36b		       b1 49		      lda	(temp8),y
   8832  f36d		       85 43		      sta	temp2
   8833  f36f		       05 42		      ora	temp1
   8834  f371		       d0 01		      bne	plotcharloopcontinue
   8835  f373							;the pointer=0, so return
   8836  f373		       60		      rts
   8837  f374				   plotcharloopcontinue
   8838  f374		       c8		      iny
   8839  f375		       b1 49		      lda	(temp8),y
   8840  f377		       85 44		      sta	temp3
   8841  f379		       c8		      iny
   8842  f37a		       b1 49		      lda	(temp8),y
   8843  f37c		       85 45		      sta	temp4
   8844  f37e		       c8		      iny
   8845  f37f		       b1 49		      lda	(temp8),y
   8846  f381							;sta temp5 ; not needed with our late entry.
   8847  f381		       20 9a f3 	      jsr	plotcharactersskipentry
   8848  f384		       a5 49		      lda	temp8
   8849  f386		       18		      clc
   8850  f387		       69 05		      adc	#5
   8851  f389		       85 49		      sta	temp8
   8852  f38b		       a5 4a		      lda	temp9
   8853  f38d		       69 00		      adc	#0
   8854  f38f		       85 4a		      sta	temp9
   8855  f391		       4c 64 f3 	      jmp	plotcharlooploop
   8856  f394
   8857  f394				   plotcharacters
   8858  f394				  -	      ifconst	DOUBLEBUFFER
   8859  f394				  -	      lda	doublebufferstate
   8860  f394				  -	      bne	skipplotcharacterswait
   8861  f394					      endif		; DOUBLEBUFFER
   8862  f394				  -	      ifconst	DEBUGWAITCOLOR
   8863  f394				  -	      lda	#$41
   8864  f394				  -	      sta	BACKGRND
   8865  f394					      endif
   8866  f394				   plotcharacterswait
   8867  f394		       a5 4d		      lda	visibleover
   8868  f396		       d0 fc		      bne	plotcharacterswait
   8869  f398				  -	      ifconst	DEBUGWAITCOLOR
   8870  f398				  -	      sta	BACKGRND
   8871  f398					      endif
   8872  f398				   skipplotcharacterswait
   8873  f398							;arguments:
   8874  f398							; temp1=lo charactermap
   8875  f398							; temp2=hi charactermap
   8876  f398							; temp3=palette | width byte
   8877  f398							; temp4=x
   8878  f398							; temp5=y
   8879  f398
   8880  f398		       a5 46		      lda	temp5	;Y position
   8881  f39a
   8882  f39a				   plotcharactersskipentry
   8883  f39a
   8884  f39a							;ifconst ZONEHEIGHT
   8885  f39a							; if ZONEHEIGHT = 16
   8886  f39a							; and #$0F
   8887  f39a							; endif
   8888  f39a							; if ZONEHEIGHT = 8
   8889  f39a							; and #$1F
   8890  f39a							; endif
   8891  f39a							;else
   8892  f39a							; and #$0F
   8893  f39a							;endif
   8894  f39a
   8895  f39a		       aa		      tax
   8896  f39b
   8897  f39b				  -	      ifconst	VSCROLL
   8898  f39b				  -	      ldy	Xx3,x
   8899  f39b				  -	      lda	DLLMEM+11,y
   8900  f39b					      else		; !VSCROLL
   8901  f39b		       bd 14 f5 	      lda	DLPOINTL,x	;Get pointer to DL that the characters are in
   8902  f39e					      endif		; !VSCROLL
   8903  f39e				  -	      ifconst	DOUBLEBUFFER
   8904  f39e				  -	      clc
   8905  f39e				  -	      adc	doublebufferdloffset
   8906  f39e					      endif		; DOUBLEBUFFER
   8907  f39e		       85 63		      sta	dlpnt
   8908  f3a0				  -	      ifconst	VSCROLL
   8909  f3a0				  -	      lda	DLLMEM+10,y
   8910  f3a0					      else		; !VSCROLL
   8911  f3a0		       bd 08 f5 	      lda	DLPOINTH,x
   8912  f3a3					      endif		; !VSCROLL
   8913  f3a3				  -	      ifconst	DOUBLEBUFFER
   8914  f3a3				  -	      adc	#0
   8915  f3a3					      endif		; DOUBLEBUFFER
   8916  f3a3		       85 64		      sta	dlpnt+1
   8917  f3a5
   8918  f3a5							;Create DL entry for the characters
   8919  f3a5
   8920  f3a5		       b4 65		      ldy	dlend,x	;Get the index to the end of this DL
   8921  f3a7
   8922  f3a7				  -	      ifconst	CHECKOVERWRITE
   8923  f3a7				  -	      cpy	#DLLASTOBJ
   8924  f3a7				  -	      bne	continueplotcharacters
   8925  f3a7				  -	      rts
   8926  f3a7				  -continueplotcharacters
   8927  f3a7					      endif
   8928  f3a7
   8929  f3a7		       a5 42		      lda	temp1	; character map data, lo byte
   8930  f3a9		       91 63		      sta	(dlpnt),y	;(1) store low address
   8931  f3ab
   8932  f3ab		       c8		      iny
   8933  f3ac		       ad 06 21 	      lda	charactermode
   8934  f3af		       91 63		      sta	(dlpnt),y	;(2) store mode
   8935  f3b1
   8936  f3b1		       c8		      iny
   8937  f3b2		       a5 43		      lda	temp2	; character map, hi byte
   8938  f3b4		       91 63		      sta	(dlpnt),y	;(3) store high address
   8939  f3b6
   8940  f3b6		       c8		      iny
   8941  f3b7		       a5 44		      lda	temp3	;palette|width
   8942  f3b9		       91 63		      sta	(dlpnt),y	;(4) store palette|width
   8943  f3bb
   8944  f3bb		       c8		      iny
   8945  f3bc		       a5 45		      lda	temp4	;Horizontal position
   8946  f3be		       91 63		      sta	(dlpnt),y	;(5) store horizontal position
   8947  f3c0
   8948  f3c0		       c8		      iny
   8949  f3c1		       94 65		      sty	dlend,x	; save display list end byte
   8950  f3c3		       60		      rts
   8951  f3c4
   8952  f3c4
   8953  f3c4				  -	      ifconst	plotvalueonscreen
   8954  f3c4				  -plotcharacterslive
   8955  f3c4				  -			; a version of plotcharacters that draws live and minimally disrupts the screen...
   8956  f3c4				  -
   8957  f3c4				  -			;arguments:
   8958  f3c4				  -			; temp1=lo charactermap
   8959  f3c4				  -			; temp2=hi charactermap
   8960  f3c4				  -			; temp3=palette | width byte
   8961  f3c4				  -			; temp4=x
   8962  f3c4				  -			; temp5=y
   8963  f3c4				  -
   8964  f3c4				  -	      lda	temp5	;Y position
   8965  f3c4				  -
   8966  f3c4				  -	      tax
   8967  f3c4				  -
   8968  f3c4				  -	      ifconst	VSCROLL
   8969  f3c4				  -	      ldy	Xx3,x
   8970  f3c4				  -	      lda	DLLMEM+11,y
   8971  f3c4				  -	      else		; !VSCROLL
   8972  f3c4				  -	      lda	DLPOINTL,x	;Get pointer to DL that the characters are in
   8973  f3c4				  -	      endif		; !VSCROLL
   8974  f3c4				  -	      ifconst	DOUBLEBUFFER
   8975  f3c4				  -	      clc
   8976  f3c4				  -	      adc	doublebufferdloffset
   8977  f3c4				  -	      endif		; DOUBLEBUFFER
   8978  f3c4				  -	      sta	dlpnt
   8979  f3c4				  -	      ifconst	VSCROLL
   8980  f3c4				  -	      lda	DLLMEM+10,y
   8981  f3c4				  -	      else		; !VSCROLL
   8982  f3c4				  -	      lda	DLPOINTH,x
   8983  f3c4				  -	      endif		; !VSCROLL
   8984  f3c4				  -	      ifconst	DOUBLEBUFFER
   8985  f3c4				  -	      adc	#0
   8986  f3c4				  -	      endif		; DOUBLEBUFFER
   8987  f3c4				  -	      sta	dlpnt+1
   8988  f3c4				  -
   8989  f3c4				  -			;Create DL entry for the characters
   8990  f3c4				  -
   8991  f3c4				  -	      ldy	dlend,x	;Get the index to the end of this DL
   8992  f3c4				  -
   8993  f3c4				  -	      ifconst	CHECKOVERWRITE
   8994  f3c4				  -	      cpy	#DLLASTOBJ
   8995  f3c4				  -	      bne	continueplotcharacterslive
   8996  f3c4				  -	      rts
   8997  f3c4				  -continueplotcharacterslive
   8998  f3c4				  -	      endif
   8999  f3c4				  -
   9000  f3c4				  -	      lda	temp1	; character map data, lo byte
   9001  f3c4				  -	      sta	(dlpnt),y	;(1) store low address
   9002  f3c4				  -
   9003  f3c4				  -	      iny
   9004  f3c4				  -			; we don't add the second byte yet, since the charmap could briefly
   9005  f3c4				  -			; render without a proper character map address, width, or position.
   9006  f3c4				  -	      lda	charactermode
   9007  f3c4				  -	      sta	(dlpnt),y	;(2) store mode
   9008  f3c4				  -
   9009  f3c4				  -	      iny
   9010  f3c4				  -	      lda	temp2	; character map, hi byte
   9011  f3c4				  -	      sta	(dlpnt),y	;(3) store high address
   9012  f3c4				  -
   9013  f3c4				  -	      iny
   9014  f3c4				  -	      lda	temp3	;palette|width
   9015  f3c4				  -	      sta	(dlpnt),y	;(4) store palette|width
   9016  f3c4				  -
   9017  f3c4				  -	      iny
   9018  f3c4				  -	      lda	temp4	;Horizontal position
   9019  f3c4				  -	      sta	(dlpnt),y	;(5) store horizontal position
   9020  f3c4				  -
   9021  f3c4				  -	      iny
   9022  f3c4				  -	      sty	dlend,x	; save display list end byte
   9023  f3c4				  -
   9024  f3c4				  -	      rts
   9025  f3c4					      endif		;plotcharacterslive
   9026  f3c4
   9027  f3c4				  -	      ifconst	USED_PLOTVALUE
   9028  f3c4				  -plotvalue
   9029  f3c4				  -			; calling 7800basic command:
   9030  f3c4				  -			; plotvalue digit_gfx palette variable/data number_of_digits screen_x screen_y
   9031  f3c4				  -			; ...displays the variable as BCD digits
   9032  f3c4				  -			;
   9033  f3c4				  -			; asm sub arguments:
   9034  f3c4				  -			; temp1=lo charactermap
   9035  f3c4				  -			; temp2=hi charactermap
   9036  f3c4				  -			; temp3=palette | width byte
   9037  f3c4				  -			; temp4=x
   9038  f3c4				  -			; temp5=y
   9039  f3c4				  -			; temp6=number of digits
   9040  f3c4				  -			; temp7=lo variable
   9041  f3c4				  -			; temp8=hi variable
   9042  f3c4				  -			; temp9=character mode
   9043  f3c4				  -
   9044  f3c4				  -plotdigitcount =	temp6
   9045  f3c4				  -
   9046  f3c4				  -	      ifconst	ZONELOCKS
   9047  f3c4				  -	      ldx	temp5
   9048  f3c4				  -	      ldy	dlend,x
   9049  f3c4				  -	      cpy	#DLLASTOBJ
   9050  f3c4				  -	      bne	carryonplotvalue
   9051  f3c4				  -	      rts
   9052  f3c4				  -carryonplotvalue
   9053  f3c4				  -	      endif
   9054  f3c4				  -
   9055  f3c4				  -	      lda	#0
   9056  f3c4				  -	      tay
   9057  f3c4				  -	      ldx	valbufend
   9058  f3c4				  -
   9059  f3c4				  -	      lda	plotdigitcount
   9060  f3c4				  -	      and	#1
   9061  f3c4				  -	      beq	pvnibble2char
   9062  f3c4				  -	      lda	#0
   9063  f3c4				  -	      sta	VALBUFFER,x	; just in case we skip this digit
   9064  f3c4				  -	      beq	pvnibble2char_skipnibble
   9065  f3c4				  -
   9066  f3c4				  -pvnibble2char
   9067  f3c4				  -			; high nibble...
   9068  f3c4				  -	      lda	(temp7),y
   9069  f3c4				  -	      and	#$f0
   9070  f3c4				  -	      lsr
   9071  f3c4				  -	      lsr
   9072  f3c4				  -	      lsr
   9073  f3c4				  -	      ifnconst	DOUBLEWIDE	; multiply value by 2 for double-width
   9074  f3c4				  -	      lsr
   9075  f3c4				  -	      endif
   9076  f3c4				  -
   9077  f3c4				  -	      clc
   9078  f3c4				  -	      adc	temp1	; add the offset to character graphics to our value
   9079  f3c4				  -	      sta	VALBUFFER,x
   9080  f3c4				  -	      inx
   9081  f3c4				  -	      dec	plotdigitcount
   9082  f3c4				  -
   9083  f3c4				  -pvnibble2char_skipnibble
   9084  f3c4				  -			; low nibble...
   9085  f3c4				  -	      lda	(temp7),y
   9086  f3c4				  -	      and	#$0f
   9087  f3c4				  -	      ifconst	DOUBLEWIDE	; multiply value by 2 for double-width
   9088  f3c4				  -	      asl
   9089  f3c4				  -	      endif
   9090  f3c4				  -	      clc
   9091  f3c4				  -	      adc	temp1	; add the offset to character graphics to our value
   9092  f3c4				  -	      sta	VALBUFFER,x
   9093  f3c4				  -	      inx
   9094  f3c4				  -	      iny
   9095  f3c4				  -
   9096  f3c4				  -	      dec	plotdigitcount
   9097  f3c4				  -	      bne	pvnibble2char
   9098  f3c4				  -
   9099  f3c4				  -			;point to the start of our valuebuffer
   9100  f3c4				  -	      clc
   9101  f3c4				  -	      lda	#<VALBUFFER
   9102  f3c4				  -	      adc	valbufend
   9103  f3c4				  -	      sta	temp1
   9104  f3c4				  -	      lda	#>VALBUFFER
   9105  f3c4				  -	      adc	#0
   9106  f3c4				  -	      sta	temp2
   9107  f3c4				  -
   9108  f3c4				  -			;advance valbufend to the end of our value buffer
   9109  f3c4				  -	      stx	valbufend
   9110  f3c4				  -
   9111  f3c4				  -	      ifnconst	plotvalueonscreen
   9112  f3c4				  -	      jmp	plotcharacters
   9113  f3c4				  -	      else
   9114  f3c4				  -	      jmp	plotcharacterslive
   9115  f3c4				  -	      endif
   9116  f3c4				  -
   9117  f3c4					      endif		; USED_PLOTVALUE
   9118  f3c4
   9119  f3c4
   9120  f3c4				  -	      ifconst	USED_PLOTVALUEEXTRA
   9121  f3c4				  -plotdigitcount =	temp6
   9122  f3c4				  -plotvalueextra
   9123  f3c4				  -			; calling 7800basic command:
   9124  f3c4				  -			; plotvalue digit_gfx palette variable/data number_of_digits screen_x screen_y
   9125  f3c4				  -			; ...displays the variable as BCD digits
   9126  f3c4				  -			;
   9127  f3c4				  -			; asm sub arguments:
   9128  f3c4				  -			; temp1=lo charactermap
   9129  f3c4				  -			; temp2=hi charactermap
   9130  f3c4				  -			; temp3=palette | width byte
   9131  f3c4				  -			; temp4=x
   9132  f3c4				  -			; temp5=y
   9133  f3c4				  -			; temp6=number of digits
   9134  f3c4				  -			; temp7=lo variable
   9135  f3c4				  -			; temp8=hi variable
   9136  f3c4				  -
   9137  f3c4				  -	      lda	#0
   9138  f3c4				  -	      tay
   9139  f3c4				  -	      ldx	valbufend
   9140  f3c4				  -	      ifnconst	plotvalueonscreen
   9141  f3c4				  -	      sta	VALBUFFER,x
   9142  f3c4				  -	      endif
   9143  f3c4				  -
   9144  f3c4				  -	      lda	plotdigitcount
   9145  f3c4				  -	      and	#1
   9146  f3c4				  -
   9147  f3c4				  -	      bne	pvnibble2char_skipnibbleextra
   9148  f3c4				  -
   9149  f3c4				  -pvnibble2charextra
   9150  f3c4				  -			; high nibble...
   9151  f3c4				  -	      lda	(temp7),y
   9152  f3c4				  -	      and	#$f0
   9153  f3c4				  -	      lsr
   9154  f3c4				  -	      lsr
   9155  f3c4				  -	      ifnconst	DOUBLEWIDE	; multiply value by 2 for double-width
   9156  f3c4				  -	      lsr
   9157  f3c4				  -	      endif
   9158  f3c4				  -	      clc
   9159  f3c4				  -	      adc	temp1	; add the offset to character graphics to our value
   9160  f3c4				  -	      sta	VALBUFFER,x
   9161  f3c4				  -	      inx
   9162  f3c4				  -
   9163  f3c4				  -			; second half of the digit
   9164  f3c4				  -	      clc
   9165  f3c4				  -	      adc	#1
   9166  f3c4				  -	      sta	VALBUFFER,x
   9167  f3c4				  -	      inx
   9168  f3c4				  -	      dec	plotdigitcount
   9169  f3c4				  -
   9170  f3c4				  -pvnibble2char_skipnibbleextra
   9171  f3c4				  -			; low nibble...
   9172  f3c4				  -	      lda	(temp7),y
   9173  f3c4				  -	      and	#$0f
   9174  f3c4				  -	      ifconst	DOUBLEWIDE	; multiply value by 2 for double-width
   9175  f3c4				  -	      asl
   9176  f3c4				  -	      endif
   9177  f3c4				  -	      asl
   9178  f3c4				  -
   9179  f3c4				  -	      clc
   9180  f3c4				  -	      adc	temp1	; add the offset to character graphics to our value
   9181  f3c4				  -	      sta	VALBUFFER,x
   9182  f3c4				  -	      inx
   9183  f3c4				  -
   9184  f3c4				  -	      clc
   9185  f3c4				  -	      adc	#1
   9186  f3c4				  -	      sta	VALBUFFER,x
   9187  f3c4				  -	      inx
   9188  f3c4				  -	      iny
   9189  f3c4				  -
   9190  f3c4				  -	      dec	plotdigitcount
   9191  f3c4				  -	      bne	pvnibble2charextra
   9192  f3c4				  -
   9193  f3c4				  -			;point to the start of our valuebuffer
   9194  f3c4				  -	      clc
   9195  f3c4				  -	      lda	#<VALBUFFER
   9196  f3c4				  -	      adc	valbufend
   9197  f3c4				  -	      sta	temp1
   9198  f3c4				  -	      lda	#>VALBUFFER
   9199  f3c4				  -	      adc	#0
   9200  f3c4				  -	      sta	temp2
   9201  f3c4				  -
   9202  f3c4				  -			;advance valbufend to the end of our value buffer
   9203  f3c4				  -	      stx	valbufend
   9204  f3c4				  -
   9205  f3c4				  -	      ifnconst	plotvalueonscreen
   9206  f3c4				  -	      jmp	plotcharacters
   9207  f3c4				  -	      else
   9208  f3c4				  -	      jmp	plotcharacterslive
   9209  f3c4				  -	      endif
   9210  f3c4					      endif		; USED_PLOTVALUEEXTRA
   9211  f3c4
   9212  f3c4				   boxcollision
   9213  f3c4				  -	      ifconst	BOXCOLLISION
   9214  f3c4				  -			; the worst case cycle-time for the code below is 43 cycles.
   9215  f3c4				  -			; unfortunately, prior to getting here we've burned 44 cycles in argument setup. eep!
   9216  f3c4				  -
   9217  f3c4				  -			;__boxx1 = accumulator
   9218  f3c4				  -			;__boxy1 = y
   9219  f3c4				  -__boxw1    =	temp3
   9220  f3c4				  -__boxh1    =	temp4
   9221  f3c4				  -
   9222  f3c4				  -__boxx2    =	temp5
   9223  f3c4				  -__boxy2    =	temp6
   9224  f3c4				  -__boxw2    =	temp7
   9225  f3c4				  -__boxh2    =	temp8
   9226  f3c4				  -
   9227  f3c4				  -DoXCollisionCheck
   9228  f3c4				  -			;lda __boxx1 ; skipped. already in the accumulator
   9229  f3c4				  -	      cmp	__boxx2	;3
   9230  f3c4				  -	      bcs	X1isbiggerthanX2	;2/3
   9231  f3c4				  -X2isbiggerthanX1
   9232  f3c4				  -			; carry is clear
   9233  f3c4				  -	      adc	__boxw1	;3
   9234  f3c4				  -	      cmp	__boxx2	;3
   9235  f3c4				  -	      bcs	DoYCollisionCheck	;3/2
   9236  f3c4				  -	      rts		;6 - carry clear, no collision
   9237  f3c4				  -X1isbiggerthanX2
   9238  f3c4				  -	      clc		;2
   9239  f3c4				  -	      sbc	__boxw2	;3
   9240  f3c4				  -	      cmp	__boxx2	;3
   9241  f3c4				  -	      bcs	noboxcollision	;3/2
   9242  f3c4				  -DoYCollisionCheck
   9243  f3c4				  -	      tya		; 2 ; use to be "lda __boxy1"
   9244  f3c4				  -	      cmp	__boxy2	;3
   9245  f3c4				  -	      bcs	Y1isbiggerthanY2	;3/2
   9246  f3c4				  -Y2isbiggerthanY1
   9247  f3c4				  -			; carry is clear
   9248  f3c4				  -	      adc	__boxh1	;3
   9249  f3c4				  -	      cmp	__boxy2	;3
   9250  f3c4				  -	      rts		;6
   9251  f3c4				  -Y1isbiggerthanY2
   9252  f3c4				  -	      clc		;2
   9253  f3c4				  -	      sbc	__boxh2	;3
   9254  f3c4				  -	      cmp	__boxy2	;3
   9255  f3c4				  -	      bcs	noboxcollision	;3/2
   9256  f3c4				  -yesboxcollision
   9257  f3c4				  -	      sec		;2
   9258  f3c4				  -	      rts		;6
   9259  f3c4				  -noboxcollision
   9260  f3c4				  -	      clc		;2
   9261  f3c4				  -	      rts		;6
   9262  f3c4					      endif		; BOXCOLLISION
   9263  f3c4
   9264  f3c4				   randomize
   9265  f3c4		       a5 40		      lda	rand
   9266  f3c6		       4a		      lsr
   9267  f3c7		       26 41		      rol	rand16
   9268  f3c9		       90 02		      bcc	noeor
   9269  f3cb		       49 b4		      eor	#$B4
   9270  f3cd				   noeor
   9271  f3cd		       85 40		      sta	rand
   9272  f3cf		       45 41		      eor	rand16
   9273  f3d1		       60		      rts
   9274  f3d2
   9275  f3d2							; *** bcd conversion routine courtesy Omegamatrix
   9276  f3d2							; *** http://atariage.com/forums/blog/563/entry-10832-hex-to-bcd-conversion-0-99/
   9277  f3d2				  -	      ifconst	.calledfunction_converttobcd
   9278  f3d2				  -converttobcd
   9279  f3d2				  -			;value to convert is in the accumulator
   9280  f3d2				  -	      sta	temp1
   9281  f3d2				  -	      lsr
   9282  f3d2				  -	      adc	temp1
   9283  f3d2				  -	      ror
   9284  f3d2				  -	      lsr
   9285  f3d2				  -	      lsr
   9286  f3d2				  -	      adc	temp1
   9287  f3d2				  -	      ror
   9288  f3d2				  -	      adc	temp1
   9289  f3d2				  -	      ror
   9290  f3d2				  -	      lsr
   9291  f3d2				  -	      and	#$3C
   9292  f3d2				  -	      sta	temp2
   9293  f3d2				  -	      lsr
   9294  f3d2				  -	      adc	temp2
   9295  f3d2				  -	      adc	temp1
   9296  f3d2				  -	      rts		; return the result in the accumulator
   9297  f3d2					      endif		; .calledfunction_converttobcd
   9298  f3d2
   9299  f3d2				  -	      ifconst	.calledfunction_mul8
   9300  f3d2				  -			; Y and A contain multiplicands, result in A
   9301  f3d2				  -mul8
   9302  f3d2				  -	      sty	temp1
   9303  f3d2				  -	      sta	temp2
   9304  f3d2				  -	      lda	#0
   9305  f3d2				  -reptmul8
   9306  f3d2				  -	      lsr	temp2
   9307  f3d2				  -	      bcc	skipmul8
   9308  f3d2				  -	      clc
   9309  f3d2				  -	      adc	temp1
   9310  f3d2				  -			;bcs donemul8 might save cycles?
   9311  f3d2				  -skipmul8
   9312  f3d2				  -			;beq donemul8 might save cycles?
   9313  f3d2				  -	      asl	temp1
   9314  f3d2				  -	      bne	reptmul8
   9315  f3d2				  -donemul8
   9316  f3d2				  -	      rts
   9317  f3d2					      endif		; .calledfunction_mul8
   9318  f3d2
   9319  f3d2				  -	      ifconst	.calledfunction_div8
   9320  f3d2				  -div8
   9321  f3d2				  -			; A=numerator Y=denominator, result in A
   9322  f3d2				  -	      cpy	#2
   9323  f3d2				  -	      bcc	div8end+1	;div by 0 = bad, div by 1=no calc needed, so bail out
   9324  f3d2				  -	      sty	temp1
   9325  f3d2				  -	      ldy	#$ff
   9326  f3d2				  -div8loop
   9327  f3d2				  -	      sbc	temp1
   9328  f3d2				  -	      iny
   9329  f3d2				  -	      bcs	div8loop
   9330  f3d2				  -div8end
   9331  f3d2				  -	      tya
   9332  f3d2				  -			; result in A
   9333  f3d2				  -	      rts
   9334  f3d2					      endif		; .calledfunction_div8
   9335  f3d2
   9336  f3d2				  -	      ifconst	.calledfunction_mul16
   9337  f3d2				  -			; Y and A contain multiplicands, result in temp2,A=low, temp1=high
   9338  f3d2				  -mul16
   9339  f3d2				  -	      sty	temp1
   9340  f3d2				  -	      sta	temp2
   9341  f3d2				  -
   9342  f3d2				  -	      lda	#0
   9343  f3d2				  -	      ldx	#8
   9344  f3d2				  -	      lsr	temp1
   9345  f3d2				  -mul16_1
   9346  f3d2				  -	      bcc	mul16_2
   9347  f3d2				  -	      clc
   9348  f3d2				  -	      adc	temp2
   9349  f3d2				  -mul16_2
   9350  f3d2				  -	      ror
   9351  f3d2				  -	      ror	temp1
   9352  f3d2				  -	      dex
   9353  f3d2				  -	      bne	mul16_1
   9354  f3d2				  -	      sta	temp2
   9355  f3d2				  -	      rts
   9356  f3d2					      endif		; .calledfunction_mul16
   9357  f3d2
   9358  f3d2				  -	      ifconst	.calledfunction_div16
   9359  f3d2				  -			; div int/int
   9360  f3d2				  -			; numerator in A, denom in temp1
   9361  f3d2				  -			; returns with quotient in A, remainder in temp1
   9362  f3d2				  -div16
   9363  f3d2				  -	      sta	temp2
   9364  f3d2				  -	      sty	temp1
   9365  f3d2				  -	      lda	#0
   9366  f3d2				  -	      ldx	#8
   9367  f3d2				  -	      asl	temp2
   9368  f3d2				  -div16_1
   9369  f3d2				  -	      rol
   9370  f3d2				  -	      cmp	temp1
   9371  f3d2				  -	      bcc	div16_2
   9372  f3d2				  -	      sbc	temp1
   9373  f3d2				  -div16_2
   9374  f3d2				  -	      rol	temp2
   9375  f3d2				  -	      dex
   9376  f3d2				  -	      bne	div16_1
   9377  f3d2				  -	      sta	temp1
   9378  f3d2				  -	      lda	temp2
   9379  f3d2				  -	      rts
   9380  f3d2					      endif		; .calledfunction_div16
   9381  f3d2
   9382  f3d2				  -	      ifconst	bankswitchmode
   9383  f3d2				  -BS_jsr
   9384  f3d2				  -	      ifconst	dumpbankswitch
   9385  f3d2				  -	      sta	dumpbankswitch
   9386  f3d2				  -	      endif
   9387  f3d2				  -	      ifconst	MCPDEVCART
   9388  f3d2				  -	      ora	#$18
   9389  f3d2				  -	      sta	$3000
   9390  f3d2				  -	      else
   9391  f3d2				  -	      sta	$8000
   9392  f3d2				  -	      endif
   9393  f3d2				  -	      pla
   9394  f3d2				  -	      tax
   9395  f3d2				  -	      pla
   9396  f3d2				  -	      rts
   9397  f3d2				  -
   9398  f3d2				  -BS_return
   9399  f3d2				  -	      pla		; bankswitch bank
   9400  f3d2				  -	      ifconst	dumpbankswitch
   9401  f3d2				  -	      sta	dumpbankswitch
   9402  f3d2				  -	      endif
   9403  f3d2				  -	      ifconst	BANKRAM
   9404  f3d2				  -	      sta	currentbank
   9405  f3d2				  -	      ora	currentrambank
   9406  f3d2				  -	      endif
   9407  f3d2				  -	      ifconst	MCPDEVCART
   9408  f3d2				  -	      ora	#$18
   9409  f3d2				  -	      sta	$3000
   9410  f3d2				  -	      else
   9411  f3d2				  -	      sta	$8000
   9412  f3d2				  -	      endif
   9413  f3d2				  -	      pla		; bankswitch $0 flag
   9414  f3d2				  -	      rts
   9415  f3d2					      endif
   9416  f3d2
   9417  f3d2				   checkselectswitch
   9418  f3d2		       ad 82 02 	      lda	SWCHB	; check the real select switch...
   9419  f3d5		       29 02		      and	#%00000010
   9420  f3d7				   checkselectswitchreturn
   9421  f3d7		       60		      rts
   9422  f3d8
   9423  f3d8				   checkresetswitch
   9424  f3d8		       ad 82 02 	      lda	SWCHB	; check the real reset switch...
   9425  f3db		       29 01		      and	#%00000001
   9426  f3dd		       60		      rts
   9427  f3de
   9428  f3de				  -	      ifconst	FINESCROLLENABLED
   9429  f3de				  -finescrolldlls
   9430  f3de				  -	      ldx	temp1	; first DLL index x3
   9431  f3de				  -	      lda	DLLMEM,x
   9432  f3de				  -	      and	#%11110000
   9433  f3de				  -	      ora	finescrolly
   9434  f3de				  -	      sta	DLLMEM,x
   9435  f3de				  -
   9436  f3de				  -	      ldx	temp2	; last DLL index x3
   9437  f3de				  -	      lda	DLLMEM,x
   9438  f3de				  -	      and	#%11110000
   9439  f3de				  -	      ora	finescrolly
   9440  f3de				  -	      eor	#(WZONEHEIGHT-1)
   9441  f3de				  -	      sta	DLLMEM,x
   9442  f3de				  -	      rts
   9443  f3de					      endif		; FINESCROLLENABLED
   9444  f3de
   9445  f3de				  -	      ifconst	USED_ADJUSTVISIBLE
   9446  f3de				  -adjustvisible
   9447  f3de				  -			; called with temp1=first visible zone *3, temp2=last visible zone *3
   9448  f3de				  -	      jsr	waitforvblankstart	; ensure vblank just started
   9449  f3de				  -	      ldx	visibleDLLstart
   9450  f3de				  -findfirstinterrupt
   9451  f3de				  -	      lda	DLLMEM,x
   9452  f3de				  -	      bmi	foundfirstinterrupt
   9453  f3de				  -	      inx
   9454  f3de				  -	      inx
   9455  f3de				  -	      inx
   9456  f3de				  -	      bne	findfirstinterrupt
   9457  f3de				  -foundfirstinterrupt
   9458  f3de				  -	      and	#%01111111	; clear the interrupt bit
   9459  f3de				  -	      sta	DLLMEM,x
   9460  f3de				  -	      ifconst	DOUBLEBUFFER
   9461  f3de				  -	      sta	DLLMEM+DBOFFSET,x
   9462  f3de				  -	      endif		; DOUBLEBUFFER
   9463  f3de				  -	      ldx	overscanDLLstart
   9464  f3de				  -findlastinterrupt
   9465  f3de				  -	      lda	DLLMEM,x
   9466  f3de				  -	      bmi	foundlastinterrupt
   9467  f3de				  -	      dex
   9468  f3de				  -	      dex
   9469  f3de				  -	      dex
   9470  f3de				  -	      bne	findlastinterrupt
   9471  f3de				  -foundlastinterrupt
   9472  f3de				  -	      and	#%01111111	; clear the interrupt bit
   9473  f3de				  -	      sta	DLLMEM,x
   9474  f3de				  -	      ifconst	DOUBLEBUFFER
   9475  f3de				  -	      sta	DLLMEM+DBOFFSET,x
   9476  f3de				  -	      endif		; DOUBLEBUFFER
   9477  f3de				  -			;now we need to set the new interrupts
   9478  f3de				  -	      clc
   9479  f3de				  -	      lda	temp1
   9480  f3de				  -	      adc	visibleDLLstart
   9481  f3de				  -	      tax
   9482  f3de				  -	      lda	DLLMEM,x
   9483  f3de				  -	      ora	#%10000000
   9484  f3de				  -	      sta	DLLMEM,x
   9485  f3de				  -	      ifconst	DOUBLEBUFFER
   9486  f3de				  -	      sta	DLLMEM+DBOFFSET,x
   9487  f3de				  -	      endif		; DOUBLEBUFFER
   9488  f3de				  -	      clc
   9489  f3de				  -	      lda	temp2
   9490  f3de				  -	      adc	visibleDLLstart
   9491  f3de				  -	      tax
   9492  f3de				  -	      lda	DLLMEM,x
   9493  f3de				  -	      ora	#%10000000
   9494  f3de				  -	      sta	DLLMEM,x
   9495  f3de				  -	      ifconst	DOUBLEBUFFER
   9496  f3de				  -	      sta	DLLMEM+DBOFFSET,x
   9497  f3de				  -	      endif		; DOUBLEBUFFER
   9498  f3de				  -	      jsr	vblankresync
   9499  f3de				  -	      rts
   9500  f3de					      endif		; USED_ADJUSTVISIBLE
   9501  f3de
   9502  f3de				   vblankresync
   9503  f3de		       20 4e f4 	      jsr	waitforvblankstart	; ensure vblank just started
   9504  f3e1		       a9 00		      lda	#0
   9505  f3e3		       85 4d		      sta	visibleover
   9506  f3e5		       a9 03		      lda	#3
   9507  f3e7		       8d b2 01 	      sta	interruptindex
   9508  f3ea		       60		      rts
   9509  f3eb
   9510  f3eb				   createallgamedlls
   9511  f3eb		       a0 3c		      ldy	#(DLLLUTEND-DLLLUT)
   9512  f3ed				   createallgamedllsloop
   9513  f3ed		       88		      dey
   9514  f3ee		       b9 12 f4 	      lda	DLLLUT,y
   9515  f3f1		       99 00 18 	      sta	DLLMEM,y
   9516  f3f4				  -	      ifconst	DOUBLEBUFFER
   9517  f3f4				  -	      sta	DLLMEM+DBOFFSET,y
   9518  f3f4					      endif		; DOUBLEBUFFER
   9519  f3f4		       c0 00		      cpy	#0
   9520  f3f6		       d0 f5		      bne	createallgamedllsloop
   9521  f3f8
   9522  f3f8				  -	      ifconst	DOUBLEBUFFER
   9523  f3f8				  -	      ldy	#(DLLLUTNONVISSTART-DLLLUTVISSTART)
   9524  f3f8				  -fixdoublebuffer
   9525  f3f8				  -	      dey
   9526  f3f8				  -	      lda	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
   9527  f3f8				  -	      clc
   9528  f3f8				  -	      adc	#DOUBLEBUFFEROFFSET
   9529  f3f8				  -	      sta	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
   9530  f3f8				  -	      dey
   9531  f3f8				  -	      lda	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
   9532  f3f8				  -	      adc	#0
   9533  f3f8				  -	      sta	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
   9534  f3f8				  -	      dey
   9535  f3f8				  -	      bne	fixdoublebuffer
   9536  f3f8					      endif
   9537  f3f8
   9538  f3f8				  -	      ifconst	BANKSET_DL_IN_CARTRAM
   9539  f3f8				  -			; N.B. banksets doesn't in-fact allow DL in cart-ram, so this conditional
   9540  f3f8				  -			; is always skipped. This is here in case some day the limitation is
   9541  f3f8				  -			; worked around, but it's untested.
   9542  f3f8				  -
   9543  f3f8				  -			; With bankset cart ram, we added $8000 to the DL address so plot
   9544  f3f8				  -			; functions would hit the cart-ram write-address. We need to subtract $80
   9545  f3f8				  -			; so Maria will read from the cart-ram read-address.
   9546  f3f8				  -	      ldy	#(DLLLUTNONVISSTART-DLLLUTVISSTART)
   9547  f3f8				  -fixbanksetaddresses
   9548  f3f8				  -	      dey
   9549  f3f8				  -	      dey
   9550  f3f8				  -	      lda	DLLMEM+DLLLUTVISSTART-DLLLUT,y
   9551  f3f8				  -	      and	#%01111111
   9552  f3f8				  -	      sta	DLLMEM+DLLLUTVISSTART-DLLLUT,y
   9553  f3f8				  -	      ifconst	DOUBLEBUFFER
   9554  f3f8				  -	      lda	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
   9555  f3f8				  -	      and	#%01111111
   9556  f3f8				  -	      sta	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
   9557  f3f8				  -	      endif		; DOUBLEBUFFER
   9558  f3f8				  -	      dey
   9559  f3f8				  -	      bne	fixbanksetaddresses
   9560  f3f8					      endif		; BANKSET_DL_IN_CARTRAM
   9561  f3f8
   9562  f3f8		       ad 09 21 	      lda	paldetected
   9563  f3fb		       f0 0a		      beq	skippaladjust
   9564  f3fd		       a9 4f		      lda	#($0F|(WZONEHEIGHT*4))	; +15 lines
   9565  f3ff		       8d 06 18 	      sta	DLLMEM+6
   9566  f402				  -	      ifconst	DOUBLEBUFFER
   9567  f402				  -	      sta	DLLMEM+DBOFFSET+6
   9568  f402					      endif
   9569  f402					      if	WSCREENHEIGHT = 192
   9570  f402		       a9 4d		      lda	#($0D|(WZONEHEIGHT*4))	; +6 lines
   9571  f404				  -	      else
   9572  f404				  -	      lda	#($07|(WZONEHEIGHT*4))	; +6 lines
   9573  f404					      endif		;
   9574  f404		       8d 03 18 	      sta	DLLMEM+3
   9575  f407				  -	      ifconst	DOUBLEBUFFER
   9576  f407				  -	      sta	DLLMEM+DBOFFSET+3
   9577  f407					      endif		; DOUBLEBUFFER
   9578  f407
   9579  f407				   skippaladjust
   9580  f407
   9581  f407							; save the DL markers...
   9582  f407		       a9 09		      lda	#(DLLLUTVISSTART-DLLLUT)
   9583  f409		       8d 3c 21 	      sta	visibleDLLstart
   9584  f40c		       a9 2d		      lda	#(DLLLUTNONVISSTART-DLLLUT)
   9585  f40e		       8d 3d 21 	      sta	overscanDLLstart
   9586  f411		       60		      rts
   9587  f412
   9588  f412							; N.B. max DLL length is 112 bytes (for double-buffered)
   9589  f412
   9590  f412				   DLLLUT
   9591  f412					      if	WSCREENHEIGHT = 192
   9592  f412		       4f 21 00 	      .byte.b	($0F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
   9593  f415		       47 21 00 	      .byte.b	($07|(WZONEHEIGHT*4)),$21,$00	;  8 blank lines
   9594  f418		       40 21 00 	      .byte.b	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
   9595  f41b							;=25 blank lines
   9596  f41b					      endif		; WSCREENHEIGHT = 192
   9597  f41b				  -	      if	WSCREENHEIGHT = 208
   9598  f41b				  -	      .byte	($0E|(WZONEHEIGHT*4)),$21,$00	; 15 blank lines
   9599  f41b				  -	      .byte	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
   9600  f41b				  -	      .byte	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
   9601  f41b				  -			;=17 blank lines
   9602  f41b					      endif		; WSCREENHEIGHT = 208
   9603  f41b				  -	      if	WSCREENHEIGHT = 224
   9604  f41b				  -	      .byte	($06|(WZONEHEIGHT*4)),$21,$00	;  7 blank lines
   9605  f41b				  -	      .byte	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
   9606  f41b				  -	      .byte	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
   9607  f41b				  -			;= 9 blank lines
   9608  f41b					      endif		; WSCREENHEIGHT = 224
   9609  f41b
   9610  f41b				   DLLLUTVISSTART
   9611  f41b		       cf 18 80 	      .byte.b	($80|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE0ADDRESS,<ZONE0ADDRESS
   9612  f41e							;	 ^--NMI 1: start of visible
   9613  f41e		       4f 19 20 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE1ADDRESS,<ZONE1ADDRESS
   9614  f421		       4f 19 c0 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE2ADDRESS,<ZONE2ADDRESS
   9615  f424		       4f 1a 60 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE3ADDRESS,<ZONE3ADDRESS
   9616  f427		       4f 1b 00 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE4ADDRESS,<ZONE4ADDRESS
   9617  f42a		       4f 1b a0 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE5ADDRESS,<ZONE5ADDRESS
   9618  f42d		       4f 1c 40 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE6ADDRESS,<ZONE6ADDRESS
   9619  f430		       4f 1c e0 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE7ADDRESS,<ZONE7ADDRESS
   9620  f433		       4f 1d 80 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE8ADDRESS,<ZONE8ADDRESS
   9621  f436		       4f 1e 20 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE9ADDRESS,<ZONE9ADDRESS
   9622  f439		       4f 1e c0 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE10ADDRESS,<ZONE10ADDRESS
   9623  f43c		       4f 1f 60 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE11ADDRESS,<ZONE11ADDRESS
   9624  f43f				  -	      ifconst	ZONE12ADDRESS
   9625  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE12ADDRESS,<ZONE12ADDRESS
   9626  f43f					      endif
   9627  f43f				  -	      ifconst	ZONE13ADDRESS
   9628  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE13ADDRESS,<ZONE13ADDRESS
   9629  f43f					      endif
   9630  f43f				  -	      ifconst	ZONE14ADDRESS
   9631  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE14ADDRESS,<ZONE14ADDRESS
   9632  f43f					      endif
   9633  f43f				  -	      ifconst	ZONE15ADDRESS
   9634  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE15ADDRESS,<ZONE15ADDRESS
   9635  f43f					      endif
   9636  f43f				  -	      ifconst	ZONE16ADDRESS
   9637  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE16ADDRESS,<ZONE16ADDRESS
   9638  f43f					      endif
   9639  f43f				  -	      ifconst	ZONE17ADDRESS
   9640  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE17ADDRESS,<ZONE17ADDRESS
   9641  f43f					      endif
   9642  f43f				  -	      ifconst	ZONE18ADDRESS
   9643  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE18ADDRESS,<ZONE18ADDRESS
   9644  f43f					      endif
   9645  f43f				  -	      ifconst	ZONE19ADDRESS
   9646  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE19ADDRESS,<ZONE19ADDRESS
   9647  f43f					      endif
   9648  f43f				  -	      ifconst	ZONE20ADDRESS
   9649  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE20ADDRESS,<ZONE20ADDRESS
   9650  f43f					      endif
   9651  f43f				  -	      ifconst	ZONE21ADDRESS
   9652  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE21ADDRESS,<ZONE21ADDRESS
   9653  f43f					      endif
   9654  f43f				  -	      ifconst	ZONE22ADDRESS
   9655  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE22ADDRESS,<ZONE22ADDRESS
   9656  f43f					      endif
   9657  f43f				  -	      ifconst	ZONE23ADDRESS
   9658  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE23ADDRESS,<ZONE23ADDRESS
   9659  f43f					      endif
   9660  f43f				  -	      ifconst	ZONE24ADDRESS
   9661  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE24ADDRESS,<ZONE24ADDRESS
   9662  f43f					      endif
   9663  f43f				  -	      ifconst	ZONE25ADDRESS
   9664  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE25ADDRESS,<ZONE25ADDRESS
   9665  f43f					      endif
   9666  f43f				  -	      ifconst	ZONE26ADDRESS
   9667  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE26ADDRESS,<ZONE26ADDRESS
   9668  f43f					      endif
   9669  f43f				  -	      ifconst	ZONE27ADDRESS
   9670  f43f				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE27ADDRESS,<ZONE27ADDRESS
   9671  f43f					      endif
   9672  f43f				   DLLLUTNONVISSTART
   9673  f43f		       c3 21 00 	      .byte.b	($83|(WZONEHEIGHT*4)),$21,$00	;  4 blank lines
   9674  f442							;	 ^--NMI 2: start of non-visible
   9675  f442		       cf 21 00 	      .byte.b	($8F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
   9676  f445							;	 ^--NMI 3: start of overscan
   9677  f445		       4f 21 00 	      .byte.b	($0F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
   9678  f448		       4f 21 00 	      .byte.b	($0F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
   9679  f44b		       4f 21 00 	      .byte.b	($0F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
   9680  f44e				   DLLLUTEND
   9681  f44e							;echo "DLL size: ",[(DLLLUTEND-DLLLUT)]d,"bytes"
   9682  f44e							;echo "DLL code size: ",[(DLLLUTEND-createallgamedlls)]d,"bytes"
   9683  f44e
   9684  f44e				   waitforvblankstart
   9685  f44e				   vblankendwait
   9686  f44e		       24 28		      BIT	MSTAT
   9687  f450		       30 fc		      bmi	vblankendwait
   9688  f452				   vblankstartwait
   9689  f452		       24 28		      BIT	MSTAT
   9690  f454		       10 fc		      bpl	vblankstartwait
   9691  f456		       60		      rts
   9692  f457
   9693  f457				  -	      ifconst	DOUBLEBUFFER
   9694  f457				  -flipdisplaybufferreturn
   9695  f457				  -	      rts
   9696  f457				  -flipdisplaybuffer
   9697  f457				  -	      ifconst	interrupthold
   9698  f457				  -	      lda	#$FF
   9699  f457				  -	      sta	interrupthold
   9700  f457				  -	      endif
   9701  f457				  -	      lda	doublebufferstate
   9702  f457				  -	      beq	flipdisplaybufferreturn	; exit if we're not in double-buffer
   9703  f457				  -
   9704  f457				  -	      jsr	terminatedisplaybuffer	; terminate the working buffer before we flip
   9705  f457				  -
   9706  f457				  -			; ensure we don't flip mid-display. otherwise the displayed DL will be the one the game is working on.
   9707  f457				  -
   9708  f457				  -flipdisplaybufferwait1
   9709  f457				  -	      lda	visibleover
   9710  f457				  -	      beq	flipdisplaybufferwait1
   9711  f457				  -
   9712  f457				  -flipdisplaybufferwait
   9713  f457				  -	      lda	visibleover
   9714  f457				  -	      bne	flipdisplaybufferwait
   9715  f457				  -
   9716  f457				  -quickbufferflip
   9717  f457				  -	      lda	doublebufferstate
   9718  f457				  -	      lsr		; /2, so we'll see 0 or 1, rather than 1 or 3
   9719  f457				  -	      tax
   9720  f457				  -
   9721  f457				  -	      lda	doublebufferminimumframetarget
   9722  f457				  -	      beq	skipminimumframecode
   9723  f457				  -	      lda	doublebufferminimumframeindex
   9724  f457				  -	      bne	flipdisplaybufferwait1
   9725  f457				  -	      lda	doublebufferminimumframetarget
   9726  f457				  -	      sta	doublebufferminimumframeindex
   9727  f457				  -skipminimumframecode
   9728  f457				  -
   9729  f457				  -	      lda	DLLMEMLutHi,x
   9730  f457				  -	      sta	DPPH
   9731  f457				  -	      lda	DLLMEMLutLo,x
   9732  f457				  -	      sta	DPPL
   9733  f457				  -
   9734  f457				  -	      lda	NewPageflipstate,x
   9735  f457				  -	      sta	doublebufferstate
   9736  f457				  -	      lda	NewPageflipoffset,x
   9737  f457				  -	      sta	doublebufferdloffset
   9738  f457				  -
   9739  f457				  -	      ifnconst	BANKSET_DL_IN_CARTRAM
   9740  f457				  -	      lda	doublebufferbufferdirty
   9741  f457				  -	      beq	flipdisplaybufferreturn
   9742  f457				  -
   9743  f457				  -			; The doublebuffer buffer is dirty, so the game code must have issued a savescreen recently.
   9744  f457				  -			; To make savescreen work with the new working buffer, we need to copy over the saved objects
   9745  f457				  -			; from the displayed buffer to the working buffer...
   9746  f457				  -
   9747  f457				  -	      lda	doublebufferdloffset
   9748  f457				  -	      eor	#DOUBLEBUFFEROFFSET
   9749  f457				  -	      sta	temp6	; make temp6 the anti-doublebufferdloffset variable
   9750  f457				  -
   9751  f457				  -	      ldx	#(WZONECOUNT-1)
   9752  f457				  -copybufferzoneloop
   9753  f457				  -
   9754  f457				  -	      lda	DLPOINTL,x
   9755  f457				  -	      clc
   9756  f457				  -	      adc	doublebufferdloffset
   9757  f457				  -	      sta	temp1
   9758  f457				  -	      lda	DLPOINTH,x
   9759  f457				  -	      adc	#0
   9760  f457				  -	      sta	temp2
   9761  f457				  -
   9762  f457				  -	      lda	DLPOINTL,x
   9763  f457				  -	      clc
   9764  f457				  -	      adc	temp6
   9765  f457				  -	      sta	temp3
   9766  f457				  -	      lda	DLPOINTH,x
   9767  f457				  -	      adc	#0
   9768  f457				  -	      sta	temp4
   9769  f457				  -
   9770  f457				  -	      lda	dlendsave,x
   9771  f457				  -	      tay
   9772  f457				  -copybuffercharsloop
   9773  f457				  -	      lda	(temp3),y
   9774  f457				  -	      sta	(temp1),y
   9775  f457				  -	      dey
   9776  f457				  -	      bpl	copybuffercharsloop
   9777  f457				  -	      dex
   9778  f457				  -	      bpl	copybufferzoneloop
   9779  f457				  -	      lda	#0
   9780  f457				  -	      sta	doublebufferbufferdirty
   9781  f457				  -	      endif		; ! BANKSET_DL_IN_CARTRAM
   9782  f457				  -	      rts
   9783  f457				  -
   9784  f457				  -doublebufferoff
   9785  f457				  -	      lda	#1
   9786  f457				  -	      sta	doublebufferstate
   9787  f457				  -	      jsr	flipdisplaybuffer
   9788  f457				  -	      lda	#0
   9789  f457				  -	      sta	doublebufferstate
   9790  f457				  -	      sta	doublebufferdloffset
   9791  f457				  -	      rts
   9792  f457				  -
   9793  f457				  -DLLMEMLutLo
   9794  f457				  -	      .byte	<DLLMEM,<(DLLMEM+DBOFFSET)
   9795  f457				  -DLLMEMLutHi
   9796  f457				  -	      .byte	>DLLMEM,>(DLLMEM+DBOFFSET)
   9797  f457				  -NewPageflipstate
   9798  f457				  -	      .byte	3,1
   9799  f457				  -NewPageflipoffset
   9800  f457				  -	      .byte	DOUBLEBUFFEROFFSET,0
   9801  f457				  -
   9802  f457					      endif		; DOUBLEBUFFER
   9803  f457
   9804  f457				  -	      ifconst	MOUSESUPPORT
   9805  f457				  -
   9806  f457				  -rotationalcompare
   9807  f457				  -			; old = 00 01 10 11
   9808  f457				  -	      .byte	$00, $01, $ff, $00	; new=00
   9809  f457				  -	      .byte	$ff, $00, $00, $01	; new=01
   9810  f457				  -	      .byte	$01, $00, $00, $ff	; new=10
   9811  f457				  -	      .byte	$00, $ff, $01, $00	; new=11
   9812  f457				  -
   9813  f457				  -			; 0000YyXx st mouse
   9814  f457				  -
   9815  f457				  -			; 0000xyXY amiga mouse
   9816  f457				  -
   9817  f457				  -	      ifconst	MOUSEXONLY
   9818  f457				  -amigatoataribits		; swap bits 1 and 4...
   9819  f457				  -	      .byte	%0000, %0000, %0010, %0010
   9820  f457				  -	      .byte	%0000, %0000, %0010, %0010
   9821  f457				  -	      .byte	%0001, %0001, %0011, %0011
   9822  f457				  -	      .byte	%0001, %0001, %0011, %0011
   9823  f457				  -
   9824  f457				  -			; null change bits
   9825  f457				  -	      .byte	%0000, %0001, %0010, %0011
   9826  f457				  -	      .byte	%0000, %0001, %0010, %0011
   9827  f457				  -	      .byte	%0000, %0001, %0010, %0011
   9828  f457				  -	      .byte	%0000, %0001, %0010, %0011
   9829  f457				  -
   9830  f457				  -	      else		; !MOUSEXONLY
   9831  f457				  -
   9832  f457				  -amigatoataribits		; swap bits 1 and 4...
   9833  f457				  -	      .byte	%0000, %1000, %0010, %1010
   9834  f457				  -	      .byte	%0100, %1100, %0110, %1110
   9835  f457				  -	      .byte	%0001, %1001, %0011, %1011
   9836  f457				  -	      .byte	%0101, %1101, %0111, %1111
   9837  f457				  -			; null change bits
   9838  f457				  -	      .byte	%0000, %0001, %0010, %0011
   9839  f457				  -	      .byte	%0100, %0101, %0110, %0111
   9840  f457				  -	      .byte	%1000, %1001, %1010, %1011
   9841  f457				  -	      .byte	%1100, %1101, %1110, %1111
   9842  f457				  -	      endif		; !MOUSEXONLY
   9843  f457				  -
   9844  f457					      endif		; MOUSESUPPORT
   9845  f457
   9846  f457				   mouse0update
   9847  f457				  -	      ifconst	MOUSE0SUPPORT
   9848  f457				  -
   9849  f457				  -mousetableselect =	inttemp2
   9850  f457				  -mousexdelta =	inttemp3
   9851  f457				  -mouseydelta =	inttemp4
   9852  f457				  -lastSWCHA  =	inttemp6
   9853  f457				  -
   9854  f457				  -			; 0000YyXx st mouse
   9855  f457				  -			; 0000xyXY amiga mouse
   9856  f457				  -
   9857  f457				  -	      lda	#$ff
   9858  f457				  -	      sta	lastSWCHA
   9859  f457				  -
   9860  f457				  -	      ldy	port0control
   9861  f457				  -
   9862  f457				  -	      lda	#%00010000
   9863  f457				  -	      cpy	#9	; AMIGA?
   9864  f457				  -	      bne	skipamigabitsfix0
   9865  f457				  -	      lda	#0
   9866  f457				  -skipamigabitsfix0
   9867  f457				  -	      sta	mousetableselect
   9868  f457				  -	      ifconst	DRIVINGBOOST
   9869  f457				  -	      cpy	#6	; DRIVING?
   9870  f457				  -	      bne	skipdriving0setup
   9871  f457				  -			; swap mousex0 and mousey0. mousex seen by the 7800basic program
   9872  f457				  -			; trails the actual mousex0, so we can smoothly interpolate toward
   9873  f457				  -			; the actual position. This actual position is stored in mousey0
   9874  f457				  -			; after the driver has run.
   9875  f457				  -	      ldx	mousex0
   9876  f457				  -	      lda	mousey0
   9877  f457				  -	      stx	mousey0
   9878  f457				  -	      sta	mousex0
   9879  f457				  -skipdriving0setup
   9880  f457				  -	      endif		; DRIVINGBOOST
   9881  f457				  -
   9882  f457				  -	      lda	#0
   9883  f457				  -	      sta	mousexdelta
   9884  f457				  -	      sta	mouseydelta
   9885  f457				  -
   9886  f457				  -	      ifnconst	MOUSETIME
   9887  f457				  -	      ifnconst	MOUSEXONLY
   9888  f457				  -	      lda	#180	; minimum for x+y
   9889  f457				  -	      else
   9890  f457				  -	      lda	#100	; minimum for just x
   9891  f457				  -	      endif
   9892  f457				  -	      else
   9893  f457				  -	      lda	#MOUSETIME
   9894  f457				  -	      endif
   9895  f457				  -	      jsr	SETTIM64T	; INTIM is in Y
   9896  f457				  -
   9897  f457				  -mouse0updateloop
   9898  f457				  -	      lda	SWCHA
   9899  f457				  -	      asr	#%11110000	; Undocumented. A = A & #IMM, then LSR A.
   9900  f457				  -	      cmp	lastSWCHA
   9901  f457				  -	      beq	mouse0loopcondition
   9902  f457				  -	      sta	lastSWCHA
   9903  f457				  -	      lsr
   9904  f457				  -	      lsr
   9905  f457				  -	      lsr
   9906  f457				  -
   9907  f457				  -	      ora	mousetableselect	; atari/amiga decoding table selection
   9908  f457				  -
   9909  f457				  -			; st mice encode on different bits/joystick-lines than amiga mice...
   9910  f457				  -			; 0000YyXx st mouse
   9911  f457				  -			; 0000xyXY amiga mouse
   9912  f457				  -			; ...so can shuffle the amiga bits to reuse the st driver.
   9913  f457				  -	      tay
   9914  f457				  -	      lax	amigatoataribits,y
   9915  f457				  -
   9916  f457				  -	      ifnconst	MOUSEXONLY
   9917  f457				  -			; first the Y...
   9918  f457				  -	      and	#%00001100
   9919  f457				  -	      ora	mousecodey0
   9920  f457				  -	      tay
   9921  f457				  -	      lda	rotationalcompare,y
   9922  f457				  -	      clc
   9923  f457				  -	      adc	mouseydelta
   9924  f457				  -	      sta	mouseydelta
   9925  f457				  -	      tya
   9926  f457				  -	      lsr
   9927  f457				  -	      lsr
   9928  f457				  -	      sta	mousecodey0
   9929  f457				  -	      txa
   9930  f457				  -			; ...then the X...
   9931  f457				  -	      and	#%00000011
   9932  f457				  -	      tax
   9933  f457				  -	      endif		; !MOUSEXONLY
   9934  f457				  -
   9935  f457				  -	      asl
   9936  f457				  -	      asl
   9937  f457				  -	      ora	mousecodex0
   9938  f457				  -	      tay
   9939  f457				  -	      lda	rotationalcompare,y
   9940  f457				  -	      adc	mousexdelta	; carry was clear by previous ASL
   9941  f457				  -	      sta	mousexdelta
   9942  f457				  -	      stx	mousecodex0
   9943  f457				  -mouse0loopcondition
   9944  f457				  -	      lda	TIMINT
   9945  f457				  -	      bpl	mouse0updateloop
   9946  f457				  -
   9947  f457				  -			; *** adapt to selected device resolution.
   9948  f457				  -	      ldx	port0control
   9949  f457				  -
   9950  f457				  -	      ifconst	PRECISIONMOUSING
   9951  f457				  -	      ldy	port0resolution
   9952  f457				  -	      bne	mouse0halveddone
   9953  f457				  -	      cpx	#6	; half-resolution is no good for driving wheels
   9954  f457				  -	      beq	mouse0halveddone
   9955  f457				  -			; resolution=0 is half mouse resolution, necessary for precision
   9956  f457				  -			; mousing on a 160x240 screen with a 1000 dpi mouse.
   9957  f457				  -
   9958  f457				  -	      lda	mousexdelta
   9959  f457				  -	      cmp	#$80
   9960  f457				  -	      ror		; do a signed divide by 2.
   9961  f457				  -	      clc
   9962  f457				  -	      adc	mousex0
   9963  f457				  -	      sta	mousex0
   9964  f457				  -	      ifnconst	MOUSEXONLY
   9965  f457				  -	      lda	mouseydelta
   9966  f457				  -	      clc
   9967  f457				  -	      adc	mousey0
   9968  f457				  -	      sta	mousey0
   9969  f457				  -	      endif
   9970  f457				  -			; at half resolution we just exit after updating x and y
   9971  f457				  -	      jmp	LLRET0
   9972  f457				  -mouse0halveddone
   9973  f457				  -	      endif		; PRECISIONMOUSING
   9974  f457				  -
   9975  f457				  -	      ifnconst	MOUSEXONLY
   9976  f457				  -	      asl	mouseydelta	; *2 because Y resolution is finer
   9977  f457				  -	      ldy	port0resolution
   9978  f457				  -	      dey
   9979  f457				  -	      lda	#0
   9980  f457				  -mousey0resolutionfix
   9981  f457				  -	      clc
   9982  f457				  -	      adc	mouseydelta
   9983  f457				  -	      dey
   9984  f457				  -	      bpl	mousey0resolutionfix
   9985  f457				  -	      clc
   9986  f457				  -	      adc	mousey0
   9987  f457				  -	      sta	mousey0
   9988  f457				  -	      endif		; MOUSEXONLY
   9989  f457				  -
   9990  f457				  -	      ldy	port0resolution
   9991  f457				  -	      dey
   9992  f457				  -	      lda	#0
   9993  f457				  -mousex0resolutionfix
   9994  f457				  -	      clc
   9995  f457				  -	      adc	mousexdelta
   9996  f457				  -	      dey
   9997  f457				  -	      bpl	mousex0resolutionfix
   9998  f457				  -	      ifnconst	DRIVINGBOOST
   9999  f457				  -	      clc
  10000  f457				  -	      adc	mousex0
  10001  f457				  -	      sta	mousex0
  10002  f457				  -	      else
  10003  f457				  -	      cpx	#6
  10004  f457				  -	      beq	carryonmouse0boost
  10005  f457				  -	      clc
  10006  f457				  -	      adc	mousex0
  10007  f457				  -	      sta	mousex0
  10008  f457				  -	      jmp	LLRET0
  10009  f457				  -carryonmouse0boost
  10010  f457				  -	      sta	mousexdelta
  10011  f457				  -	      clc
  10012  f457				  -	      adc	mousecodey0
  10013  f457				  -	      sta	mousecodey0
  10014  f457				  -	      clc
  10015  f457				  -	      adc	mousex0
  10016  f457				  -	      tay		; save the target X
  10017  f457				  -	      adc	mousey0	; average in the smoothly-trailing X
  10018  f457				  -	      ror
  10019  f457				  -	      sta	mousex0	; mousex0 now has the smoothly trailing X
  10020  f457				  -	      sty	mousey0	; and mousey0 has the the target X
  10021  f457				  -
  10022  f457				  -			; check to see if the coordinate wrapped. If so, undo the averaging code.
  10023  f457				  -			; A has mousex0, the smoothly trailing X
  10024  f457				  -	      sbc	mousey0	; less the target X
  10025  f457				  -	      bpl	skipabsolutedrive0
  10026  f457				  -	      eor	#$ff
  10027  f457				  -skipabsolutedrive0
  10028  f457				  -	      cmp	#64	; just an unreasonably large change
  10029  f457				  -	      bcc	skipdrivewrapfix0
  10030  f457				  -	      sty	mousex0	; if X wrapped, we catch the trailing X up to the target X
  10031  f457				  -skipdrivewrapfix0
  10032  f457				  -
  10033  f457				  -			; get rid of the tweening if the distance travelled was very small
  10034  f457				  -	      lda	mousexdelta
  10035  f457				  -	      cmp	port0resolution
  10036  f457				  -	      bcs	skipbetweenfix0
  10037  f457				  -	      lda	mousex0
  10038  f457				  -	      sta	mousey0
  10039  f457				  -skipbetweenfix0
  10040  f457				  -
  10041  f457				  -drivingboostreductioncheck0
  10042  f457				  -			; The below code amounts to mousecodey0=mousecodey0-(mousecodey0/8)
  10043  f457				  -			; +ve mousecodey0 is converted to -ve to do the calculation, and then
  10044  f457				  -			; negated again because truncation during BCD math results in
  10045  f457				  -			; differing magnitudes, depending if the value is +ve or -ve.
  10046  f457				  -driving0fix
  10047  f457				  -	      lax	mousecodey0
  10048  f457				  -	      cmp	#$80
  10049  f457				  -	      bcs	driving0skipnegate1
  10050  f457				  -	      eor	#$FF
  10051  f457				  -	      adc	#1
  10052  f457				  -	      sta	mousecodey0
  10053  f457				  -driving0skipnegate1
  10054  f457				  -	      cmp	#$80
  10055  f457				  -	      ror
  10056  f457				  -	      cmp	#$80
  10057  f457				  -	      ror
  10058  f457				  -	      cmp	#$80
  10059  f457				  -	      ror
  10060  f457				  -	      sta	inttemp1
  10061  f457				  -	      lda	mousecodey0
  10062  f457				  -	      sec
  10063  f457				  -	      sbc	inttemp1
  10064  f457				  -	      cpx	#$80
  10065  f457				  -	      bcs	driving0skipnegate2
  10066  f457				  -	      eor	#$FF
  10067  f457				  -	      adc	#1
  10068  f457				  -driving0skipnegate2
  10069  f457				  -	      sta	mousecodey0
  10070  f457				  -drivingboostdone0
  10071  f457				  -	      endif		; DRIVINGBOOST
  10072  f457				  -
  10073  f457				  -	      jmp	LLRET0
  10074  f457				  -
  10075  f457					      endif		; MOUSE0SUPPORT
  10076  f457
  10077  f457				   mouse1update
  10078  f457				  -	      ifconst	MOUSE1SUPPORT
  10079  f457				  -
  10080  f457				  -mousetableselect =	inttemp2
  10081  f457				  -mousexdelta =	inttemp3
  10082  f457				  -mouseydelta =	inttemp4
  10083  f457				  -lastSWCHA  =	inttemp6
  10084  f457				  -
  10085  f457				  -			; 0000YyXx st mouse
  10086  f457				  -			; 0000xyXY amiga mouse
  10087  f457				  -
  10088  f457				  -	      lda	#$ff
  10089  f457				  -	      sta	lastSWCHA
  10090  f457				  -
  10091  f457				  -	      ldy	port1control
  10092  f457				  -
  10093  f457				  -	      lda	#%00010000
  10094  f457				  -	      cpy	#9	; AMIGA?
  10095  f457				  -	      bne	skipamigabitsfix1
  10096  f457				  -	      lda	#0
  10097  f457				  -skipamigabitsfix1
  10098  f457				  -	      sta	mousetableselect
  10099  f457				  -	      ifconst	DRIVINGBOOST
  10100  f457				  -	      cpy	#6	; DRIVING?
  10101  f457				  -	      bne	skipdriving1setup
  10102  f457				  -			; swap mousex1 and mousey1. mousex seen by the 7800basic program
  10103  f457				  -			; trails the actual mousex1, so we can smoothly interpolate toward
  10104  f457				  -			; the actual position. This actual position is stored in mousey1
  10105  f457				  -			; after the driver has run.
  10106  f457				  -	      ldx	mousex1
  10107  f457				  -	      lda	mousey1
  10108  f457				  -	      stx	mousey1
  10109  f457				  -	      sta	mousex1
  10110  f457				  -skipdriving1setup
  10111  f457				  -	      endif		; DRIVINGBOOST
  10112  f457				  -
  10113  f457				  -	      lda	#0
  10114  f457				  -	      sta	mousexdelta
  10115  f457				  -	      sta	mouseydelta
  10116  f457				  -
  10117  f457				  -	      ifnconst	MOUSETIME
  10118  f457				  -	      ifnconst	MOUSEXONLY
  10119  f457				  -	      lda	#180	; minimum for x+y
  10120  f457				  -	      else
  10121  f457				  -	      lda	#100	; minimum for just x
  10122  f457				  -	      endif
  10123  f457				  -	      else
  10124  f457				  -	      lda	#MOUSETIME
  10125  f457				  -	      endif
  10126  f457				  -	      jsr	SETTIM64T	; INTIM is in Y
  10127  f457				  -
  10128  f457				  -mouse1updateloop
  10129  f457				  -	      lda	SWCHA
  10130  f457				  -	      and	#%00001111
  10131  f457				  -	      cmp	lastSWCHA
  10132  f457				  -	      beq	mouse1loopcondition
  10133  f457				  -	      sta	lastSWCHA
  10134  f457				  -
  10135  f457				  -	      ora	mousetableselect	; atari/amiga decoding table selection
  10136  f457				  -
  10137  f457				  -			; st mice encode on different bits/joystick-lines than amiga mice...
  10138  f457				  -			; 0000YyXx st mouse
  10139  f457				  -			; 0000xyXY amiga mouse
  10140  f457				  -			; ...so can shuffle the amiga bits to reuse the st driver.
  10141  f457				  -	      tay
  10142  f457				  -	      lax	amigatoataribits,y
  10143  f457				  -
  10144  f457				  -	      ifnconst	MOUSEXONLY
  10145  f457				  -			; first the Y...
  10146  f457				  -	      and	#%00001100
  10147  f457				  -	      ora	mousecodey1
  10148  f457				  -	      tay
  10149  f457				  -	      lda	rotationalcompare,y
  10150  f457				  -	      clc
  10151  f457				  -	      adc	mouseydelta
  10152  f457				  -	      sta	mouseydelta
  10153  f457				  -	      tya
  10154  f457				  -	      lsr
  10155  f457				  -	      lsr
  10156  f457				  -	      sta	mousecodey1
  10157  f457				  -	      txa
  10158  f457				  -			; ...then the X...
  10159  f457				  -	      and	#%00000011
  10160  f457				  -	      tax
  10161  f457				  -	      endif		; !MOUSEXONLY
  10162  f457				  -
  10163  f457				  -	      asl
  10164  f457				  -	      asl
  10165  f457				  -	      ora	mousecodex1
  10166  f457				  -	      tay
  10167  f457				  -	      lda	rotationalcompare,y
  10168  f457				  -	      adc	mousexdelta	; carry was clear by previous ASL
  10169  f457				  -	      sta	mousexdelta
  10170  f457				  -	      stx	mousecodex1
  10171  f457				  -mouse1loopcondition
  10172  f457				  -	      lda	TIMINT
  10173  f457				  -	      bpl	mouse1updateloop
  10174  f457				  -
  10175  f457				  -			; *** adapt to selected device resolution.
  10176  f457				  -	      ldx	port1control
  10177  f457				  -
  10178  f457				  -	      ifconst	PRECISIONMOUSING
  10179  f457				  -	      ldy	port1resolution
  10180  f457				  -	      bne	mouse1halveddone
  10181  f457				  -	      cpx	#6	; half-resolution is no good for driving wheels
  10182  f457				  -	      beq	mouse1halveddone
  10183  f457				  -			; resolution=0 is half mouse resolution, necessary for precision
  10184  f457				  -			; mousing on a 160x240 screen with a 1000 dpi mouse.
  10185  f457				  -
  10186  f457				  -	      lda	mousexdelta
  10187  f457				  -	      cmp	#$80
  10188  f457				  -	      ror		; do a signed divide by 2.
  10189  f457				  -	      clc
  10190  f457				  -	      adc	mousex1
  10191  f457				  -	      sta	mousex1
  10192  f457				  -	      ifnconst	MOUSEXONLY
  10193  f457				  -	      lda	mouseydelta
  10194  f457				  -	      clc
  10195  f457				  -	      adc	mousey1
  10196  f457				  -	      sta	mousey1
  10197  f457				  -	      endif
  10198  f457				  -			; at half resolution we just exit after updating x and y
  10199  f457				  -	      jmp	LLRET1
  10200  f457				  -mouse1halveddone
  10201  f457				  -	      endif		; PRECISIONMOUSING
  10202  f457				  -
  10203  f457				  -	      ifnconst	MOUSEXONLY
  10204  f457				  -	      asl	mouseydelta	; *2 because Y resolution is finer
  10205  f457				  -	      ldy	port1resolution
  10206  f457				  -	      dey
  10207  f457				  -	      lda	#0
  10208  f457				  -mousey1resolutionfix
  10209  f457				  -	      clc
  10210  f457				  -	      adc	mouseydelta
  10211  f457				  -	      dey
  10212  f457				  -	      bpl	mousey1resolutionfix
  10213  f457				  -	      clc
  10214  f457				  -	      adc	mousey1
  10215  f457				  -	      sta	mousey1
  10216  f457				  -	      endif		; MOUSEXONLY
  10217  f457				  -
  10218  f457				  -	      ldy	port1resolution
  10219  f457				  -	      dey
  10220  f457				  -	      lda	#0
  10221  f457				  -mousex1resolutionfix
  10222  f457				  -	      clc
  10223  f457				  -	      adc	mousexdelta
  10224  f457				  -	      dey
  10225  f457				  -	      bpl	mousex1resolutionfix
  10226  f457				  -	      ifnconst	DRIVINGBOOST
  10227  f457				  -	      clc
  10228  f457				  -	      adc	mousex1
  10229  f457				  -	      sta	mousex1
  10230  f457				  -	      else
  10231  f457				  -	      cpx	#6
  10232  f457				  -	      beq	carryonmouse1boost
  10233  f457				  -	      clc
  10234  f457				  -	      adc	mousex1
  10235  f457				  -	      sta	mousex1
  10236  f457				  -	      jmp	LLRET1
  10237  f457				  -carryonmouse1boost
  10238  f457				  -	      sta	mousexdelta
  10239  f457				  -	      clc
  10240  f457				  -	      adc	mousecodey1
  10241  f457				  -	      sta	mousecodey1
  10242  f457				  -	      clc
  10243  f457				  -	      adc	mousex1
  10244  f457				  -	      tay		; save the target X
  10245  f457				  -	      adc	mousey1	; average in the smoothly-trailing X
  10246  f457				  -	      ror
  10247  f457				  -	      sta	mousex1	; mousex0 now has the smoothly trailing X
  10248  f457				  -	      sty	mousey1	; and mousey0 has the the target X
  10249  f457				  -
  10250  f457				  -			; check to see if the coordinate wrapped. If so, undo the averaging code.
  10251  f457				  -			; A has mousex1, the smoothly trailing X
  10252  f457				  -	      sbc	mousey1	; less the target X
  10253  f457				  -	      bpl	skipabsolutedrive1
  10254  f457				  -	      eor	#$ff
  10255  f457				  -skipabsolutedrive1
  10256  f457				  -	      cmp	#64	; just an unreasonably large change
  10257  f457				  -	      bcc	skipdrivewrapfix1
  10258  f457				  -	      sty	mousex1	; if X wrapped, we catch the trailing X up to the target X
  10259  f457				  -skipdrivewrapfix1
  10260  f457				  -
  10261  f457				  -			; get rid of the tweening if the distance travelled was very small
  10262  f457				  -	      lda	mousexdelta
  10263  f457				  -	      cmp	port1resolution
  10264  f457				  -	      bcs	skipbetweenfix1
  10265  f457				  -	      lda	mousex1
  10266  f457				  -	      sta	mousey1
  10267  f457				  -skipbetweenfix1
  10268  f457				  -
  10269  f457				  -drivingboostreductioncheck1
  10270  f457				  -			; The below code amounts to mousecodey0=mousecodey0-(mousecodey0/8)
  10271  f457				  -			; +ve mousecodey0 is converted to -ve to do the calculation, and then
  10272  f457				  -			; negated again because truncation during BCD math results in
  10273  f457				  -			; differing magnitudes, depending if the value is +ve or -ve.
  10274  f457				  -driving1fix
  10275  f457				  -	      lax	mousecodey1
  10276  f457				  -	      cmp	#$80
  10277  f457				  -	      bcs	driving0skipnegate1
  10278  f457				  -	      eor	#$FF
  10279  f457				  -	      adc	#1
  10280  f457				  -	      sta	mousecodey1
  10281  f457				  -driving0skipnegate1
  10282  f457				  -	      cmp	#$80
  10283  f457				  -	      ror
  10284  f457				  -	      cmp	#$80
  10285  f457				  -	      ror
  10286  f457				  -	      cmp	#$80
  10287  f457				  -	      ror
  10288  f457				  -	      sta	inttemp1
  10289  f457				  -	      lda	mousecodey1
  10290  f457				  -	      sec
  10291  f457				  -	      sbc	inttemp1
  10292  f457				  -	      cpx	#$80
  10293  f457				  -	      bcs	driving1skipnegate2
  10294  f457				  -	      eor	#$FF
  10295  f457				  -	      adc	#1
  10296  f457				  -driving1skipnegate2
  10297  f457				  -	      sta	mousecodey1
  10298  f457				  -drivingboostdone1
  10299  f457				  -	      endif		; DRIVINGBOOST
  10300  f457				  -
  10301  f457				  -	      jmp	LLRET1
  10302  f457				  -
  10303  f457					      endif		; MOUSE1SUPPORT
  10304  f457
  10305  f457
  10306  f457				   trakball0update
  10307  f457				  -	      ifconst	TRAKBALL0SUPPORT
  10308  f457				  -	      ifnconst	TRAKTIME
  10309  f457				  -	      ifnconst	TRAKXONLY
  10310  f457				  -	      lda	#180	; minimum for x+y
  10311  f457				  -	      else		; !TRAKXONLY
  10312  f457				  -	      lda	#100	; minimum for just x
  10313  f457				  -	      endif		; !TRAKXONLY
  10314  f457				  -	      else		; !TRAKTIME
  10315  f457				  -	      lda	#TRAKTIME
  10316  f457				  -	      endif		; !TRAKTIME
  10317  f457				  -	      jsr	SETTIM64T	; INTIM is in Y
  10318  f457				  -	      ldx	#0
  10319  f457				  -	      ifnconst	TRAKXONLY
  10320  f457				  -	      ldy	#0
  10321  f457				  -	      endif		; TRAKXONLY
  10322  f457				  -trakball0updateloop
  10323  f457				  -	      lda	SWCHA
  10324  f457				  -	      and	#%00110000
  10325  f457				  -	      cmp	trakballcodex0
  10326  f457				  -	      sta	trakballcodex0
  10327  f457				  -	      beq	trakball0movementXdone
  10328  f457				  -	      and	#%00010000
  10329  f457				  -	      beq	trakball0negativeX
  10330  f457				  -trakball0positiveX
  10331  f457				  -			;(2 from beq)
  10332  f457				  -	      inx		; 2
  10333  f457				  -	      jmp	trakball0movementXdone	; 3
  10334  f457				  -trakball0negativeX
  10335  f457				  -			;(3 from beq)
  10336  f457				  -	      dex		; 2
  10337  f457				  -	      nop		; 2
  10338  f457				  -trakball0movementXdone
  10339  f457				  -
  10340  f457				  -	      ifnconst	TRAKXONLY
  10341  f457				  -	      lda	SWCHA
  10342  f457				  -	      and	#%11000000
  10343  f457				  -	      cmp	trakballcodey0
  10344  f457				  -	      sta	trakballcodey0
  10345  f457				  -	      beq	trakball0movementYdone
  10346  f457				  -	      and	#%01000000
  10347  f457				  -	      beq	trakball0negativeY
  10348  f457				  -trakball0positiveY
  10349  f457				  -			;(2 from beq)
  10350  f457				  -	      iny		; 2
  10351  f457				  -	      jmp	trakball0movementYdone	; 3
  10352  f457				  -trakball0negativeY
  10353  f457				  -			;(3 from beq)
  10354  f457				  -	      dey		; 2
  10355  f457				  -	      nop		; 2
  10356  f457				  -trakball0movementYdone
  10357  f457				  -	      endif		; !TRAKXONLY
  10358  f457				  -
  10359  f457				  -	      lda	TIMINT
  10360  f457				  -	      bpl	trakball0updateloop
  10361  f457				  -	      lda	#0
  10362  f457				  -	      cpx	#0
  10363  f457				  -	      beq	trakball0skipXadjust
  10364  f457				  -	      clc
  10365  f457				  -trakball0Xloop
  10366  f457				  -	      adc	port0resolution
  10367  f457				  -	      dex
  10368  f457				  -	      bne	trakball0Xloop
  10369  f457				  -	      clc
  10370  f457				  -	      adc	trakballx0
  10371  f457				  -	      sta	trakballx0
  10372  f457				  -trakball0skipXadjust
  10373  f457				  -	      ifnconst	TRAKXONLY
  10374  f457				  -	      lda	#0
  10375  f457				  -	      cpy	#0
  10376  f457				  -	      beq	trakball0skipYadjust
  10377  f457				  -	      clc
  10378  f457				  -trakball0yloop
  10379  f457				  -	      adc	port0resolution
  10380  f457				  -	      dey
  10381  f457				  -	      bne	trakball0yloop
  10382  f457				  -	      clc
  10383  f457				  -	      adc	trakbally0
  10384  f457				  -	      sta	trakbally0
  10385  f457				  -trakball0skipYadjust
  10386  f457				  -	      endif		; !TRAKXONLY
  10387  f457				  -
  10388  f457				  -	      jmp	LLRET0
  10389  f457					      endif
  10390  f457
  10391  f457
  10392  f457
  10393  f457				   trakball1update
  10394  f457				  -	      ifconst	TRAKBALL1SUPPORT
  10395  f457				  -	      ifnconst	TRAKTIME
  10396  f457				  -	      ifnconst	TRAKXONLY
  10397  f457				  -	      lda	#180	; minimum for x+y
  10398  f457				  -	      else		; !TRAKXONLY
  10399  f457				  -	      lda	#100	; minimum for just x
  10400  f457				  -	      endif		; !TRAKXONLY
  10401  f457				  -	      else		; !TRAKTIME
  10402  f457				  -	      lda	#TRAKTIME
  10403  f457				  -	      endif		; !TRAKTIME
  10404  f457				  -	      jsr	SETTIM64T	; INTIM is in Y
  10405  f457				  -	      ldx	#0
  10406  f457				  -	      ifnconst	TRAKXONLY
  10407  f457				  -	      ldy	#0
  10408  f457				  -	      endif		; TRAKXONLY
  10409  f457				  -trakball1updateloop
  10410  f457				  -	      lda	SWCHA
  10411  f457				  -	      and	#%00000011
  10412  f457				  -	      cmp	trakballcodex1
  10413  f457				  -	      sta	trakballcodex1
  10414  f457				  -	      beq	trakball1movementXdone
  10415  f457				  -	      and	#%00000001
  10416  f457				  -	      beq	trakball1negativeX
  10417  f457				  -trakball1positiveX
  10418  f457				  -			;(2 from beq)
  10419  f457				  -	      inx		; 2
  10420  f457				  -	      jmp	trakball1movementXdone	; 3
  10421  f457				  -trakball1negativeX
  10422  f457				  -			;(3 from beq)
  10423  f457				  -	      dex		; 2
  10424  f457				  -	      nop		; 2
  10425  f457				  -trakball1movementXdone
  10426  f457				  -
  10427  f457				  -	      ifnconst	TRAKXONLY
  10428  f457				  -	      lda	SWCHA
  10429  f457				  -	      and	#%00001100
  10430  f457				  -	      cmp	trakballcodey1
  10431  f457				  -	      sta	trakballcodey1
  10432  f457				  -	      beq	trakball1movementYdone
  10433  f457				  -	      and	#%00000100
  10434  f457				  -	      beq	trakball1negativeY
  10435  f457				  -trakball1positiveY
  10436  f457				  -			;(2 from beq)
  10437  f457				  -	      iny		; 2
  10438  f457				  -	      jmp	trakball1movementYdone	; 3
  10439  f457				  -trakball1negativeY
  10440  f457				  -			;(3 from beq)
  10441  f457				  -	      dey		; 2
  10442  f457				  -	      nop		; 2
  10443  f457				  -trakball1movementYdone
  10444  f457				  -	      endif		; !TRAKXONLY
  10445  f457				  -
  10446  f457				  -	      lda	TIMINT
  10447  f457				  -	      bpl	trakball1updateloop
  10448  f457				  -	      lda	#0
  10449  f457				  -	      cpx	#0
  10450  f457				  -	      beq	trakball1skipXadjust
  10451  f457				  -	      clc
  10452  f457				  -trakball1Xloop
  10453  f457				  -	      adc	port1resolution
  10454  f457				  -	      dex
  10455  f457				  -	      bne	trakball1Xloop
  10456  f457				  -	      clc
  10457  f457				  -	      adc	trakballx1
  10458  f457				  -	      sta	trakballx1
  10459  f457				  -trakball1skipXadjust
  10460  f457				  -	      ifnconst	TRAKXONLY
  10461  f457				  -	      lda	#0
  10462  f457				  -	      cpy	#0
  10463  f457				  -	      beq	trakball1skipYadjust
  10464  f457				  -	      clc
  10465  f457				  -trakball1yloop
  10466  f457				  -	      adc	port1resolution
  10467  f457				  -	      dey
  10468  f457				  -	      bne	trakball1yloop
  10469  f457				  -	      clc
  10470  f457				  -	      adc	trakbally1
  10471  f457				  -	      sta	trakbally1
  10472  f457				  -trakball1skipYadjust
  10473  f457				  -	      endif		; !TRAKXONLY
  10474  f457				  -
  10475  f457				  -	      jmp	LLRET1
  10476  f457					      endif
  10477  f457
  10478  f457
  10479  f457				   paddleport0update
  10480  f457				  -	      ifconst	PADDLE0SUPPORT
  10481  f457				  -	      lda	#6
  10482  f457				  -	      sta	VBLANK	; start charging the paddle caps
  10483  f457				  -	      lda	#0	; use PADDLE timing
  10484  f457				  -	      jsr	SETTIM64T	; INTIM is in Y
  10485  f457				  -
  10486  f457				  -paddleport0updateloop
  10487  f457				  -	      lda	INPT0
  10488  f457				  -	      bmi	skippaddle0setposition
  10489  f457				  -	      sty	paddleposition0
  10490  f457				  -skippaddle0setposition
  10491  f457				  -	      ifconst	TWOPADDLESUPPORT
  10492  f457				  -	      lda	INPT1
  10493  f457				  -	      bmi	skippaddle1setposition
  10494  f457				  -	      sty	paddleposition1
  10495  f457				  -skippaddle1setposition
  10496  f457				  -	      endif
  10497  f457				  -	      ldy	INTIM
  10498  f457				  -	      cpy	#TIMEOFFSET
  10499  f457				  -	      bcs	paddleport0updateloop
  10500  f457				  -
  10501  f457				  -	      lda	#%10000110
  10502  f457				  -	      sta	VBLANK	; dump paddles to ground... this may not be great for genesis controllers
  10503  f457				  -	      sec
  10504  f457				  -	      lda	paddleposition0
  10505  f457				  -	      sbc	#TIMEOFFSET
  10506  f457				  -	      ifconst	PADDLESCALEX2
  10507  f457				  -	      asl
  10508  f457				  -	      endif
  10509  f457				  -
  10510  f457				  -	      ifnconst	PADDLESMOOTHINGOFF
  10511  f457				  -	      clc
  10512  f457				  -	      adc	paddleprevious0
  10513  f457				  -	      ror
  10514  f457				  -	      sta	paddleprevious0
  10515  f457				  -	      endif
  10516  f457				  -
  10517  f457				  -	      sta	paddleposition0
  10518  f457				  -
  10519  f457				  -	      ifconst	TWOPADDLESUPPORT
  10520  f457				  -	      sec
  10521  f457				  -	      lda	paddleposition1
  10522  f457				  -	      sbc	#TIMEOFFSET
  10523  f457				  -	      ifconst	PADDLESCALEX2
  10524  f457				  -	      asl
  10525  f457				  -	      endif
  10526  f457				  -
  10527  f457				  -	      ifnconst	PADDLESMOOTHINGOFF
  10528  f457				  -	      clc
  10529  f457				  -	      adc	paddleprevious1
  10530  f457				  -	      ror
  10531  f457				  -	      sta	paddleprevious1
  10532  f457				  -	      endif
  10533  f457				  -	      sta	paddleposition1
  10534  f457				  -	      endif		; TWOPADDLESUPPORT
  10535  f457				  -
  10536  f457				  -	      jmp	LLRET0
  10537  f457					      endif
  10538  f457
  10539  f457				   paddleport1update
  10540  f457				  -	      ifconst	PADDLE1SUPPORT
  10541  f457				  -	      lda	#6
  10542  f457				  -	      sta	VBLANK	; start charging the paddle caps
  10543  f457				  -
  10544  f457				  -	      lda	#0	; use PADDLE timing
  10545  f457				  -	      jsr	SETTIM64T	; INTIM is in Y
  10546  f457				  -
  10547  f457				  -paddleport1updateloop
  10548  f457				  -	      lda	INPT2
  10549  f457				  -	      bmi	skippaddle2setposition
  10550  f457				  -	      sty	paddleposition2
  10551  f457				  -skippaddle2setposition
  10552  f457				  -	      ifconst	TWOPADDLESUPPORT
  10553  f457				  -	      lda	INPT3
  10554  f457				  -	      bmi	skippaddle3setposition
  10555  f457				  -	      sty	paddleposition3
  10556  f457				  -skippaddle3setposition
  10557  f457				  -	      endif
  10558  f457				  -	      ldy	INTIM
  10559  f457				  -	      cpy	#TIMEOFFSET
  10560  f457				  -	      bcs	paddleport1updateloop
  10561  f457				  -
  10562  f457				  -	      lda	#%10000110
  10563  f457				  -	      sta	VBLANK	; dump paddles to ground... this may not be great for genesis controllers
  10564  f457				  -	      sec
  10565  f457				  -	      lda	paddleposition2
  10566  f457				  -	      sbc	#TIMEOFFSET
  10567  f457				  -	      ifconst	PADDLESCALEX2
  10568  f457				  -	      asl
  10569  f457				  -	      endif
  10570  f457				  -
  10571  f457				  -	      ifnconst	PADDLESMOOTHINGOFF
  10572  f457				  -	      clc
  10573  f457				  -	      adc	paddleprevious2
  10574  f457				  -	      ror
  10575  f457				  -	      sta	paddleprevious2
  10576  f457				  -	      endif
  10577  f457				  -
  10578  f457				  -	      sta	paddleposition2
  10579  f457				  -
  10580  f457				  -	      ifconst	TWOPADDLESUPPORT
  10581  f457				  -	      sec
  10582  f457				  -	      lda	paddleposition3
  10583  f457				  -	      sbc	#TIMEOFFSET
  10584  f457				  -	      ifconst	PADDLESCALEX2
  10585  f457				  -	      asl
  10586  f457				  -	      endif
  10587  f457				  -
  10588  f457				  -	      ifnconst	PADDLESMOOTHINGOFF
  10589  f457				  -	      clc
  10590  f457				  -	      adc	paddleprevious3
  10591  f457				  -	      ror
  10592  f457				  -	      sta	paddleprevious3
  10593  f457				  -	      endif
  10594  f457				  -	      sta	paddleposition3
  10595  f457				  -	      endif		; TWOPADDLESUPPORT
  10596  f457				  -
  10597  f457				  -	      jmp	LLRET1
  10598  f457					      endif
  10599  f457
  10600  f457
  10601  f457				   paddlebuttonhandler		; outside of conditional, for button-handler LUT
  10602  f457				  -	      ifconst	PADDLESUPPORT
  10603  f457				  -			; x=0|1 for port, rather than paddle #.
  10604  f457				  -			; Only the first paddle button will integrate into "joy0fire" testing. If the
  10605  f457				  -			; game wants to support 2 paddles, up to the game to instead test the
  10606  f457				  -			; joystick right+left directions instead.
  10607  f457				  -	      lda	SWCHA	; top of nibble is first paddle button
  10608  f457				  -	      cpx	#0	; port 0?
  10609  f457				  -	      beq	skippaddleport2shift
  10610  f457				  -	      asl		; shift second port to upper nibble
  10611  f457				  -	      asl
  10612  f457				  -	      asl
  10613  f457				  -	      asl
  10614  f457				  -skippaddleport2shift
  10615  f457				  -	      and	#%11000000
  10616  f457				  -	      eor	#%11000000	; invert
  10617  f457				  -	      sta	sINPT1,x
  10618  f457				  -	      jmp	buttonreadloopreturn
  10619  f457					      endif		; PADDLESUPPORT
  10620  f457
  10621  f457				   mousebuttonhandler		; outside of conditional, for button-handler LUT
  10622  f457				  -	      ifconst	MOUSESUPPORT
  10623  f457				  -			; stick the mouse buttons in the correct shadow register...
  10624  f457				  -	      txa
  10625  f457				  -	      asl
  10626  f457				  -	      tay		; y=x*2
  10627  f457				  -	      lda	INPT4,x
  10628  f457				  -	      eor	#%10000000
  10629  f457				  -	      lsr
  10630  f457				  -	      sta	sINPT1,x
  10631  f457				  -
  10632  f457				  -	      lda	INPT1,y
  10633  f457				  -	      and	#%10000000
  10634  f457				  -	      eor	#%10000000
  10635  f457				  -	      ora	sINPT1,x
  10636  f457				  -	      sta	sINPT1,x
  10637  f457				  -	      jmp	buttonreadloopreturn
  10638  f457					      endif		; MOUSESUPPORT
  10639  f457
  10640  f457				  -	      ifconst	KEYPADSUPPORT
  10641  f457				  -			; ** select keypad rows 0 to 3 over 4 frames...
  10642  f457				  -keypadrowselect
  10643  f457				  -	      inc	keypadcounter
  10644  f457				  -	      ldy	#0
  10645  f457				  -	      lda	port0control
  10646  f457				  -	      cmp	#7
  10647  f457				  -	      bne	skipport0val
  10648  f457				  -	      iny		; y=y+1
  10649  f457				  -skipport0val
  10650  f457				  -	      lda	port1control
  10651  f457				  -	      cmp	#7
  10652  f457				  -	      bne	skipport1val
  10653  f457				  -	      iny
  10654  f457				  -	      iny		; y=y+2
  10655  f457				  -skipport1val
  10656  f457				  -	      cpy	#0
  10657  f457				  -	      beq	exitkeypadrowselect
  10658  f457				  -	      lda	keyrowdirectionmask,y
  10659  f457				  -	      sta	CTLSWA
  10660  f457				  -	      tya
  10661  f457				  -	      asl
  10662  f457				  -	      asl
  10663  f457				  -	      sta	inttemp1
  10664  f457				  -	      lda	keypadcounter
  10665  f457				  -	      and	#3
  10666  f457				  -	      ora	inttemp1
  10667  f457				  -	      tax
  10668  f457				  -	      lda	keyrowselectvalue,x
  10669  f457				  -	      sta	SWCHA
  10670  f457				  -exitkeypadrowselect
  10671  f457				  -	      rts
  10672  f457				  -
  10673  f457				  -keyrowdirectionmask
  10674  f457				  -	      .byte	#%00000000	; 0 : port0=input port1=input
  10675  f457				  -	      .byte	#%11110000	; 1 : port0=output port1=input
  10676  f457				  -	      .byte	#%00001111	; 2 : port0=input port1=output
  10677  f457				  -	      .byte	#%11111111	; 3 : port0=output port1=output
  10678  f457				  -
  10679  f457				  -keyrowselectvalue
  10680  f457				  -	      .byte	#%00000000, #%00000000, #%00000000, #%00000000	; no row selected, all pins high, always
  10681  f457				  -	      .byte	#%11100000, #%11010000, #%10110000, #%01110000	; p0 keypad in
  10682  f457				  -	      .byte	#%00001110, #%00001101, #%00001011, #%00000111	; p1 keypad in
  10683  f457				  -	      .byte	#%11101110, #%11011101, #%10111011, #%01110111	; p0+p1 keypads in
  10684  f457					      endif		; KEYPADSUPPORT
  10685  f457
  10686  f457				  -	      ifconst	KEYPADSUPPORT
  10687  f457				  -			; TODO - split into compile-time KEYPAD0SUPPORT and KEYPAD1SUPPORT
  10688  f457				  -keypadcolumnread
  10689  f457				  -	      lda	port0control
  10690  f457				  -	      cmp	#7
  10691  f457				  -	      bne	skipkeypadcolumnread0
  10692  f457				  -	      lda	keypadcounter
  10693  f457				  -	      and	#3
  10694  f457				  -	      asl		; x2 because keypad variables are interleaved
  10695  f457				  -	      tax
  10696  f457				  -	      lda	#0
  10697  f457				  -	      sta	keypadmatrix0a,x
  10698  f457				  -	      lda	INPT0
  10699  f457				  -	      cmp	#$80
  10700  f457				  -	      rol	keypadmatrix0a,x
  10701  f457				  -	      lda	INPT1
  10702  f457				  -	      cmp	#$80
  10703  f457				  -	      rol	keypadmatrix0a,x
  10704  f457				  -	      lda	INPT4
  10705  f457				  -	      cmp	#$80
  10706  f457				  -	      rol	keypadmatrix0a,x
  10707  f457				  -	      lda	keypadmatrix0a,x
  10708  f457				  -	      eor	#%00000111
  10709  f457				  -	      sta	keypadmatrix0a,x
  10710  f457				  -skipkeypadcolumnread0
  10711  f457				  -
  10712  f457				  -	      lda	port1control
  10713  f457				  -	      cmp	#7
  10714  f457				  -	      bne	skipkeypadcolumnread1
  10715  f457				  -	      lda	keypadcounter
  10716  f457				  -	      and	#3
  10717  f457				  -	      asl		; x2 because keypad variables are interleaved
  10718  f457				  -	      tax
  10719  f457				  -	      lda	#0
  10720  f457				  -	      sta	keypadmatrix1a,x
  10721  f457				  -	      rol	keypadmatrix1a,x
  10722  f457				  -	      lda	INPT2
  10723  f457				  -	      cmp	#$80
  10724  f457				  -	      rol	keypadmatrix1a,x
  10725  f457				  -	      lda	INPT3
  10726  f457				  -	      cmp	#$80
  10727  f457				  -	      rol	keypadmatrix1a,x
  10728  f457				  -	      lda	INPT5
  10729  f457				  -	      cmp	#$80
  10730  f457				  -	      rol	keypadmatrix1a,x
  10731  f457				  -	      lda	keypadmatrix1a,x
  10732  f457				  -	      eor	#%00000111
  10733  f457				  -	      sta	keypadmatrix1a,x
  10734  f457				  -skipkeypadcolumnread1
  10735  f457				  -	      rts
  10736  f457					      endif		; KEYPADSUPPORT
  10737  f457
  10738  f457				   setportforinput
  10739  f457		       ad 81 02 	      lda	CTLSWA
  10740  f45a		       3d c2 f1 	      and	SWCHA_DIRMASK,x
  10741  f45d		       8d 81 02 	      sta	CTLSWA
  10742  f460		       60		      rts
  10743  f461
  10744  f461				   setonebuttonmode
  10745  f461		       a9 06		      lda	#6	; in case we're in unlocked-bios mode
  10746  f463		       85 01		      sta	VBLANK	; if we were on paddles, the line is grounded out.
  10747  f465		       a9 14		      lda	#$14
  10748  f467		       8d 83 02 	      sta	CTLSWB
  10749  f46a		       ad 82 02 	      lda	SWCHB
  10750  f46d		       1d 87 f4 	      ora	thisjoy2buttonbit,x	; disable: write 1 to the 2-button bit
  10751  f470		       8d 82 02 	      sta	SWCHB
  10752  f473		       60		      rts
  10753  f474
  10754  f474				   settwobuttonmode
  10755  f474		       a9 06		      lda	#6	; in case we're in unlocked-bios mode
  10756  f476		       85 01		      sta	VBLANK	; if we were on paddles, the line is grounded out.
  10757  f478		       a9 14		      lda	#$14
  10758  f47a		       8d 83 02 	      sta	CTLSWB
  10759  f47d		       ad 82 02 	      lda	SWCHB
  10760  f480		       3d 88 f4 	      and	thisjoy2buttonbit+1,x	; enable: write 0 to the 2-button bit
  10761  f483		       8d 82 02 	      sta	SWCHB
  10762  f486		       60		      rts
  10763  f487
  10764  f487				   thisjoy2buttonbit
  10765  f487							; p0	p1   p0
  10766  f487		       04 10 04 	      .byte.b	$04, $10, $04
  10767  f48a
  10768  f48a				  -	      ifconst	CHANGEDMAHOLES
  10769  f48a				  -removedmaholes
  10770  f48a				  -	      ldx	#0
  10771  f48a				  -removedllholesloop
  10772  f48a				  -	      lda	DLLMEM,x
  10773  f48a				  -	      and	#%10001111
  10774  f48a				  -	      sta	DLLMEM,x
  10775  f48a				  -	      ifconst	DOUBLEBUFFER
  10776  f48a				  -	      sta	DLLMEM+DBOFFSET,x
  10777  f48a				  -	      endif
  10778  f48a				  -	      inx
  10779  f48a				  -	      inx
  10780  f48a				  -	      inx
  10781  f48a				  -	      ifconst	DOUBLEBUFFER
  10782  f48a				  -	      cpx	#DBOFFSET
  10783  f48a				  -	      bcc	removedllholesloop
  10784  f48a				  -	      else
  10785  f48a				  -	      bpl	removedllholesloop
  10786  f48a				  -	      endif
  10787  f48a				  -	      rts
  10788  f48a				  -
  10789  f48a				  -createdmaholes
  10790  f48a				  -	      ldx	#0
  10791  f48a				  -createdllholesloop
  10792  f48a				  -	      lda	DLLMEM,x
  10793  f48a				  -	      ora	#(WZONEHEIGHT*4)
  10794  f48a				  -	      sta	DLLMEM,x
  10795  f48a				  -	      ifconst	DOUBLEBUFFER
  10796  f48a				  -	      sta	DLLMEM+DBOFFSET,x
  10797  f48a				  -	      endif
  10798  f48a				  -	      inx
  10799  f48a				  -	      inx
  10800  f48a				  -	      inx
  10801  f48a				  -	      ifconst	DOUBLEBUFFER
  10802  f48a				  -	      cpx	#DBOFFSET
  10803  f48a				  -	      bcc	createdllholesloop
  10804  f48a				  -	      else
  10805  f48a				  -	      bpl	createdllholesloop
  10806  f48a				  -	      endif
  10807  f48a				  -	      rts
  10808  f48a					      endif
  10809  f48a
  10810  f48a							; Provided under the CC0 license. See the included LICENSE.txt for details.
  10811  f48a
  10812  f48a				   START
  10813  f48a				   start
  10814  f48a
  10815  f48a							;******** more or less the Atari recommended startup procedure
  10816  f48a
  10817  f48a		       78		      sei
  10818  f48b		       d8		      cld
  10819  f48c
  10820  f48c					      ifnconst	NOTIALOCK
  10821  f48c		       a9 07		      lda	#$07
  10822  f48e				  -	      else
  10823  f48e				  -	      lda	#$06
  10824  f48e					      endif
  10825  f48e		       85 01		      sta	INPTCTRL	;lock 7800 into 7800 mode
  10826  f490		       a9 7f		      lda	#$7F
  10827  f492		       85 3c		      sta	CTRL	;disable DMA
  10828  f494		       a9 00		      lda	#$00
  10829  f496		       85 38		      sta	OFFSET
  10830  f498					      ifnconst	NOTIALOCK
  10831  f498		       85 01		      sta	INPTCTRL
  10832  f49a		       85 20		      sta	BACKGRND	; black default, in case a flash cart is using something else
  10833  f49c					      endif
  10834  f49c		       a2 ff		      ldx	#$FF
  10835  f49e		       9a		      txs
  10836  f49f
  10837  f49f							;************** Clear Memory
  10838  f49f
  10839  f49f							; ** Clear 1800-27FF, pg0+pg1 memory.
  10840  f49f				   ClearMemPages
  10841  f49f		       a9 00		      lda	#0
  10842  f4a1		       a8		      tay		; y=0
  10843  f4a2		       85 80		      sta	$80
  10844  f4a4		       a2 18		      ldx	#$18
  10845  f4a6				   ClearMemPagesLoop
  10846  f4a6		       86 81		      stx	$81	; needed for when we step on ZP memory
  10847  f4a8		       91 80		      sta	($80),y	;Store data
  10848  f4aa		       c8		      iny		;Next byte
  10849  f4ab		       d0 f9		      bne	ClearMemPagesLoop
  10850  f4ad		       e8		      inx
  10851  f4ae		       e0 28		      cpx	#$28
  10852  f4b0		       d0 f4		      bne	ClearMemPagesLoop
  10853  f4b2		       85 81		      sta	$81
  10854  f4b4
  10855  f4b4							;seed random number with hopefully-random timer value
  10856  f4b4		       a9 01		      lda	#1
  10857  f4b6		       0d 84 02 	      ora	INTIM
  10858  f4b9		       85 40		      sta	rand
  10859  f4bb
  10860  f4bb							; detect the console type...
  10861  f4bb				   pndetectvblankstart
  10862  f4bb		       a5 28		      lda	MSTAT
  10863  f4bd		       10 fc		      bpl	pndetectvblankstart	; if we're not in VBLANK, wait for it to start
  10864  f4bf				   pndetectvblankover
  10865  f4bf		       a5 28		      lda	MSTAT
  10866  f4c1		       30 fc		      bmi	pndetectvblankover	; then wait for it to be over
  10867  f4c3		       a0 00		      ldy	#$00
  10868  f4c5		       a2 00		      ldx	#$00
  10869  f4c7				   pndetectvblankhappening
  10870  f4c7		       a5 28		      lda	MSTAT
  10871  f4c9		       30 07		      bmi	pndetectinvblank	; if VBLANK starts, exit our counting loop
  10872  f4cb		       85 24		      sta	WSYNC
  10873  f4cd		       85 24		      sta	WSYNC
  10874  f4cf		       e8		      inx
  10875  f4d0		       d0 f5		      bne	pndetectvblankhappening
  10876  f4d2				   pndetectinvblank
  10877  f4d2		       e0 7d		      cpx	#125
  10878  f4d4		       90 02		      bcc	pndetecispal
  10879  f4d6		       a0 01		      ldy	#$01
  10880  f4d8				   pndetecispal
  10881  f4d8		       8c 09 21 	      sty	paldetected
  10882  f4db
  10883  f4db		       20 eb f3 	      jsr	createallgamedlls
  10884  f4de
  10885  f4de		       a9 18		      lda	#>DLLMEM
  10886  f4e0		       85 2c		      sta	DPPH
  10887  f4e2		       a9 00		      lda	#<DLLMEM
  10888  f4e4		       85 30		      sta	DPPL
  10889  f4e6
  10890  f4e6				  -	      ifconst	pokeysupport
  10891  f4e6				  -			; pokey support is compiled in, so try to detect it...
  10892  f4e6				  -	      jsr	detectpokeylocation
  10893  f4e6					      endif
  10894  f4e6
  10895  f4e6		       a9 01		      lda	#1	; default for port 0 and 1 is a regular joystick
  10896  f4e8		       8d b8 01 	      sta	port0control
  10897  f4eb		       8d b9 01 	      sta	port1control
  10898  f4ee
  10899  f4ee							;Setup port A to read mode
  10900  f4ee							;lda #$00
  10901  f4ee							;sta SWCHA
  10902  f4ee							;sta CTLSWA
  10903  f4ee
  10904  f4ee				  -	      ifconst	HSSUPPORT
  10905  f4ee				  -	      ifconst	bankswitchmode
  10906  f4ee				  -	      ifconst	included.hiscore.asm.bank
  10907  f4ee				  -	      ifconst	MCPDEVCART
  10908  f4ee				  -	      lda	#($18 | included.hiscore.asm.bank)
  10909  f4ee				  -	      ifconst	dumpbankswitch
  10910  f4ee				  -	      sta	dumpbankswitch
  10911  f4ee				  -	      endif
  10912  f4ee				  -	      sta	$3000
  10913  f4ee				  -	      else
  10914  f4ee				  -	      lda	#(included.hiscore.asm.bank)
  10915  f4ee				  -	      ifconst	dumpbankswitch
  10916  f4ee				  -	      sta	dumpbankswitch
  10917  f4ee				  -	      endif
  10918  f4ee				  -	      sta	$8000
  10919  f4ee				  -	      endif
  10920  f4ee				  -	      endif		; included.hiscore.asm.bank
  10921  f4ee				  -	      endif		; bankswitchmode
  10922  f4ee				  -			; try to detect HSC
  10923  f4ee				  -	      jsr	detecthsc
  10924  f4ee				  -	      and	#1
  10925  f4ee				  -	      sta	hsdevice
  10926  f4ee				  -skipHSCdetect
  10927  f4ee				  -			; try to detect AtariVox eeprom
  10928  f4ee				  -	      jsr	detectatarivoxeeprom
  10929  f4ee				  -	      and	#2
  10930  f4ee				  -	      ora	hsdevice
  10931  f4ee				  -	      cmp	#3
  10932  f4ee				  -	      bne	storeAinhsdevice
  10933  f4ee				  -			; For now, we tie break by giving HSC priority over AtariVox.
  10934  f4ee				  -			; Later we should check each device's priority byte if set, instead,
  10935  f4ee				  -	      lda	#2
  10936  f4ee				  -storeAinhsdevice
  10937  f4ee				  -	      sta	hsdevice
  10938  f4ee				  -	      lda	#$ff
  10939  f4ee				  -	      sta	hsdifficulty
  10940  f4ee				  -	      sta	hsgameslot
  10941  f4ee				  -	      sta	hsnewscoreline
  10942  f4ee					      endif		; HSSUPPORT
  10943  f4ee
  10944  f4ee				  -	      ifconst	AVOXVOICE
  10945  f4ee				  -	      jsr	silenceavoxvoice
  10946  f4ee					      endif
  10947  f4ee
  10948  f4ee				  -	      ifconst	MULTIBUTTON
  10949  f4ee				  -	      ifnconst	HSSUPPORT
  10950  f4ee				  -min_detectatarivoxeeprom
  10951  f4ee				  -	      jsr	i2c_startwrite
  10952  f4ee				  -	      bcc	min_no_eeprom_error
  10953  f4ee				  -	      lda	#$ff
  10954  f4ee				  -	      jmp	min_avoxdetect_done
  10955  f4ee				  -min_no_eeprom_error
  10956  f4ee				  -	      lda	#$30
  10957  f4ee				  -	      jsr	i2c_txbyte
  10958  f4ee				  -	      lda	#$00
  10959  f4ee				  -	      jsr	i2c_txbyte
  10960  f4ee				  -	      jsr	i2c_stopwrite
  10961  f4ee				  -min_avoxdetect_done
  10962  f4ee				  -	      eor	#$FF
  10963  f4ee				  -	      sta	avoxdetected
  10964  f4ee				  -	      jmp	min_detectatarivoxeepromdone
  10965  f4ee				  -	      include	"i2c7800.inc"
  10966  f4ee				  -	      I2C_SUBS	temp9
  10967  f4ee				  -min_detectatarivoxeepromdone
  10968  f4ee				  -	      endif		; HSSUPPORT
  10969  f4ee					      endif		; MULTIBUTTON
  10970  f4ee
  10971  f4ee				  -	      ifconst	MULTIBUTTON
  10972  f4ee				  -	      lda	avoxdetected
  10973  f4ee				  -	      beq	skipassignavox
  10974  f4ee				  -	      lda	#10
  10975  f4ee				  -	      sta	port1control	; designate port 1 as atarivox so multibutton won't disturb it.
  10976  f4ee				  -skipassignavox
  10977  f4ee					      endif		; MULTIBUTTON
  10978  f4ee
  10979  f4ee				  -	      ifconst	RMT
  10980  f4ee				  -	      ifconst	RMTVOLUME
  10981  f4ee				  -	      lda	#$F0	; default to full RMT volume
  10982  f4ee				  -	      sta	rmtvolume
  10983  f4ee				  -	      ifconst	TIAVOLUME
  10984  f4ee				  -	      sta	tiavolume
  10985  f4ee				  -	      endif		; TIAVOLUME
  10986  f4ee				  -	      endif		; RMTVOLUME
  10987  f4ee					      else		; !RMT
  10988  f4ee				  -	      ifconst	TIAVOLUME
  10989  f4ee				  -	      lda	#$F0	; default to full TIA volume
  10990  f4ee				  -	      sta	tiavolume
  10991  f4ee					      endif		; TIAVOLUME
  10992  f4ee					      endif		; RMT
  10993  f4ee
  10994  f4ee				  -	      ifconst	bankswitchmode
  10995  f4ee				  -			; we need to switch to the first bank as a default. this needs to
  10996  f4ee				  -			; happen before DMA, in case there's a topscreenroutine in bank 0
  10997  f4ee				  -	      ifconst	MCPDEVCART
  10998  f4ee				  -	      lda	#$18	; xxx11nnn - switch to bank 0
  10999  f4ee				  -	      ifconst	dumpbankswitch
  11000  f4ee				  -	      sta	dumpbankswitch
  11001  f4ee				  -	      endif
  11002  f4ee				  -	      sta	$3000
  11003  f4ee				  -	      else
  11004  f4ee				  -	      lda	#0
  11005  f4ee				  -	      ifconst	dumpbankswitch
  11006  f4ee				  -	      sta	dumpbankswitch
  11007  f4ee				  -	      endif
  11008  f4ee				  -	      sta	$8000
  11009  f4ee				  -	      endif
  11010  f4ee					      endif
  11011  f4ee
  11012  f4ee							; CTRL 76543210
  11013  f4ee							; 7 colorburst kill
  11014  f4ee							; 6,5 dma ctrl 2=normal DMA, 3=no DMA
  11015  f4ee							; 4 character width 1=2 byte chars, 0=1 byte chars
  11016  f4ee							; 3 border control 0=background color border, 1=black border
  11017  f4ee							; 2 kangaroo mode 0=transparency, 1=kangaroo
  11018  f4ee							; 1,0 read mode 0=160x2/160x4 1=N/A 2=320B/320D 3=320A/320C
  11019  f4ee
  11020  f4ee				  -	      ifconst	DOUBLEWIDE
  11021  f4ee				  -	      lda	#%01010000	;Enable DMA, mode=160x2/160x4, 2x character width
  11022  f4ee					      else
  11023  f4ee		       a9 40		      lda	#%01000000	;Enable DMA, mode=160x2/160x4
  11024  f4f0					      endif
  11025  f4f0
  11026  f4f0		       20 4e f4 	      jsr	waitforvblankstart	; give the some vblank time to minimally update the display
  11027  f4f3
  11028  f4f3		       85 3c		      sta	CTRL
  11029  f4f5		       8d 07 21 	      sta	sCTRL
  11030  f4f8
  11031  f4f8		       20 de f3 	      jsr	vblankresync
  11032  f4fb
  11033  f4fb		       a2 01		      ldx	#1
  11034  f4fd		       20 74 f4 	      jsr	settwobuttonmode
  11035  f500		       a2 00		      ldx	#0
  11036  f502		       20 74 f4 	      jsr	settwobuttonmode
  11037  f505
  11038  f505					      ifnconst	.altgamestart
  11039  f505		       4c 00 80 	      jmp	game
  11040  f508				  -	      else
  11041  f508				  -	      jmp	.altgamestart
  11042  f508					      endif
  11043  f508
  11044  f508							; Provided under the CC0 license. See the included LICENSE.txt for details.
  11045  f508
  11046  f508							; A tunable parameter, to claim some memory back from DL usage
  11047  f508		       00 00	   MEMSKIP    =	$00
  11048  f508
  11049  f508							;************** Setup DLL entries
  11050  f508
  11051  f508							; setup some working definitions, to avoid ifnconst mess elsewhere...
  11052  f508					      ifnconst	SCREENHEIGHT
  11053  f508		       00 c0	   WSCREENHEIGHT =	192
  11054  f508				  -	      else
  11055  f508				  -WSCREENHEIGHT =	SCREENHEIGHT
  11056  f508					      endif
  11057  f508
  11058  f508				  -	      ifnconst	ZONEHEIGHT
  11059  f508				  -WZONEHEIGHT =	16
  11060  f508					      else
  11061  f508		       00 10	   WZONEHEIGHT =	ZONEHEIGHT
  11062  f508					      endif
  11063  f508
  11064  f508					      ifnconst	ZONECOUNT
  11065  f508				  -	      ifconst	VSCROLL
  11066  f508				  -WZONECOUNT =	((WSCREENHEIGHT/WZONEHEIGHT)+1)
  11067  f508					      else		; !VSCROLL
  11068  f508		       00 0c	   WZONECOUNT =	(WSCREENHEIGHT/WZONEHEIGHT)
  11069  f508					      endif		; !VSCROLL
  11070  f508				  -	      else
  11071  f508				  -	      ifconst	VSCROLL
  11072  f508				  -WZONECOUNT =	(ZONECOUNT+1)
  11073  f508				  -	      else		; !VSCROLL
  11074  f508				  -WZONECOUNT =	ZONECOUNT
  11075  f508				  -	      endif		; !VSCROLL
  11076  f508					      endif
  11077  f508
  11078  f508							; top of the frame, non-visible lines. this is based on NTSC,
  11079  f508							; but we add in extra NV lines at the end of the display to ensure
  11080  f508							; our PAL friends can play the game without it crashing.
  11081  f508		       00 19	   NVLINES    =	((243-WSCREENHEIGHT)/2)
  11082  f508
  11083  f508					      ifnconst	DLMEMSTART
  11084  f508					      ifnconst	DOUBLEBUFFER
  11085  f508				   WDLMEMSTART SET	$1880
  11086  f508				  -	      else
  11087  f508				  -WDLMEMSTART SET	$18E0
  11088  f508					      endif		; DOUBLEBUFFER
  11089  f508				  -	      else
  11090  f508				  -WDLMEMSTART SET	DLMEMSTART
  11091  f508					      endif
  11092  f508
  11093  f508				  -	      if	MEMSKIP > 0
  11094  f508				  -	      echo	"   ",[WDLMEMSTART],"to",[WDLMEMSTART+MEMSKIP-1],"was freed for game usage with MEMSKIP."
  11095  f508				  -WDLMEMSTART SET	(WDLMEMSTART + MEMSKIP)
  11096  f508					      endif		; MEMSKIP > 0
  11097  f508
  11098  f508					      ifnconst	DLMEMEND
  11099  f508				  -	      ifconst	EXTRADLMEMORY
  11100  f508				  -WDLMEMEND  =	$23FF
  11101  f508					      else
  11102  f508		       1f ff	   WDLMEMEND  =	$1FFF
  11103  f508					      endif
  11104  f508				  -	      else
  11105  f508				  -WDLMEMEND  =	DLMEMEND
  11106  f508					      endif
  11107  f508
  11108  f508
  11109  f508				   WMEMSIZE   SET	(WDLMEMEND-WDLMEMSTART+1)
  11110  f508
  11111  f508				  -	      ifconst	VSCROLL
  11112  f508				  -	      ifnconst	DOUBLEBUFFER
  11113  f508				  -			; give the last zone extra ram for the dma mask objects...
  11114  f508				  -WMEMSIZE   SET	(WMEMSIZE-(maskscrollspriteend-maskscrollsprite))
  11115  f508				  -	      endif		; DOUBLEBUFFER
  11116  f508					      endif		; VSCROLL
  11117  f508
  11118  f508					      ifnconst	DOUBLEBUFFER
  11119  f508		       00 9b	   DLLASTOBJ  =	((((WMEMSIZE/WZONECOUNT)-2)/5)*5)	; -2 to always ensure we have 1x double-byte terminator
  11120  f508				  -	      else
  11121  f508				  -DLLASTOBJ  =	((((WMEMSIZE/WZONECOUNT)-4)/10)*5)	; -4 to always ensure we have 2x double-byte terminators
  11122  f508					      endif
  11123  f508
  11124  f508		       00 9d	   TDOUBLEBUFFEROFFSET =	(DLLASTOBJ+2)	; offset between DL buffers. ie. half the real DL
  11125  f508				  -	      if	TDOUBLEBUFFEROFFSET > 255
  11126  f508				  -DOUBLEBUFFEROFFSET =	255
  11127  f508					      else
  11128  f508		       00 9d	   DOUBLEBUFFEROFFSET =	(DLLASTOBJ+2)
  11129  f508					      endif
  11130  f508
  11131  f508				  -	      ifconst	EXTRADLMEMORY
  11132  f508				  -SECONDDLHALFSTART SET	$2300
  11133  f508					      endif
  11134  f508
  11135  f508				   DLPOINTH
  11136  f508				   DLINDEX    SET	0
  11137  f508					      REPEAT	WZONECOUNT
  11138  f508				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f508				  -	      ifconst	EXTRADLMEMORY
  11140  f508				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f508				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f508				  -	      else
  11143  f508				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f508				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f508				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f508				  -	      endif
  11147  f508				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f508					      endif		; EXTRADLMEMORY
  11149  f508							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f508		       18		      .byte.b	>TMPMEMADDRESS
  11151  f508				   DLINDEX    SET	DLINDEX + 1
  11137  f508					      REPEND
  11138  f508				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f509				  -	      ifconst	EXTRADLMEMORY
  11140  f509				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f509				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f509				  -	      else
  11143  f509				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f509				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f509				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f509				  -	      endif
  11147  f509				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f509					      endif		; EXTRADLMEMORY
  11149  f509							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f509		       19		      .byte.b	>TMPMEMADDRESS
  11151  f509				   DLINDEX    SET	DLINDEX + 1
  11137  f509					      REPEND
  11138  f509				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f50a				  -	      ifconst	EXTRADLMEMORY
  11140  f50a				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f50a				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f50a				  -	      else
  11143  f50a				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f50a				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f50a				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f50a				  -	      endif
  11147  f50a				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f50a					      endif		; EXTRADLMEMORY
  11149  f50a							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f50a		       19		      .byte.b	>TMPMEMADDRESS
  11151  f50a				   DLINDEX    SET	DLINDEX + 1
  11137  f50a					      REPEND
  11138  f50a				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f50b				  -	      ifconst	EXTRADLMEMORY
  11140  f50b				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f50b				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f50b				  -	      else
  11143  f50b				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f50b				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f50b				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f50b				  -	      endif
  11147  f50b				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f50b					      endif		; EXTRADLMEMORY
  11149  f50b							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f50b		       1a		      .byte.b	>TMPMEMADDRESS
  11151  f50b				   DLINDEX    SET	DLINDEX + 1
  11137  f50b					      REPEND
  11138  f50b				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f50c				  -	      ifconst	EXTRADLMEMORY
  11140  f50c				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f50c				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f50c				  -	      else
  11143  f50c				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f50c				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f50c				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f50c				  -	      endif
  11147  f50c				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f50c					      endif		; EXTRADLMEMORY
  11149  f50c							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f50c		       1b		      .byte.b	>TMPMEMADDRESS
  11151  f50c				   DLINDEX    SET	DLINDEX + 1
  11137  f50c					      REPEND
  11138  f50c				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f50d				  -	      ifconst	EXTRADLMEMORY
  11140  f50d				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f50d				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f50d				  -	      else
  11143  f50d				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f50d				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f50d				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f50d				  -	      endif
  11147  f50d				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f50d					      endif		; EXTRADLMEMORY
  11149  f50d							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f50d		       1b		      .byte.b	>TMPMEMADDRESS
  11151  f50d				   DLINDEX    SET	DLINDEX + 1
  11137  f50d					      REPEND
  11138  f50d				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f50e				  -	      ifconst	EXTRADLMEMORY
  11140  f50e				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f50e				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f50e				  -	      else
  11143  f50e				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f50e				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f50e				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f50e				  -	      endif
  11147  f50e				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f50e					      endif		; EXTRADLMEMORY
  11149  f50e							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f50e		       1c		      .byte.b	>TMPMEMADDRESS
  11151  f50e				   DLINDEX    SET	DLINDEX + 1
  11137  f50e					      REPEND
  11138  f50e				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f50f				  -	      ifconst	EXTRADLMEMORY
  11140  f50f				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f50f				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f50f				  -	      else
  11143  f50f				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f50f				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f50f				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f50f				  -	      endif
  11147  f50f				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f50f					      endif		; EXTRADLMEMORY
  11149  f50f							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f50f		       1c		      .byte.b	>TMPMEMADDRESS
  11151  f50f				   DLINDEX    SET	DLINDEX + 1
  11137  f50f					      REPEND
  11138  f50f				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f510				  -	      ifconst	EXTRADLMEMORY
  11140  f510				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f510				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f510				  -	      else
  11143  f510				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f510				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f510				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f510				  -	      endif
  11147  f510				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f510					      endif		; EXTRADLMEMORY
  11149  f510							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f510		       1d		      .byte.b	>TMPMEMADDRESS
  11151  f510				   DLINDEX    SET	DLINDEX + 1
  11137  f510					      REPEND
  11138  f510				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f511				  -	      ifconst	EXTRADLMEMORY
  11140  f511				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f511				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f511				  -	      else
  11143  f511				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f511				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f511				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f511				  -	      endif
  11147  f511				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f511					      endif		; EXTRADLMEMORY
  11149  f511							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f511		       1e		      .byte.b	>TMPMEMADDRESS
  11151  f511				   DLINDEX    SET	DLINDEX + 1
  11137  f511					      REPEND
  11138  f511				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f512				  -	      ifconst	EXTRADLMEMORY
  11140  f512				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f512				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f512				  -	      else
  11143  f512				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f512				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f512				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f512				  -	      endif
  11147  f512				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f512					      endif		; EXTRADLMEMORY
  11149  f512							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f512		       1e		      .byte.b	>TMPMEMADDRESS
  11151  f512				   DLINDEX    SET	DLINDEX + 1
  11137  f512					      REPEND
  11138  f512				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11139  f513				  -	      ifconst	EXTRADLMEMORY
  11140  f513				  -	      if	TMPMEMADDRESS > $1FFF
  11141  f513				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11142  f513				  -	      else
  11143  f513				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11144  f513				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11145  f513				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  11146  f513				  -	      endif
  11147  f513				  -	      endif		; TMPMEMADDRESS > $1FFF
  11148  f513					      endif		; EXTRADLMEMORY
  11149  f513							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  11150  f513		       1f		      .byte.b	>TMPMEMADDRESS
  11151  f513				   DLINDEX    SET	DLINDEX + 1
  11152  f514					      REPEND
  11153  f514
  11154  f514				  -	      ifconst	EXTRADLMEMORY
  11155  f514				  -	      echo	"   ",[SECONDDLHALFSTART],"to",[$27FF],"was claimed as extra DL memory."
  11156  f514					      endif
  11157  f514
  11158  f514
  11159  f514				   DLPOINTL
  11160  f514				   DLINDEX    SET	0
  11161  f514					      REPEAT	WZONECOUNT
  11162  f514				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f514				  -	      ifconst	EXTRADLMEMORY
  11164  f514				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f514				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f514				  -	      else
  11167  f514				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f514				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f514				  -	      endif
  11170  f514				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f514					      endif		; EXTRADLMEMORY
  11172  f514		       80		      .byte.b	<TMPMEMADDRESS
  11173  f514				   DLINDEX    SET	DLINDEX + 1
  11161  f514					      REPEND
  11162  f514				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f515				  -	      ifconst	EXTRADLMEMORY
  11164  f515				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f515				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f515				  -	      else
  11167  f515				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f515				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f515				  -	      endif
  11170  f515				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f515					      endif		; EXTRADLMEMORY
  11172  f515		       20		      .byte.b	<TMPMEMADDRESS
  11173  f515				   DLINDEX    SET	DLINDEX + 1
  11161  f515					      REPEND
  11162  f515				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f516				  -	      ifconst	EXTRADLMEMORY
  11164  f516				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f516				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f516				  -	      else
  11167  f516				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f516				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f516				  -	      endif
  11170  f516				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f516					      endif		; EXTRADLMEMORY
  11172  f516		       c0		      .byte.b	<TMPMEMADDRESS
  11173  f516				   DLINDEX    SET	DLINDEX + 1
  11161  f516					      REPEND
  11162  f516				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f517				  -	      ifconst	EXTRADLMEMORY
  11164  f517				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f517				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f517				  -	      else
  11167  f517				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f517				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f517				  -	      endif
  11170  f517				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f517					      endif		; EXTRADLMEMORY
  11172  f517		       60		      .byte.b	<TMPMEMADDRESS
  11173  f517				   DLINDEX    SET	DLINDEX + 1
  11161  f517					      REPEND
  11162  f517				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f518				  -	      ifconst	EXTRADLMEMORY
  11164  f518				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f518				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f518				  -	      else
  11167  f518				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f518				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f518				  -	      endif
  11170  f518				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f518					      endif		; EXTRADLMEMORY
  11172  f518		       00		      .byte.b	<TMPMEMADDRESS
  11173  f518				   DLINDEX    SET	DLINDEX + 1
  11161  f518					      REPEND
  11162  f518				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f519				  -	      ifconst	EXTRADLMEMORY
  11164  f519				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f519				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f519				  -	      else
  11167  f519				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f519				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f519				  -	      endif
  11170  f519				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f519					      endif		; EXTRADLMEMORY
  11172  f519		       a0		      .byte.b	<TMPMEMADDRESS
  11173  f519				   DLINDEX    SET	DLINDEX + 1
  11161  f519					      REPEND
  11162  f519				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f51a				  -	      ifconst	EXTRADLMEMORY
  11164  f51a				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f51a				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f51a				  -	      else
  11167  f51a				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f51a				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f51a				  -	      endif
  11170  f51a				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f51a					      endif		; EXTRADLMEMORY
  11172  f51a		       40		      .byte.b	<TMPMEMADDRESS
  11173  f51a				   DLINDEX    SET	DLINDEX + 1
  11161  f51a					      REPEND
  11162  f51a				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f51b				  -	      ifconst	EXTRADLMEMORY
  11164  f51b				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f51b				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f51b				  -	      else
  11167  f51b				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f51b				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f51b				  -	      endif
  11170  f51b				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f51b					      endif		; EXTRADLMEMORY
  11172  f51b		       e0		      .byte.b	<TMPMEMADDRESS
  11173  f51b				   DLINDEX    SET	DLINDEX + 1
  11161  f51b					      REPEND
  11162  f51b				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f51c				  -	      ifconst	EXTRADLMEMORY
  11164  f51c				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f51c				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f51c				  -	      else
  11167  f51c				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f51c				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f51c				  -	      endif
  11170  f51c				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f51c					      endif		; EXTRADLMEMORY
  11172  f51c		       80		      .byte.b	<TMPMEMADDRESS
  11173  f51c				   DLINDEX    SET	DLINDEX + 1
  11161  f51c					      REPEND
  11162  f51c				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f51d				  -	      ifconst	EXTRADLMEMORY
  11164  f51d				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f51d				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f51d				  -	      else
  11167  f51d				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f51d				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f51d				  -	      endif
  11170  f51d				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f51d					      endif		; EXTRADLMEMORY
  11172  f51d		       20		      .byte.b	<TMPMEMADDRESS
  11173  f51d				   DLINDEX    SET	DLINDEX + 1
  11161  f51d					      REPEND
  11162  f51d				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f51e				  -	      ifconst	EXTRADLMEMORY
  11164  f51e				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f51e				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f51e				  -	      else
  11167  f51e				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f51e				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f51e				  -	      endif
  11170  f51e				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f51e					      endif		; EXTRADLMEMORY
  11172  f51e		       c0		      .byte.b	<TMPMEMADDRESS
  11173  f51e				   DLINDEX    SET	DLINDEX + 1
  11161  f51e					      REPEND
  11162  f51e				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11163  f51f				  -	      ifconst	EXTRADLMEMORY
  11164  f51f				  -	      if	TMPMEMADDRESS > $1FFF
  11165  f51f				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11166  f51f				  -	      else
  11167  f51f				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11168  f51f				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11169  f51f				  -	      endif
  11170  f51f				  -	      endif		; TMPMEMADDRESS > $1FFF
  11171  f51f					      endif		; EXTRADLMEMORY
  11172  f51f		       60		      .byte.b	<TMPMEMADDRESS
  11173  f51f				   DLINDEX    SET	DLINDEX + 1
  11174  f520					      REPEND
  11175  f520
  11176  f520
  11177  f520				   DLINDEX    SET	0
  11178  f520					      REPEAT	WZONECOUNT
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       18 80	   ZONE0ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       19 20	   ZONE1ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       19 c0	   ZONE2ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1a 60	   ZONE3ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1b 00	   ZONE4ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1b a0	   ZONE5ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1c 40	   ZONE6ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1c e0	   ZONE7ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1d 80	   ZONE8ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1e 20	   ZONE9ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1e c0	   ZONE10ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11178  f520					      REPEND
  11179  f520				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  11180  f520				  -	      ifconst	EXTRADLMEMORY
  11181  f520				  -	      if	TMPMEMADDRESS > $1FFF
  11182  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11183  f520				  -	      else
  11184  f520				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  11185  f520				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  11186  f520				  -	      endif
  11187  f520				  -	      endif		; TMPMEMADDRESS > $1FFF
  11188  f520					      endif		; EXTRADLMEMORY
  11189  f520
  11190  f520		       1f 60	   ZONE11ADDRESS =	TMPMEMADDRESS
  11191  f520				   LASTZONEADDRESS SET	TMPMEMADDRESS
  11192  f520
  11193  f520				   DLINDEX    SET	DLINDEX + 1
  11194  f520					      REPEND
  11195  f520
  11196  f520
     $1880 to $1fff used as zone memory, allowing 31 display objects per zone.
  11197  f520					      echo	"   ",[WDLMEMSTART],"to",[WDLMEMEND],"used as zone memory, allowing",[(DLLASTOBJ/5)]d,"display objects per zone."
  11198  f520
  11199  f520				   DLHEIGHT
  11200  f520					      REPEAT	WZONECOUNT
  11201  f520		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f520					      REPEND
  11201  f521		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f521					      REPEND
  11201  f522		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f522					      REPEND
  11201  f523		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f523					      REPEND
  11201  f524		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f524					      REPEND
  11201  f525		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f525					      REPEND
  11201  f526		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f526					      REPEND
  11201  f527		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f527					      REPEND
  11201  f528		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f528					      REPEND
  11201  f529		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f529					      REPEND
  11201  f52a		       0f		      .byte.b	(WZONEHEIGHT-1)
  11200  f52a					      REPEND
  11201  f52b		       0f		      .byte.b	(WZONEHEIGHT-1)
  11202  f52c					      REPEND
  11203  f52c
  11204  f52c							; Provided under the CC0 license. See the included LICENSE.txt for details.
  11205  f52c
  11206  f52c							; a simple guard, than ensures the 7800basic code hasn't
  11207  f52c							; spilled into the encryption area...
     2642 bytes left in the 7800basic reserved area.
  11208  f52c					      echo	"   ",($FF7E-*)d,"bytes left in the 7800basic reserved area."
  11209  f52c				  -	      if	(*>$FF7D)
  11210  f52c				  -	      echo
  11211  f52c				  -	      echo	"***************************"
  11212  f52c				  -	      echo	"*** Abort: ROM Overflow ***"
  11213  f52c				  -	      echo	"***************************"
  11214  f52c				  -	      ERR		; abort the assembly
  11215  f52c					      endif
  11216  f52c
  11217  f52c							; throw a compile
  11218  f52c				  -	      ifconst	RMT
  11219  f52c				  -	      ifnconst	pokeysupport
  11220  f52c				  -	      echo
  11221  f52c				  -	      echo	"************************************************************"
  11222  f52c				  -	      echo	"*** ABORT: RMT Tracker requires 'set pokeysupport $xxxx' ***"
  11223  f52c				  -	      echo	"************************************************************"
  11224  f52c				  -	      ERR		; abort
  11225  f52c				  -	      endif		; pokeysupport
  11226  f52c				  -	      ifnconst	pokeyaddress
  11227  f52c				  -	      echo
  11228  f52c				  -	      echo	"************************************************************"
  11229  f52c				  -	      echo	"*** ABORT: RMT Tracker requires 'set pokeysupport $xxxx' ***"
  11230  f52c				  -	      echo	"************************************************************"
  11231  f52c				  -	      ERR		; abort
  11232  f52c				  -	      endif		; pokeyaddress
  11233  f52c					      endif
  11234  f52c
  11235  f52c							; Provided under the CC0 license. See the included LICENSE.txt for details.
  11236  f52c
  11237  f52c				  -	      ifconst	DEV
  11238  f52c				  -	      ifnconst	ZONEHEIGHT
  11239  f52c				  -	      echo	"* the 4k 7800basic area has",[($FF7E - *)]d,"bytes free."
  11240  f52c				  -	      else
  11241  f52c				  -	      if	ZONEHEIGHT = 8
  11242  f52c				  -	      echo	"* the 4k 7800basic area has",[($FF7E - *)]d,"bytes free."
  11243  f52c				  -	      else
  11244  f52c				  -	      echo	"* the 4k 7800basic area has",[($FF7E - *)]d,"bytes free."
  11245  f52c				  -	      endif
  11246  f52c				  -	      endif
  11247  f52c					      endif
  11248  f52c
  11249  f52c				  -	      if	START_OF_ROM = .
  11250  f52c				  -	      .byte	0
  11251  f52c					      endif
  11252  f52c				   START_OF_ROM SET	0
  11253  f52c
  11254  f52c							; FF7E/FF7F contains the 7800basic crc checksum word
  11255  f52c
  11256  f52c							; FF80 - FFF7 contains the 7800 encryption key
  11257  f52c
  11258  f52c					      ifnconst	bankswitchmode
  11259  fff8					      ORG	$FFF8
  11260  fff8				  -	      else
  11261  fff8				  -	      ifconst	ROM128K
  11262  fff8				  -	      ORG	$27FF8
  11263  fff8				  -	      RORG	$FFF8
  11264  fff8				  -	      endif
  11265  fff8				  -	      ifconst	ROM144K
  11266  fff8				  -	      ORG	$27FF8
  11267  fff8				  -	      RORG	$FFF8
  11268  fff8				  -	      endif
  11269  fff8				  -	      ifconst	ROM256K
  11270  fff8				  -	      ORG	$47FF8
  11271  fff8				  -	      RORG	$FFF8
  11272  fff8				  -	      endif
  11273  fff8				  -	      ifconst	ROM272K
  11274  fff8				  -	      ORG	$47FF8
  11275  fff8				  -	      RORG	$FFF8
  11276  fff8				  -	      endif
  11277  fff8				  -	      ifconst	ROM512K
  11278  fff8				  -	      ORG	$87FF8
  11279  fff8				  -	      RORG	$FFF8
  11280  fff8				  -	      endif
  11281  fff8				  -	      ifconst	ROM528K
  11282  fff8				  -	      ORG	$87FF8
  11283  fff8				  -	      RORG	$FFF8
  11284  fff8				  -	      endif
  11285  fff8					      endif
  11286  fff8
  11287  fff8
  11288  fff8		       ff		      .byte.b	$FF	; region verification. $FF=all regions
  11289  fff9		       f7		      .byte.b	$F7	; high nibble:  encryption check from $N000 to $FF7F. we only hash the last 4k for faster boot.
  11290  fffa							; low nibble :  N=7 atari rainbow start, N=3 no atari rainbow
  11291  fffa
  11292  fffa							;Vectors
  11293  fffa		       00 f0		      .word.w	NMI
  11294  fffc		       8a f4		      .word.w	START
  11295  fffe		       5f f0		      .word.w	IRQ
  11296  10000
